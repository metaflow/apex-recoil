!function r(o,i,a){function s(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return s(o[e][1][t]||t)},n,n.exports,r,o,i,a)}return i[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setupEditor=void 0;var r=t("tslib"),s=r.__importDefault(t("hotkeys-js")),l=r.__importDefault(t("konva")),y=t("./main"),p=t("./point");function f(t){var e=document.getElementById("text");e&&(e.innerText=t)}n.setupEditor=function(){var t;console.log("setup editor"),y.attrNamespace("editor"),y.initAttr("dx","100"),y.initAttr("dy","100"),y.initAttr("weapon","r301"),y.initAttr("sens","5.0"),y.initAttr("stock","0"),y.initAttr("barrel","0"),y.attrInput("weapon"),y.attrInput("barrel"),y.attrInput("stock"),y.attrInput("comment"),y.attrInput("sens"),y.attrInput("dx"),y.attrInput("dy"),y.layer.add(new l.default.Line({stroke:"white",strokeWidth:1,points:[10,10,1010,10]}));var e=new l.default.Line({stroke:"white",strokeWidth:1,points:[]});y.layer.add(e),y.watchAttr("imagedata",function(t){""!==t&&l.default.Image.fromURL(t,function(t){null!=n&&n.remove(),(n=t).setAttrs({x:50,y:50}),y.layer.add(n);t=800/n.height();console.log(n.width(),n.height()),n.scaleX(t),n.scaleY(t),n.zIndex(0),u.forEach(function(t){return t.remove()}),u=[],d.clear(),o(),y.stage.batchDraw()})}),y.watchAttr("comment",function(t){var e=document.getElementById("comment");null!=e&&(e.value=t)});var u=[],d=new Set,n=null,r=document.getElementById("file-selector");null!=r&&r.addEventListener("change",function(){var t,e=r.files;null==e||(t=e.item(0))&&(y.setAttr("comment",t.name),null!=(e=t.name.match(/(\d+) (\d+)\.png/))&&(y.setAttr("dx",e[1]),y.setAttr("dy",e[2])),(e=new FileReader).addEventListener("load",function(t){y.setAttr("imagedata",(null===(t=t.target)||void 0===t?void 0:t.result)||"")}),e.readAsDataURL(t))}),y.stage.on("mousedown",function(t){var e=new l.default.Circle({radius:6,stroke:"white",strokeWidth:1,position:y.cursor().plain(),draggable:!0}),n=u.length;e.on("dragend",function(){o(),y.stage.batchDraw()}),e.on("mousedown",function(t){1==t.evt.button&&(d.has(n)?(d.delete(n),e.stroke("white")):(d.add(n),e.stroke("red")),i()),t.cancelBubble=!0}),u.push(e),o(),y.layer.add(e),y.stage.batchDraw()});var o=function(){e.points(u.flatMap(function(t){return[t.position().x,t.position().y]})),i()},i=function(t){var e=document.getElementById("count");e&&(e.innerText=u.length+" points");var n,r,o,i,a,s=Number(y.getAttr("cpi")),l=Number(y.getAttr("sens")),h=Number(y.getAttr("dx")),c=Number(y.getAttr("dy"));isNaN(s)||isNaN(l)||isNaN(h)||isNaN(c)?f("invalid value of one of the params"):(i=new p.Point(h,c),2==d.size?(n=Array.from(d.values()),s=new p.Point(u[n[0]].position()),n=new p.Point(u[n[1]].position()),r=u.map(function(t){return new p.Point(t.position())}),o=.1*l*i.length()/s.distance(n),e&&(i=Math.round(i.length()/s.distance(n)*100)/100,h=Math.round(h/Math.abs(s.x-n.x)*100)/100,a=Math.round(c/Math.abs(s.y-n.y)*100)/100,e.innerText=u.length+" points\nscale "+i+" X "+h+" Y "+a),r.forEach(function(t){return t.s(o)}),a={weapon:y.getAttr("weapon"),barrel:y.getAttr("barrel"),stock:y.getAttr("stock"),comment:y.getAttr("comment"),points:r.map(function(t){t=t.clone().sub(r[0]).plain();return t.x=Math.round(100*t.x)/100,t.y=Math.round(100*t.y)/100,t})},f(JSON.stringify(a))):f("mark exactly two anchors"))};function a(){var t=u.pop();null!=t&&(t.remove(),d.delete(u.length),o(),y.stage.batchDraw())}y.watchAttr("cpi",i),y.watchAttr("sens",i),y.watchAttr("dx",i),y.watchAttr("dy",i),y.watchAttr("weapon",i),y.watchAttr("barrel",i),y.watchAttr("stock",i),y.watchAttr("comment",i),s.default("ctrl+z",a),null!==(t=document.getElementById("undo"))&&void 0!==t&&t.addEventListener("click",a)}},{"./main":3,"./point":4,"hotkeys-js":21,konva:63,tslib:85}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setupGame=void 0;var r=t("tslib"),R=t("@ctrl/tinycolor"),a=t("howler"),E=r.__importDefault(t("konva")),N=t("./main"),D=t("./point"),h=r.__importDefault(t("./recoils.json")),c=r.__importDefault(t("./specs.json")),L=r.__importDefault(t("../theme.json")),u=r.__importDefault(t("stats-lite")),d=r.__importDefault(t("tinygradient"));function U(o){for(var t=o[0],e=t.points.length,i={weapon:t.weapon,barrel:t.barrel,stock:t.stock,comment:"median",points:[{x:0,y:0}]},n=1;n<e;n++)!function(e){var n=[],r=[];o.forEach(function(t){t=new D.Point(t.points[e]).sub(new D.Point(t.points[e-1]));n.push(t.x),r.push(t.y)});var t=i.points[e-1];i.points.push({x:u.default.median(n)+t.x,y:u.default.median(r)+t.y})}(n);return i}var y=[];function p(){return{weapon:N.getAttr("weapon"),mag:N.getAttr("mag"),barrel:N.getAttr("barrel"),stock:N.getAttr("stock"),hint:N.getAttr("hint"),pacer:""+("true"==N.getAttr("pacer")&&"true"==N.getAttr("hint")),randomTrace:N.getAttr("random-trace")}}function f(e){return y.find(function(t){return JSON.stringify(t.setup)==JSON.stringify(e)})}function B(t){var e,n=f(p()),e=100*(100*(e=new Date).getFullYear()+e.getMonth())+e.getDay();return void 0===n&&(n={setup:p(),bestAllTime:0,days:[],bestByDay:[],medianByDay:[],last:0,today:e,todayResults:[]},y.push(n)),n.today!=e&&(0<n.todayResults.length&&(n.days.push(n.today),n.bestByDay.push(u.default.percentile(n.todayResults,1)),n.medianByDay.push(u.default.median(n.todayResults))),n.today=e,n.todayResults=[]),n.todayResults.push(t),n.last=t,n.bestAllTime=Math.max(n.bestAllTime,t),N.setAttr("stats",JSON.stringify(y)),n}n.setupGame=function(){var t;function e(){var t;"true"!=N.getAttr("mute")&&(null!=(t=l.get(N.getAttr("weapon")))?(t="./audio/"+t.mags[Number(N.getAttr("mag"))].audio+".mp3",n!=t&&(n=t,o=new a.Howl({src:n}))):console.log("weapon",N.getAttr("weapon"),"not found"))}N.attrNamespace("game:"),N.initAttr("sens","5"),N.initAttr("weapon","r99"),N.initAttr("stock","0"),N.initAttr("barrel","0"),N.initAttr("mag","0"),N.initAttr("stats","[]"),N.initAttr("volume","20"),N.initAttr("mute","false"),N.initAttr("hint","true"),N.initAttr("pacer","true"),N.initAttr("random-trace","false"),N.initAttr("show-instructions","true"),N.initAttr("trace-mode","0"),N.initAttr("toggle-modes","false"),N.watchAttr("show-instructions",function(t){var e=document.getElementById("instructions");e&&(e.style.display="true"==t?"block":"none")}),null!=(t=document.getElementById("dismiss-instructions"))&&t.addEventListener("click",function(t){return t.preventDefault(),t.stopPropagation(),N.setAttr("show-instructions","false"),!1}),null!=(t=document.getElementById("show-instructions"))&&t.addEventListener("click",function(t){return t.preventDefault(),t.stopPropagation(),N.setAttr("show-instructions","true"),!1}),y=JSON.parse(N.getAttr("stats")),N.attrInput("sens"),N.attrInput("hint"),N.attrInput("pacer"),N.attrInput("volume"),N.attrInput("random-trace"),N.attrInput("mute"),N.attrInput("toggle-modes");var P=[],T=[],F=[],s=h.default.map(function(t){return{weapon:t.weapon,barrel:t.barrel,stock:t.stock,points:t.points,comment:t.comment}}),o=null,n="";N.watchAttr(["weapon","mag","mute"],e),N.watchAttr(["weapon","stock","barrel","barrel","sens","random-trace","mag"],function(){O();var o,i,e=N.getAttr("weapon"),n=N.getAttr("stock"),r=N.getAttr("barrel"),t=l.get(e),a=Number(N.getAttr("sens"));!Number.isFinite(a)||a<.1||(null!=t?(o=t.mags[Number(N.getAttr("mag"))].size,0!=(t=s.filter(function(t){return t.weapon==e&&t.barrel==r&&t.stock==n})).length?(i=new R.TinyColor("white").darken(50),(t="false"==N.getAttr("random-trace")?[U(t)]:t).forEach(function(t,e){var n,r;t.points.length<o?console.error("missing points",t.comment,t.points.length):(n=new D.Point((150+200*e)/a,50),r=[],e=new E.default.Line({points:[],stroke:i.toString(),strokeWidth:.5}),P.push(e),N.layer.add(e),t.points.forEach(function(t,e){o<=e||(t=new D.Point(t).s(1/a),t=n.clone().sub(t),r.push(t.x,t.y),t=new E.default.Circle({radius:2,fill:i.toString(),position:t}),P.push(t),N.layer.add(t))}),e.points(r))}),N.stage.batchDraw()):console.error("no recoils for "+e+" "+n+" "+r)):console.error("weapon",N.getAttr("weapon"),"not found"))});var l=new Map;c.default.forEach(function(t){l.set(t.name,{name:t.name,rpm:t.rpm,mags:t.mags.map(function(t){return{size:t.size,audio:t.audio}})});var e=document.querySelector("#weapon-select ."+t.name);null!=e&&e.addEventListener("click",function(){N.setAttr("weapon",t.name)})}),N.watchAttr("weapon",function(t){var e=document.querySelector("#weapon-select .selected");null!=e&&e.classList.remove("selected");t=document.querySelector("#weapon-select ."+t);null!=t&&t.classList.add("selected")});for(var r=0;r<=3;r++)!function(t){var e=document.querySelector("#mag-select .mag-"+t);null!=e?e.addEventListener("click",function(){N.setAttr("mag",t+"")}):console.error("#mag-select .mag-"+t,"not found")}(r);for(N.watchAttr("mag",function(t){var e=document.querySelector("#mag-select .selected");null!=e&&e.classList.remove("selected");t=document.querySelector("#mag-select .mag-"+t);null!=t&&t.classList.add("selected")}),r=0;r<=3;r++)!function(t){var e=document.querySelector("#attachment-select .attachment-"+t);null!=e?e.addEventListener("click",function(){N.setAttr("stock",t+""),N.setAttr("barrel",t+"")}):console.error("#attachment-select .attachment-"+t,"not found")}(r);function M(){var n;0!=F.length&&(n=Number(N.getAttr("trace-mode"))%F.length,F.forEach(function(t,e){return t.forEach(function(t){return t.visible(e==n)})}))}N.watchAttr("barrel",function(t){var e=document.querySelector("#attachment-select .selected");null!=e&&e.classList.remove("selected");t=document.querySelector("#attachment-select .attachment-"+t);null!=t&&t.classList.add("selected")}),N.watchAttr(["stats","mag","weapon","barrel","stock","hint","pacer","random-trace"],function(){var t=f(p()),e=document.getElementById("current-score");e&&(e.innerText=t?""+t.last:"-");e=document.getElementById("score-stats");e&&(e.innerText=t?"Today's median "+Math.round(u.default.median(t.todayResults))+", best "+u.default.percentile(t.todayResults,1)+"\nAll time best "+t.bestAllTime:"Today's median -, best -\nAll time best -")});var O=function(){P.forEach(function(t){return t.remove()}),P=[],F=[]},G=d.default(["red","yellow","green"]),I=!1;function i(){var h,c,u,d,n,y,p,f,x,g,_,m,v,b,w,r,S,t,A,k,C;I||(null!=(h=function(){var e=N.getAttr("weapon"),n=N.getAttr("stock"),r=N.getAttr("barrel"),t=s.filter(function(t){return t.weapon==e&&t.barrel==r&&t.stock==n});if(0==t.length)return console.error("no recoils for",e,n,r),null;var o=Math.floor(Math.random()*t.length);return"true"==N.getAttr("random-trace")?t[o]:U(t)}())?(O(),F.push([]),F.push([]),F.push([]),null!=(c=N.cursor())&&(u=new D.Point(N.stage.getPointerPosition()),d=0,null!=(t=l.get(N.getAttr("weapon")))?(N.suspendAttrUpdates(),I=!0,n=6e4/t.rpm,y=Number(N.getAttr("sens")),p=(null===(t=t.mags[Number(N.getAttr("mag"))])||void 0===t?void 0:t.size)||1,f=[],"true"!=N.getAttr("mute")&&(null!=o&&o.volume(Number(N.getAttr("volume"))/100),null!=o&&o.play()),x="true"==N.getAttr("hint"),g="true"==N.getAttr("pacer")&&x,x?N.stage.container().classList.remove("no-cursor"):N.stage.container().classList.add("no-cursor"),_=new E.default.Circle({radius:3,stroke:new R.TinyColor("red").desaturate(50).toString(),strokeWidth:2,position:c.plain(),visible:g}),N.layer.add(_),P.push(_),t=new E.default.Circle({radius:6,stroke:new R.TinyColor("green").desaturate(50).toString(),strokeWidth:2,position:c.plain()}),N.layer.add(t),P.push(t),m=new E.default.Circle,v=[],b=[],w=[],r=[],S=[],h.points.forEach(function(t,e){p<=e||(t=new D.Point(t).s(1/y),w.push(e*n),e=c.clone().sub(t),t=new E.default.Circle({radius:g?10:1,stroke:new R.TinyColor(L.default.foreground).shade(50).toString(),strokeWidth:1,position:e,visible:x}),r.push(e.x,e.y),T.push(t),S.push(t),P.push(t),N.layer.add(t))}),t=new E.default.Line({points:r,stroke:new R.TinyColor(L.default.foreground).darken(50).toString(),strokeWidth:.5,visible:x}),P.push(t),T.push(t),N.layer.add(t),A=-1,k=[],(C=new E.default.Animation(function(t){var e;k.push(t.frameRate);var n=!1;if(t.time>w[A+1]){A++;for(var n=!0,r=0;r<=A;r++)null!==(e=S[r])&&void 0!==e&&e.radius(1);var o=new D.Point(h.points[A]).s(1/y),i=new D.Point(N.stage.getPointerPosition()).sub(u).add(c),a=i.clone().add(o),s=c.clone().sub(o);_.position(s.plain());var o=new D.Point(a).distance(c)*y,o=(o=o,Math.max(0,(1/(1+o/20)-1/11)/(1-1/11)));f.push(o),d+=o;o=(o=G.rgbAt(o)).desaturate(50);null!=m&&m.radius(2),m=new E.default.Circle({radius:4,fill:o.toString(),position:a}),v.push(m),P.push(m),F[0].push(m),N.layer.add(m);a=new E.default.Circle({radius:2,fill:o.toString(),position:i.plain(),visible:!1});N.layer.add(a),P.push(a),F[1].push(a);o=new E.default.Line({points:[i.x,i.y,s.x,s.y],stroke:o.toString(),strokeWidth:1,visible:!1});P.push(o),F[2].push(o),N.layer.add(o),b.push(i),p<=A+1&&(I=!1,N.resumeAttrUpdates(),C.stop(),B(i=Math.round(100*d/p)),T.forEach(function(t){return t.visible(!0)}),m.radius(2),_.visible(!1),(i=new E.default.Text({text:""+i,fontSize:20,fill:G.rgbAt(d/p).toString()})).position(c.add(new D.Point(20,-10)).plain()),P.push(i),N.layer.add(i),M(),N.stage.container().classList.remove("no-cursor"),"true"==N.getAttr("toggle-modes")&&N.setAttr("hint",""+!x))}if(g){n=!0;for(r=A+1;r<p;r++){var l=w[r]-t.time;S[r].radius(Math.max(1,Math.min(10,l/30)/y))}}return n},N.layer)).start(),N.stage.batchDraw()):console.log("weapon",N.getAttr("weapon"),"not found"))):console.log("no recoil selected"))}N.watchAttr("trace-mode",function(){M(),N.stage.batchDraw()}),N.stage.on("mousedown",function(t){switch(e(),t.evt.button){case 0:i();break;case 1:N.setAttr("trace-mode",""+(Number(N.getAttr("trace-mode"))+1))}})}},{"../theme.json":86,"./main":3,"./point":4,"./recoils.json":5,"./specs.json":6,"@ctrl/tinycolor":14,howler:22,konva:63,"stats-lite":82,tinygradient:84,tslib:85}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.attrInput=n.pokeAttrs=n.watchAttr=n.watchAttrs=n.setAttr=n.resumeAttrUpdates=n.suspendAttrUpdates=n.initAttr=n.getAttr=n.attrNamespace=n.appInitialized=n.cursor=n.layer=n.stage=void 0;var r=t("tslib").__importDefault(t("konva")),o=t("./point"),i=t("./game"),t=t("./editor");n.stage=new r.default.Stage({container:"stage",width:window.screen.width,height:window.screen.height}),n.layer=new r.default.Layer({listening:!1}),n.stage.add(n.layer),n.layer.scaleX(1),n.layer.scaleY(1),n.cursor=function(){var t=n.stage.getPointerPosition();return null==t&&(t={x:0,y:0}),new o.Point(n.layer.getTransform().copy().invert().point(t))};var a="",s=[];function l(t){return a=null!=t?t:a}function h(t){return localStorage.getItem(l()+":"+t)||""}n.appInitialized=!1,n.attrNamespace=l,n.getAttr=h,n.initAttr=function(t,e){t=l()+":"+t,null==localStorage.getItem(t)&&localStorage.setItem(t,e)};var c=!0;function u(e,n){localStorage.setItem(l()+":"+e,n),c&&s.forEach(function(t){return t(l()+":"+e,n)})}function d(i,a){"string"==typeof i&&(i=[i]),s.push(function(t,e){for(var n=0,r=i;n<r.length;n++){var o=r[n];t==l()+":"+o&&a(e)}})}function y(){for(var t=0;t<localStorage.length;t++)!function(t){var e=localStorage.key(t);if(null==e)return;s.forEach(function(t){return t(e,localStorage.getItem(e)||"")})}(t)}n.suspendAttrUpdates=function(){c=!1},n.resumeAttrUpdates=function(){c=!0},n.setAttr=u,n.watchAttrs=function(t){s.push(t)},n.watchAttr=d,n.pokeAttrs=y,n.attrInput=function(t){var e=document.getElementById(t);if(null!=e)return e.value=h(t),"text"==e.type||"range"==e.type?(e.onkeyup=e.onchange=function(){u(t,e.value)},void d(t,function(t){e.value=t})):"checkbox"==e.type?(e.onchange=function(){u(t,e.checked+"")},void d(t,function(t){e.checked=t==!0+""})):void console.error("unknown input type",e.type)},console.log(window.location.pathname),"/editor"===window.location.pathname?t.setupEditor():i.setupGame(),y(),n.appInitialized=!0,n.stage.batchDraw()},{"./editor":1,"./game":2,"./point":4,konva:63,tslib:85}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Point=n.PlainPoint=void 0;var r=t("./utils");n.PlainPoint=function(){this.x=0,this.y=0};o.prototype.align=function(t){return null==t||(this.x=Math.round(this.x/t)*t,this.y=Math.round(this.y/t)*t),this},o.prototype.clone=function(){return new this.constructor(this.x,this.y)},o.prototype.s=function(t){return this.x=this.x*t,this.y=this.y*t,this},o.prototype.sub=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this},o.prototype.add=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this},o.prototype.plain=function(){return{x:this.x,y:this.y}},o.prototype.array=function(){return[this.x,this.y]},o.prototype.distance=function(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)},o.prototype.closeTo=function(t){return this.distance(t)<.1},o.prototype.atan2=function(){return Math.atan2(this.x,this.y)},o.prototype.dot=function(t){return this.x*t.x+this.y*t.y},o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t=o;function o(t,e){if(this.x=0,this.y=0,(t=null==t?0:t)instanceof o)return this.x=t.x,void(this.y=t.y);var n=t;if(null!=n.x&&null!=n.y)return this.x=n.x,void(this.y=n.y);"number"==typeof t?this.x=t:r.error(t,"is not a valid init value for point"),this.y=e=null==e?0:e}n.Point=t},{"./utils":7}],5:[function(t,e,n){e.exports=[{weapon:"r301",barrel:"0",stock:"0",comment:"no 1 638 2051.png",points:[{x:0,y:0},{x:20.86,y:-30.63},{x:22.64,y:-75.9},{x:38.62,y:-107.86},{x:32.85,y:-137.59},{x:37.73,y:-166.44},{x:30.63,y:-189.08},{x:28.41,y:-203.28},{x:44.83,y:-209.5},{x:59.03,y:-216.16},{x:77.67,y:-216.6},{x:88.77,y:-223.26},{x:87.88,y:-246.78},{x:63.47,y:-255.22},{x:41.28,y:-266.76},{x:26.63,y:-262.76},{x:6.21,y:-256.99},{x:-3.99,y:-258.77},{x:-18.2,y:-270.31},{x:-5.33,y:-270.75},{x:-1.33,y:-282.73},{x:12.87,y:-279.18},{x:36.4,y:-275.19},{x:54.59,y:-277.41},{x:78.56,y:-261.43},{x:98.54,y:-262.32},{x:98.98,y:-270.31},{x:89.21,y:-287.17}]},{weapon:"r301",barrel:"0",stock:"0",comment:"no 2 288 2180.png",points:[{x:0,y:0},{x:8.94,y:-22.79},{x:12.96,y:-58.55},{x:25.92,y:-85.37},{x:17.43,y:-122.91},{x:25.92,y:-159.12},{x:26.82,y:-174.76},{x:23.69,y:-197.11},{x:28.61,y:-209.62},{x:40.23,y:-226.61},{x:53.63,y:-213.64},{x:63.02,y:-230.63},{x:57.21,y:-248.95},{x:37.1,y:-273.09},{x:14.3,y:-279.79},{x:-4.02,y:-278.01},{x:-23.69,y:-275.32},{x:-41.12,y:-265.94},{x:-54.98,y:-274.43},{x:-54.53,y:-279.79},{x:-45.14,y:-278.01},{x:-23.24,y:-284.26},{x:-.45,y:-282.92},{x:5.36,y:-286.5},{x:21.45,y:-286.95},{x:36.2,y:-282.92},{x:45.14,y:-302.59},{x:39.78,y:-305.27}]},{weapon:"r301",barrel:"0",stock:"0",comment:"no 3 683 2266.png",points:[{x:0,y:0},{x:21.38,y:-40.09},{x:18.26,y:-84.63},{x:39.2,y:-110.02},{x:33.41,y:-154.57},{x:40.53,y:-181.29},{x:42.76,y:-202.23},{x:44.99,y:-220.49},{x:63.25,y:-226.73},{x:65.48,y:-240.54},{x:85.08,y:-229.4},{x:93.99,y:-248.11},{x:86.41,y:-265.48},{x:77.51,y:-269.49},{x:72.61,y:-277.95},{x:54.79,y:-270.82},{x:29.4,y:-280.62},{x:14.7,y:-269.93},{x:14.25,y:-280.62},{x:15.14,y:-293.1},{x:35.63,y:-306.91},{x:56.12,y:-302.45},{x:61.92,y:-304.68},{x:66.82,y:-294.88},{x:73.05,y:-293.99},{x:88.64,y:-302.01},{x:83.3,y:-309.58},{x:94.43,y:-317.6}]},{weapon:"r301",barrel:"0",stock:"0",comment:"no 4 543 2219.png",points:[{x:0,y:0},{x:-2.04,y:-42.83},{x:22.95,y:-68.84},{x:16.32,y:-115.24},{x:15.81,y:-151.96},{x:6.12,y:-161.14},{x:4.08,y:-165.73},{x:8.16,y:-167.77},{x:25.5,y:-165.73},{x:41.3,y:-177.96},{x:68.84,y:-167.26},{x:79.55,y:-173.88},{x:74.96,y:-190.71},{x:62.21,y:-206.01},{x:38.24,y:-224.37},{x:21.42,y:-218.25},{x:-6.12,y:-214.17},{x:-10.71,y:-206.01},{x:-15.81,y:-232.53},{x:-18.87,y:-261.59},{x:4.59,y:-277.4},{x:23.97,y:-283.01},{x:42.83,y:-281.99},{x:43.85,y:-269.24},{x:68.33,y:-279.44},{x:81.08,y:-294.23},{x:79.04,y:-302.39},{x:78.53,y:-310.04}]},{weapon:"r301",barrel:"0",stock:"0",comment:"no 5 648 2284.png",points:[{x:0,y:0},{x:17.84,y:-35.68},{x:13.38,y:-76.72},{x:31.22,y:-98.57},{x:26.32,y:-132.92},{x:28.1,y:-165.48},{x:26.76,y:-173.95},{x:31.22,y:-184.66},{x:46.39,y:-197.59},{x:51.74,y:-215.44},{x:71.37,y:-214.1},{x:70.92,y:-225.7},{x:49.96,y:-232.39},{x:37.91,y:-240.86},{x:23.19,y:-237.29},{x:11.6,y:-249.78},{x:-20.07,y:-254.24},{x:-23.64,y:-260.93},{x:-13.83,y:-263.61},{x:-15.61,y:-273.87},{x:-5.8,y:-281.45},{x:15.17,y:-291.71},{x:40.14,y:-292.6},{x:61.55,y:-294.83},{x:78.06,y:-296.17},{x:94.56,y:-303.75},{x:103.03,y:-304.64},{x:90.55,y:-319.81}]},{weapon:"r301",barrel:"1",stock:"1",comment:"white 1 153 2241.png",points:[{x:0,y:0},{x:7.57,y:-38.76},{x:3.56,y:-79.31},{x:20.05,y:-111.39},{x:21.39,y:-143.92},{x:31.64,y:-173.77},{x:28.96,y:-183.13},{x:28.52,y:-198.72},{x:45.89,y:-202.73},{x:56.59,y:-211.65},{x:77.08,y:-201.4},{x:77.08,y:-217.88},{x:63.27,y:-235.71},{x:37.43,y:-248.18},{x:16.04,y:-251.75},{x:1.78,y:-259.32},{x:-18.71,y:-252.19},{x:-40.1,y:-246.84},{x:-49.01,y:-249.96},{x:-45.45,y:-253.53},{x:-26.73,y:-268.23},{x:-11.14,y:-278.03},{x:4.01,y:-279.37},{x:8.91,y:-286.05},{x:20.05,y:-285.61},{x:24.95,y:-285.61},{x:32.97,y:-300.31},{x:22.28,y:-313.68}]},{weapon:"r301",barrel:"1",stock:"1",comment:"white 1 327 2351.png",points:[{x:0,y:0},{x:19.65,y:-23.22},{x:20.99,y:-67.43},{x:36.62,y:-94.22},{x:31.26,y:-135.75},{x:34.38,y:-164.78},{x:32.6,y:-182.64},{x:41.98,y:-199.16},{x:47.78,y:-207.2},{x:61.18,y:-221.04},{x:77.7,y:-212.11},{x:86.18,y:-225.96},{x:76.81,y:-232.21},{x:62.07,y:-249.18},{x:42.42,y:-259.45},{x:20.09,y:-255.43},{x:.89,y:-266.15},{x:-3.13,y:-271.06},{x:-15.63,y:-277.76},{x:-16.08,y:-282.22},{x:2.68,y:-300.98},{x:12.06,y:-307.23},{x:22.33,y:-319.73},{x:28.13,y:-321.07},{x:32.6,y:-324.2},{x:38.4,y:-316.61},{x:43.76,y:-317.95},{x:46,y:-329.11}]},{weapon:"r301",barrel:"1",stock:"1",comment:"white 2 383 2101.png",points:[{x:0,y:0},{x:12.91,y:-27.15},{x:7.12,y:-63.64},{x:20.47,y:-90.79},{x:15.13,y:-120.61},{x:14.24,y:-150.43},{x:12.91,y:-164.22},{x:13.35,y:-179.36},{x:29.37,y:-186.48},{x:33.38,y:-193.6},{x:52.07,y:-194.93},{x:53.85,y:-209.62},{x:34.71,y:-226.09},{x:17.8,y:-247.45},{x:12.02,y:-261.69},{x:2.67,y:-259.46},{x:-20.47,y:-259.46},{x:-36.94,y:-255.01},{x:-31.15,y:-268.37},{x:-18.25,y:-285.28},{x:-8.9,y:-295.96},{x:5.79,y:-291.51},{x:14.69,y:-295.51},{x:17.36,y:-283.94},{x:30.26,y:-279.49},{x:48.96,y:-270.59},{x:58.75,y:-279.49},{x:53.41,y:-294.18}]},{weapon:"r301",barrel:"1",stock:"1",comment:"white 3 421 2239.png",points:[{x:0,y:0},{x:9.85,y:-38.06},{x:3.58,y:-80.6},{x:16.12,y:-105.67},{x:15.22,y:-140.15},{x:16.57,y:-171.94},{x:15.67,y:-180.45},{x:15.67,y:-189.85},{x:29.55,y:-190.74},{x:42.54,y:-204.18},{x:55.07,y:-197.01},{x:63.58,y:-213.13},{x:58.66,y:-220.3},{x:47.91,y:-228.8},{x:36.72,y:-228.36},{x:13.88,y:-245.37},{x:-8.06,y:-248.95},{x:-23.28,y:-241.79},{x:-20.15,y:-258.36},{x:-7.16,y:-282.09},{x:6.72,y:-289.7},{x:25.97,y:-278.06},{x:30.9,y:-293.73},{x:44.33,y:-291.04},{x:67.16,y:-293.28},{x:67.61,y:-297.76},{x:60,y:-308.06},{x:59.1,y:-313.43}]},{weapon:"r301",barrel:"1",stock:"1",comment:"white 5 713 2012.png",points:[{x:0,y:0},{x:6.69,y:-24.96},{x:10.7,y:-60.62},{x:34.77,y:-94.49},{x:32.54,y:-129.26},{x:37,y:-157.34},{x:33.43,y:-168.93},{x:33.87,y:-183.19},{x:48.14,y:-192.55},{x:63.29,y:-201.91},{x:74.44,y:-194.34},{x:83.35,y:-204.59},{x:70.42,y:-219.74},{x:60.62,y:-228.66},{x:46.36,y:-236.68},{x:37,y:-250.05},{x:23.62,y:-246.48},{x:9.81,y:-242.03},{x:12.03,y:-253.17},{x:20.06,y:-274.57},{x:35.66,y:-284.82},{x:57.94,y:-276.35},{x:68.2,y:-272.78},{x:70.42,y:-276.79},{x:85.13,y:-262.09},{x:93.16,y:-275.01},{x:99.84,y:-271},{x:98.5,y:-282.14}]},{weapon:"r301",barrel:"2",stock:"2",comment:"blue 1 141 2135.png",points:[{x:0,y:0},{x:4.89,y:-32.92},{x:-1.33,y:-66.29},{x:15.57,y:-90.31},{x:16.02,y:-120.57},{x:19.58,y:-147.26},{x:22.69,y:-162.83},{x:23.13,y:-176.62},{x:28.03,y:-186.85},{x:35.59,y:-193.53},{x:52.05,y:-194.42},{x:58.28,y:-201.09},{x:44.93,y:-210.88},{x:22.24,y:-227.78},{x:.89,y:-234.01},{x:-11.57,y:-242.91},{x:-31.59,y:-238.02},{x:-38.71,y:-234.01},{x:-38.71,y:-245.14},{x:-39.6,y:-255.81},{x:-35.15,y:-261.6},{x:-18.24,y:-258.04},{x:-.44,y:-266.05},{x:.89,y:-272.27},{x:20.02,y:-270.94},{x:31.59,y:-278.06},{x:29.81,y:-290.51},{x:18.69,y:-298.97}]},{weapon:"r301",barrel:"2",stock:"2",comment:"blue 2 166 1902.png",points:[{x:0,y:0},{x:7.56,y:-35.57},{x:8,y:-73.36},{x:22.68,y:-100.93},{x:24.9,y:-124.94},{x:27.57,y:-152.06},{x:32.01,y:-166.29},{x:33.35,y:-180.07},{x:40.91,y:-188.52},{x:57.36,y:-195.19},{x:55.13,y:-202.3},{x:48.46,y:-199.19},{x:40.46,y:-207.19},{x:28.46,y:-218.31},{x:20.01,y:-216.98},{x:0,y:-215.64},{x:-19.12,y:-216.98},{x:-28.9,y:-213.42},{x:-37.35,y:-217.42},{x:-33.35,y:-226.76},{x:-28.46,y:-227.65},{x:-24.9,y:-238.32},{x:-19.12,y:-250.77},{x:-18.67,y:-258.77},{x:-1.33,y:-258.77},{x:13.78,y:-262.33},{x:17.34,y:-266.33},{x:22.68,y:-266.33}]},{weapon:"r301",barrel:"2",stock:"2",comment:"blue 3 378 2334.png",points:[{x:0,y:0},{x:7.99,y:-33.28},{x:.44,y:-74.54},{x:15.09,y:-96.28},{x:18.19,y:-135.32},{x:23.07,y:-157.95},{x:21.3,y:-171.26},{x:25.73,y:-185.46},{x:37.27,y:-192.56},{x:42.15,y:-207.64},{x:60.34,y:-202.76},{x:62.56,y:-218.29},{x:57.68,y:-228.5},{x:48.36,y:-249.35},{x:41.71,y:-249.35},{x:29.28,y:-251.12},{x:9.32,y:-252.01},{x:-7.54,y:-248.46},{x:-6.66,y:-259.11},{x:.44,y:-277.3},{x:2.66,y:-294.16},{x:17.75,y:-301.7},{x:27.06,y:-306.58},{x:31.06,y:-310.13},{x:39.93,y:-306.14},{x:56.35,y:-304.81},{x:51.47,y:-312.79},{x:51.47,y:-326.99}]},{weapon:"r301",barrel:"2",stock:"2",comment:"blue 4 251 2293.png",points:[{x:0,y:0},{x:16.94,y:-31.66},{x:21.4,y:-65.55},{x:34.78,y:-88.29},{x:32.55,y:-125.3},{x:32.55,y:-155.18},{x:31.21,y:-174.8},{x:28.54,y:-191.3},{x:42.81,y:-199.32},{x:53.96,y:-213.59},{x:74.91,y:-214.93},{x:77.59,y:-222.51},{x:75.36,y:-239.01},{x:57.08,y:-262.64},{x:50.39,y:-276.02},{x:28.09,y:-284.94},{x:12.93,y:-291.63},{x:-3.57,y:-284.94},{x:-12.93,y:-289.84},{x:-4.46,y:-298.32},{x:8.92,y:-301.44},{x:29.43,y:-311.25},{x:34.78,y:-321.06},{x:47.71,y:-312.59},{x:60.64,y:-312.14},{x:66,y:-305.45},{x:63.77,y:-303.22},{x:60.64,y:-297.87}]},{weapon:"r301",barrel:"2",stock:"2",comment:"blue 5 390 1880.png",points:[{x:0,y:0},{x:12.92,y:-25.84},{x:10.69,y:-63.27},{x:28.96,y:-93.57},{x:29.41,y:-131.45},{x:40.55,y:-151.94},{x:38.32,y:-170.21},{x:37.87,y:-180.46},{x:45.45,y:-183.14},{x:48.57,y:-186.7},{x:63.72,y:-182.24},{x:65.5,y:-187.15},{x:64.61,y:-196.5},{x:53.47,y:-206.31},{x:33.42,y:-215.66},{x:26.74,y:-208.53},{x:10.69,y:-209.87},{x:-7.13,y:-209.43},{x:-10.25,y:-212.54},{x:.45,y:-229.03},{x:4.46,y:-242.4},{x:12.03,y:-233.04},{x:30.75,y:-235.27},{x:37.43,y:-231.26},{x:53.92,y:-231.26},{x:58.37,y:-240.62},{x:50.8,y:-257.99},{x:53.92,y:-263.34}]},{weapon:"r301",barrel:"3",stock:"3",comment:"purple 1 88 1509.png",points:[{x:0,y:0},{x:8.91,y:-30.75},{x:14.26,y:-71.31},{x:28.52,y:-92.26},{x:26.74,y:-124.34},{x:27.63,y:-144.4},{x:31.2,y:-153.76},{x:33.43,y:-168.91},{x:41.89,y:-172.48},{x:53.04,y:-179.16},{x:68.63,y:-176.49},{x:84.23,y:-180.5},{x:69.08,y:-182.73},{x:53.93,y:-189.41},{x:34.32,y:-193.42},{x:29.41,y:-192.09},{x:17.83,y:-198.33},{x:9.8,y:-201.45},{x:-3.12,y:-198.77},{x:-4.01,y:-201.89},{x:6.69,y:-205.46},{x:12.48,y:-211.25},{x:28.97,y:-205.9},{x:50.36,y:-201.89},{x:69.53,y:-193.42},{x:88.24,y:-186.74},{x:95.37,y:-190.75},{x:93.15,y:-202.34}]},{weapon:"r301",barrel:"3",stock:"3",comment:"purple 2 48 1938.png",points:[{x:0,y:0},{x:18.65,y:-28.42},{x:17.32,y:-60.39},{x:28.87,y:-89.26},{x:21.32,y:-125.23},{x:25.31,y:-154.1},{x:25.31,y:-169.64},{x:28.42,y:-178.08},{x:33.31,y:-181.18},{x:45.74,y:-194.06},{x:61.28,y:-190.07},{x:71.05,y:-198.06},{x:55.95,y:-204.72},{x:49.29,y:-215.82},{x:39.52,y:-214.93},{x:19.1,y:-221.6},{x:0,y:-220.71},{x:-15.54,y:-222.48},{x:-20.43,y:-241.13},{x:-13.32,y:-254.9},{x:-9.77,y:-267.78},{x:-5.33,y:-264.23},{x:6.22,y:-271.33},{x:21.32,y:-262.45},{x:27.53,y:-255.35},{x:28.42,y:-258.9},{x:36.41,y:-257.57},{x:38.63,y:-259.34}]},{weapon:"r301",barrel:"3",stock:"3",comment:"purple 3 11 1589.png",points:[{x:0,y:0},{x:8.5,y:-20.59},{x:6.71,y:-58.19},{x:18.8,y:-83.7},{x:14.77,y:-109.66},{x:20.59,y:-137.86},{x:21.49,y:-145.03},{x:29.99,y:-153.08},{x:39.84,y:-156.22},{x:45.21,y:-165.62},{x:52.82,y:-165.62},{x:53.71,y:-175.46},{x:41.63,y:-192.92},{x:29.99,y:-203.21},{x:14.32,y:-209.93},{x:-3.58,y:-211.27},{x:-10.74,y:-213.96},{x:1.34,y:-222.46},{x:1.79,y:-216.64},{x:6.71,y:-216.64},{x:20.14,y:-216.19},{x:38.49,y:-214.4},{x:51.47,y:-218.88},{x:62.67,y:-210.82},{x:73.41,y:-200.53},{x:84.15,y:-193.37},{x:91.31,y:-201.42},{x:94.45,y:-205.45}]},{weapon:"r301",barrel:"3",stock:"3",comment:"purple 4 595 1700.png",points:[{x:0,y:0},{x:11.99,y:-30.63},{x:6.66,y:-62.15},{x:15.98,y:-81.68},{x:17.31,y:-117.64},{x:26.64,y:-143.39},{x:28.86,y:-155.82},{x:35.51,y:-173.58},{x:46.17,y:-178.46},{x:52.38,y:-185.12},{x:71.03,y:-181.57},{x:77.69,y:-189.11},{x:64.81,y:-196.22},{x:48.39,y:-212.64},{x:43.5,y:-218.86},{x:37.73,y:-213.53},{x:23.97,y:-211.75},{x:15.98,y:-219.3},{x:18.2,y:-223.74},{x:29.3,y:-222.41},{x:35.96,y:-228.62},{x:52.83,y:-231.29},{x:70.14,y:-237.06},{x:83.46,y:-237.94},{x:95,y:-225.07},{x:101.22,y:-217.97},{x:110.09,y:-221.08},{x:112.76,y:-227.73}]},{weapon:"r301",barrel:"3",stock:"3",comment:"purple 5 181 1551.png",points:[{x:0,y:0},{x:7.59,y:-24.13},{x:8.49,y:-62.99},{x:28.15,y:-83.99},{x:32.17,y:-119.28},{x:41.1,y:-139.84},{x:44.23,y:-151.45},{x:50.93,y:-156.81},{x:66.12,y:-155.92},{x:80.42,y:-163.51},{x:93.82,y:-163.51},{x:96.5,y:-173.79},{x:83.99,y:-188.53},{x:75.5,y:-192.55},{x:60.31,y:-199.25},{x:50.04,y:-197.91},{x:32.61,y:-199.7},{x:26.36,y:-189.43},{x:20.55,y:-198.81},{x:17.42,y:-211.32},{x:25.47,y:-217.13},{x:44.23,y:-216.23},{x:59.42,y:-215.79},{x:72.82,y:-204.17},{x:87.12,y:-198.36},{x:89.35,y:-193},{x:91.59,y:-202.83},{x:89.35,y:-212.66}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 2 513 3927.png",points:[{x:0,y:0},{x:2.15,y:-35.87},{x:7.89,y:-50.22},{x:-3.59,y:-71.75},{x:15.07,y:-103.32},{x:27.98,y:-162.87},{x:38.03,y:-204.49},{x:63.14,y:-241.8},{x:78.92,y:-280.54},{x:78.92,y:-328.61},{x:67.44,y:-357.31},{x:54.53,y:-387.45},{x:59.55,y:-419.73},{x:51.66,y:-444.85},{x:48.79,y:-454.17},{x:60.99,y:-453.46},{x:60.99,y:-466.37},{x:101.17,y:-480},{x:73.18,y:-502.96},{x:50.22,y:-492.92},{x:40.18,y:-487.9},{x:35.87,y:-510.14},{x:13.63,y:-534.53},{x:40.18,y:-539.56},{x:60.99,y:-539.56},{x:73.18,y:-549.6},{x:87.53,y:-543.14}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 1 304 3884.png",points:[{x:0,y:0},{x:5.01,y:-25.04},{x:4.29,y:-56.52},{x:-4.29,y:-77.27},{x:-1.43,y:-117.33},{x:13.59,y:-167.41},{x:37.92,y:-202.47},{x:59.38,y:-241.82},{x:58.67,y:-290.47},{x:47.93,y:-315.51},{x:50.08,y:-357},{x:33.63,y:-383.47},{x:17.89,y:-402.79},{x:27.9,y:-448.58},{x:37.2,y:-457.16},{x:35.77,y:-465.75},{x:56.52,y:-470.76},{x:81.56,y:-485.78},{x:73.69,y:-487.93},{x:53.66,y:-492.22},{x:32.19,y:-490.07},{x:11.45,y:-511.54},{x:18.6,y:-521.55},{x:32.91,y:-513.68},{x:46.5,y:-526.56},{x:72.26,y:-519.41},{x:42.93,y:-543.73}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 4 8 3760.png",points:[{x:0,y:0},{x:5.67,y:-27.63},{x:-4.25,y:-49.59},{x:-5.67,y:-70.85},{x:10.63,y:-99.9},{x:10.63,y:-155.87},{x:28.34,y:-195.54},{x:53.84,y:-238.05},{x:72.97,y:-262.85},{x:56.68,y:-300.4},{x:46.05,y:-345.74},{x:32.59,y:-363.45},{x:34.72,y:-382.58},{x:24.09,y:-429.34},{x:23.38,y:-460.51},{x:46.05,y:-466.89},{x:60.22,y:-475.39},{x:66.6,y:-487.43},{x:53.14,y:-500.9},{x:60.22,y:-501.6},{x:74.39,y:-507.27},{x:63.05,y:-508.69},{x:50.3,y:-516.48},{x:37.55,y:-512.94},{x:13.46,y:-505.15},{x:14.88,y:-519.32},{x:-.71,y:-526.4}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 5 275 3506.png",points:[{x:0,y:0},{x:5.28,y:-19.79},{x:1.32,y:-42.89},{x:-3.3,y:-65.32},{x:-4.62,y:-107.55},{x:15.18,y:-151.1},{x:17.82,y:-184.75},{x:54.11,y:-219.06},{x:56.09,y:-243.48},{x:50.81,y:-283.06},{x:37.61,y:-304.18},{x:16.5,y:-337.83},{x:7.26,y:-345.09},{x:-.66,y:-370.16},{x:7.92,y:-393.91},{x:37.61,y:-393.91},{x:36.95,y:-406.45},{x:51.47,y:-412.39},{x:41.57,y:-424.27},{x:29.69,y:-430.21},{x:7.26,y:-455.94},{x:-18.48,y:-448.68},{x:-20.45,y:-466.5},{x:-12.54,y:-477.05},{x:6.6,y:-486.95},{x:27.05,y:-476.39},{x:37.61,y:-490.91}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 3 149 3690.png",points:[{x:0,y:0},{x:17.41,y:-9.75},{x:6.27,y:-45.95},{x:-3.48,y:-63.36},{x:-2.09,y:-89.12},{x:14.62,y:-151.08},{x:35.51,y:-185.89},{x:45.95,y:-206.78},{x:52.91,y:-249.94},{x:55,y:-291.02},{x:43.86,y:-324.44},{x:28.55,y:-362.04},{x:32.03,y:-391.97},{x:28.55,y:-414.25},{x:39.68,y:-445.58},{x:61.96,y:-457.42},{x:67.53,y:-465.08},{x:82.15,y:-460.2},{x:66.14,y:-468.56},{x:47.34,y:-474.83},{x:36.9,y:-477.61},{x:24.37,y:-498.5},{x:12.53,y:-514.51},{x:20.89,y:-516.6},{x:49.43,y:-516.6},{x:52.22,y:-503.37},{x:75.19,y:-495.71}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 6 436 3428.png",points:[{x:0,y:0},{x:3.96,y:-27.69},{x:.66,y:-44.17},{x:7.25,y:-71.2},{x:11.87,y:-110.1},{x:17.8,y:-156.91},{x:38.9,y:-189.88},{x:56.04,y:-241.96},{x:76.48,y:-271.63},{x:75.82,y:-309.21},{x:65.27,y:-334.92},{x:49.45,y:-365.91},{x:35.6,y:-378.44},{x:41.54,y:-423.93},{x:44.17,y:-419.31},{x:55.38,y:-410.74},{x:56.7,y:-418.65},{x:61.31,y:-416.68},{x:63.29,y:-439.75},{x:29.67,y:-431.84},{x:2.64,y:-431.18},{x:-7.91,y:-450.3},{x:-13.19,y:-460.19},{x:-21.1,y:-466.78},{x:15.16,y:-466.78},{x:36.26,y:-468.1},{x:60.66,y:-479.97}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 7 458 3594.png",points:[{x:0,y:0},{x:14.9,y:-33.18},{x:7.45,y:-63.64},{x:8.12,y:-73.12},{x:20.31,y:-119.16},{x:23.02,y:-159.78},{x:42.65,y:-199.73},{x:60.93,y:-239.68},{x:71.09,y:-271.5},{x:79.89,y:-298.58},{x:57.55,y:-312.8},{x:23.02,y:-350.03},{x:27.76,y:-368.99},{x:24.37,y:-416.39},{x:19.63,y:-423.16},{x:29.11,y:-423.16},{x:49.42,y:-425.86},{x:69.74,y:-425.19},{x:55.52,y:-450.91},{x:43.33,y:-444.82},{x:10.16,y:-457.69},{x:11.51,y:-477.32},{x:9.48,y:-498.31},{x:12.86,y:-504.4},{x:33.18,y:-486.8},{x:60.26,y:-492.89},{x:65,y:-503.05}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 8 265 3719.png",points:[{x:0,y:0},{x:10.65,y:-25.57},{x:14.92,y:-47.59},{x:2.84,y:-72.45},{x:4.97,y:-114.35},{x:17.76,y:-154.84},{x:36.93,y:-203.13},{x:59.66,y:-237.94},{x:62.5,y:-279.84},{x:58.24,y:-309.67},{x:50.43,y:-333.11},{x:29.83,y:-349.45},{x:9.23,y:-382.83},{x:2.84,y:-415.5},{x:5.68,y:-436.1},{x:17.76,y:-434.68},{x:26.99,y:-456.7},{x:41.2,y:-452.44},{x:34.8,y:-459.54},{x:16.34,y:-467.35},{x:12.07,y:-488.66},{x:-7.1,y:-487.95},{x:-31.96,y:-497.89},{x:-19.18,y:-505.71},{x:4.26,y:-515.65},{x:15.63,y:-508.55},{x:37.64,y:-520.62}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 9 463 3517.png",points:[{x:0,y:0},{x:4.04,y:-25.6},{x:2.02,y:-46.48},{x:1.35,y:-72.75},{x:4.72,y:-103.06},{x:15.49,y:-147.52},{x:43.11,y:-188.61},{x:61.3,y:-230.37},{x:78.14,y:-276.18},{x:77.46,y:-303.79},{x:61.97,y:-321.31},{x:51.87,y:-337.47},{x:53.21,y:-358.35},{x:42.44,y:-388.67},{x:53.21,y:-388.67},{x:66.69,y:-404.16},{x:88.91,y:-406.85},{x:103.73,y:-423.02},{x:77.46,y:-443.9},{x:46.48,y:-449.29},{x:35.7,y:-449.29},{x:14.15,y:-470.85},{x:-6.06,y:-472.87},{x:11.45,y:-483.64},{x:37.72,y:-484.99},{x:58.6,y:-492.4},{x:64.67,y:-492.4}]},{weapon:"r99",barrel:"0",stock:"0",comment:"0 10 47 3611.png",points:[{x:0,y:0},{x:4.66,y:-27.97},{x:5.33,y:-53.29},{x:2,y:-86.59},{x:.67,y:-115.9},{x:10.66,y:-160.52},{x:41.3,y:-205.15},{x:64.61,y:-248.44},{x:84.59,y:-283.75},{x:77.26,y:-325.71},{x:82.59,y:-349.02},{x:58.61,y:-383.66},{x:45.96,y:-416.29},{x:41.3,y:-450.26},{x:32.64,y:-469.58},{x:55.28,y:-460.25},{x:56.62,y:-478.24},{x:57.95,y:-488.9},{x:47.29,y:-487.56},{x:28.64,y:-489.56},{x:14.65,y:-495.56},{x:-5.99,y:-505.55},{x:-.67,y:-500.88},{x:22.65,y:-495.56},{x:40.63,y:-490.89},{x:63.28,y:-467.58},{x:81.26,y:-462.92}]},{weapon:"r99",barrel:"1",stock:"1",comment:"1 1 53 3122.png",points:[{x:0,y:0},{x:4.9,y:-33.67},{x:9.18,y:-42.85},{x:-6.73,y:-66.72},{x:6.12,y:-94.27},{x:4.9,y:-138.96},{x:38.57,y:-172.01},{x:49.58,y:-207.52},{x:47.75,y:-228.94},{x:50.81,y:-260.77},{x:41.01,y:-306.07},{x:17.75,y:-326.88},{x:12.86,y:-346.47},{x:14.69,y:-374.02},{x:17.75,y:-383.81},{x:28.77,y:-380.75},{x:37.95,y:-383.2},{x:21.43,y:-395.44},{x:0,y:-413.2},{x:-9.18,y:-419.32},{x:-33.67,y:-434.62},{x:-15.3,y:-435.85},{x:7.96,y:-437.07},{x:17.75,y:-428.5},{x:28.77,y:-415.65},{x:44.07,y:-416.26},{x:50.81,y:-402.79}]},{weapon:"r99",barrel:"1",stock:"1",comment:"1 2 161 3293.png",points:[{x:0,y:0},{x:0,y:-22.67},{x:-4.53,y:-40.15},{x:-3.89,y:-68.65},{x:-9.71,y:-98.44},{x:4.53,y:-144.42},{x:34.32,y:-181.98},{x:48.57,y:-211.12},{x:53.1,y:-255.81},{x:55.7,y:-279.12},{x:48.57,y:-311.51},{x:31.09,y:-349.71},{x:23.31,y:-371.09},{x:33.03,y:-415.77},{x:29.79,y:-424.84},{x:52.46,y:-441.03},{x:56.99,y:-442.97},{x:36.91,y:-439.73},{x:27.85,y:-443.62},{x:5.83,y:-443.62},{x:-1.94,y:-450.1},{x:-30.44,y:-454.63},{x:-20.72,y:-461.11},{x:7.12,y:-460.46},{x:30.44,y:-450.1},{x:52.46,y:-455.28},{x:80.3,y:-445.56}]},{weapon:"r99",barrel:"1",stock:"1",comment:"1 3 342 3516.png",points:[{x:0,y:0},{x:12.14,y:-22.26},{x:6.07,y:-47.89},{x:-.67,y:-71.49},{x:1.35,y:-97.8},{x:14.84,y:-152.43},{x:26.98,y:-193.58},{x:49.91,y:-227.97},{x:56.66,y:-247.53},{x:57.33,y:-277.21},{x:42.49,y:-319.03},{x:20.91,y:-347.36},{x:12.82,y:-371.64},{x:14.84,y:-409.41},{x:4.72,y:-421.55},{x:30.35,y:-425.6},{x:51.26,y:-442.46},{x:26.3,y:-446.5},{x:24.28,y:-455.95},{x:12.82,y:-446.5},{x:-2.7,y:-455.27},{x:-18.21,y:-464.04},{x:-29,y:-462.69},{x:-16.19,y:-480.9},{x:-1.35,y:-486.3},{x:18.21,y:-487.65},{x:46.54,y:-492.37}]},{weapon:"r99",barrel:"1",stock:"1",comment:"1 4 23 3103.png",points:[{x:0,y:0},{x:9.99,y:-30.57},{x:5.29,y:-49.97},{x:-7.05,y:-68.78},{x:4.11,y:-111.1},{x:7.64,y:-146.37},{x:26.45,y:-166.36},{x:32.33,y:-216.91},{x:38.21,y:-243.37},{x:54.08,y:-265.12},{x:33.51,y:-299.8},{x:17.64,y:-343.3},{x:18.22,y:-367.4},{x:10.58,y:-402.09},{x:17.64,y:-409.73},{x:40.56,y:-410.9},{x:60.55,y:-406.79},{x:54.08,y:-421.49},{x:43.5,y:-427.36},{x:27.04,y:-431.48},{x:.59,y:-432.65},{x:-3.53,y:-434.42},{x:-4.7,y:-425.01},{x:31.74,y:-427.36},{x:51.73,y:-430.3},{x:74.07,y:-430.3},{x:78.18,y:-426.19}]},{weapon:"r99",barrel:"1",stock:"1",comment:"1 5 449 3493.png",points:[{x:0,y:0},{x:5.32,y:-29.24},{x:3.99,y:-38.54},{x:-5.98,y:-62.46},{x:7.97,y:-105.66},{x:14.62,y:-149.51},{x:40.53,y:-192.7},{x:47.84,y:-231.91},{x:61.13,y:-275.1},{x:44.52,y:-316.3},{x:45.19,y:-333.58},{x:39.21,y:-363.48},{x:45.19,y:-397.37},{x:35.88,y:-410.66},{x:55.15,y:-427.27},{x:55.82,y:-437.24},{x:73.76,y:-437.9},{x:67.11,y:-450.53},{x:69.11,y:-463.82},{x:39.87,y:-451.19},{x:37.21,y:-464.48},{x:13.95,y:-463.82},{x:-.66,y:-467.81},{x:17.28,y:-467.81},{x:37.21,y:-480.43},{x:44.52,y:-481.76},{x:62.46,y:-489.07}]},{weapon:"r99",barrel:"2",stock:"2",comment:"2 1 239 3274.png",points:[{x:0,y:0},{x:5,y:-21.86},{x:5.62,y:-46.21},{x:1.87,y:-69.94},{x:9.99,y:-98.05},{x:11.87,y:-147.38},{x:31.85,y:-179.23},{x:55.58,y:-219.2},{x:70.57,y:-232.94},{x:73.69,y:-277.9},{x:65.57,y:-293.52},{x:53.71,y:-326.62},{x:46.21,y:-360.96},{x:22.48,y:-380.95},{x:34.97,y:-397.81},{x:50.58,y:-403.43},{x:63.7,y:-411.55},{x:53.08,y:-414.05},{x:46.21,y:-419.67},{x:26.85,y:-419.04},{x:13.74,y:-426.54},{x:-6.87,y:-428.41},{x:-13.74,y:-435.28},{x:1.87,y:-451.52},{x:13.11,y:-455.26},{x:33.1,y:-458.39},{x:44.34,y:-456.51}]},{weapon:"r99",barrel:"2",stock:"2",comment:"2 2 173 3205.png",points:[{x:0,y:0},{x:-.62,y:-25.58},{x:-2.5,y:-50.54},{x:-6.86,y:-77.99},{x:1.87,y:-109.19},{x:15.6,y:-159.73},{x:30.57,y:-188.43},{x:38.69,y:-219.63},{x:48.67,y:-252.7},{x:46.17,y:-279.53},{x:38.69,y:-311.35},{x:15.6,y:-336.94},{x:17.47,y:-361.27},{x:11.23,y:-387.48},{x:31.2,y:-396.21},{x:32.45,y:-408.07},{x:47.42,y:-403.08},{x:63.64,y:-408.69},{x:42.43,y:-421.79},{x:33.69,y:-420.55},{x:16.22,y:-411.19},{x:9.98,y:-418.05},{x:-3.74,y:-440.51},{x:4.99,y:-436.77},{x:25.58,y:-448.62},{x:36.19,y:-442.38},{x:59.28,y:-444.88}]},{weapon:"r99",barrel:"2",stock:"2",comment:"2 3 249 3398.png",points:[{x:0,y:0},{x:1.92,y:-28.86},{x:10.9,y:-45.53},{x:-10.26,y:-71.18},{x:-1.92,y:-104.53},{x:2.57,y:-157.75},{x:23.73,y:-187.89},{x:43.61,y:-222.52},{x:42.97,y:-244.33},{x:52.58,y:-280.88},{x:32.71,y:-321.28},{x:15.39,y:-366.81},{x:30.14,y:-371.94},{x:17.31,y:-399.52},{x:19.24,y:-412.98},{x:35.91,y:-421.32},{x:42.32,y:-430.3},{x:62.2,y:-437.99},{x:37.19,y:-451.46},{x:20.52,y:-448.89},{x:-5.13,y:-456.59},{x:-14.75,y:-455.95},{x:-17.31,y:-464.29},{x:-21.8,y:-466.85},{x:10.26,y:-467.49},{x:26.29,y:-468.77},{x:33.35,y:-475.83}]},{weapon:"r99",barrel:"2",stock:"2",comment:"2 4 486 2888.png",points:[{x:0,y:0},{x:5.65,y:-18.64},{x:6.78,y:-41.79},{x:.56,y:-60.43},{x:3.39,y:-79.07},{x:-1.69,y:-135.54},{x:28.24,y:-163.21},{x:39.53,y:-203.31},{x:53.65,y:-224.21},{x:50.26,y:-260.35},{x:46.87,y:-281.81},{x:36.14,y:-299.89},{x:36.14,y:-331.51},{x:38.4,y:-354.67},{x:46.87,y:-364.27},{x:47.44,y:-370.48},{x:73.98,y:-375.56},{x:88.67,y:-370.48},{x:68.34,y:-383.47},{x:51.96,y:-380.65},{x:15.81,y:-377.26},{x:12.42,y:-387.42},{x:8.47,y:-397.59},{x:12.42,y:-399.28},{x:36.14,y:-400.41},{x:55.91,y:-400.98},{x:67.77,y:-404.37}]},{weapon:"r99",barrel:"2",stock:"2",comment:"2 5 75 3192.png",points:[{x:0,y:0},{x:6.15,y:-22.77},{x:2.46,y:-60.93},{x:-1.85,y:-61.55},{x:8.62,y:-97.86},{x:14.77,y:-139.71},{x:28.93,y:-182.8},{x:54.16,y:-214.18},{x:68.32,y:-240.03},{x:63.39,y:-286.2},{x:59.7,y:-310.81},{x:46.16,y:-344.05},{x:47.39,y:-368.67},{x:41.24,y:-390.83},{x:52.32,y:-404.98},{x:57.85,y:-419.75},{x:68.32,y:-420.98},{x:64.01,y:-427.14},{x:51.08,y:-438.22},{x:25.23,y:-437.6},{x:12.31,y:-446.83},{x:28.93,y:-442.53},{x:55.39,y:-433.91},{x:57.85,y:-443.76},{x:65.86,y:-440.68},{x:86.78,y:-435.76},{x:91.09,y:-420.98}]},{weapon:"r99",barrel:"3",stock:"3",comment:"3 1 194 2986.png",points:[{x:0,y:0},{x:5.27,y:-21.67},{x:4.69,y:-38.07},{x:0,y:-59.74},{x:6.44,y:-93.7},{x:17.57,y:-137.04},{x:33.97,y:-178.04},{x:59.74,y:-194.44},{x:60.32,y:-223.13},{x:49.78,y:-252.42},{x:32.8,y:-282.28},{x:29.28,y:-307.47},{x:24.6,y:-336.16},{x:11.71,y:-361.93},{x:29.28,y:-376.57},{x:47.44,y:-370.72},{x:46.85,y:-387.7},{x:36.31,y:-402.93},{x:13.47,y:-400.59},{x:2.34,y:-400},{x:-5.86,y:-404.1},{x:-12.3,y:-416.98},{x:12.3,y:-418.74},{x:27.53,y:-419.33},{x:40.41,y:-407.61},{x:53.88,y:-391.8},{x:57.39,y:-378.92}]},{weapon:"r99",barrel:"3",stock:"3",comment:"3 2 43 3078.png",points:[{x:0,y:0},{x:5.78,y:-12.13},{x:2.31,y:-29.46},{x:2.89,y:-51.99},{x:-1.73,y:-89.54},{x:10.4,y:-133.44},{x:24.84,y:-170.98},{x:40.44,y:-203.33},{x:55.45,y:-231.06},{x:55.45,y:-265.72},{x:46.79,y:-292.29},{x:24.26,y:-304.42},{x:35.81,y:-345.43},{x:30.62,y:-369.12},{x:35.81,y:-370.85},{x:30.04,y:-384.13},{x:53.72,y:-389.33},{x:30.62,y:-414.75},{x:25.42,y:-422.84},{x:17.33,y:-415.9},{x:-10.98,y:-429.19},{x:-5.78,y:-430.92},{x:16.75,y:-429.19},{x:33.5,y:-429.19},{x:57.76,y:-418.79},{x:61.23,y:-410.13},{x:67.58,y:-400.31}]},{weapon:"r99",barrel:"3",stock:"3",comment:"3 3 187 3068.png",points:[{x:0,y:0},{x:8.89,y:-22.51},{x:.59,y:-49.77},{x:-1.78,y:-61.61},{x:2.96,y:-89.46},{x:-1.18,y:-134.49},{x:22.51,y:-168.26},{x:36.14,y:-197.88},{x:47.4,y:-227.5},{x:40.29,y:-268.97},{x:34.36,y:-281.41},{x:7.7,y:-308.67},{x:18.37,y:-329.4},{x:17.77,y:-351.32},{x:14.22,y:-381.54},{x:27.85,y:-375.61},{x:37.92,y:-394.57},{x:38.51,y:-408.2},{x:27.85,y:-399.31},{x:16.59,y:-412.35},{x:5.92,y:-420.64},{x:-18.37,y:-432.49},{x:-25.48,y:-430.12},{x:-11.26,y:-428.34},{x:-.59,y:-424.79},{x:20.14,y:-417.09},{x:26.07,y:-429.53}]},{weapon:"r99",barrel:"3",stock:"3",comment:"3 4 270 2944.png",points:[{x:0,y:0},{x:-2.91,y:-14.56},{x:1.16,y:-34.35},{x:7.57,y:-54.73},{x:-1.16,y:-80.93},{x:1.16,y:-122.85},{x:23.87,y:-163.6},{x:46,y:-187.47},{x:51.82,y:-228.81},{x:50.65,y:-249.19},{x:40.17,y:-275.39},{x:18.05,y:-302.17},{x:22.12,y:-321.97},{x:9.32,y:-348.17},{x:14.56,y:-354.57},{x:41.34,y:-365.05},{x:59.97,y:-362.14},{x:59.97,y:-366.21},{x:46,y:-398.82},{x:32.02,y:-396.49},{x:23.29,y:-405.22},{x:11.64,y:-406.97},{x:6.4,y:-402.89},{x:-15.14,y:-408.72},{x:11.06,y:-397.07},{x:32.02,y:-402.31},{x:37.26,y:-412.21}]},{weapon:"r99",barrel:"3",stock:"3",comment:"3 5 287 3022.png",points:[{x:0,y:0},{x:4.16,y:-21.99},{x:-5.94,y:-33.87},{x:-10.7,y:-58.24},{x:1.19,y:-93.89},{x:7.13,y:-145},{x:15.45,y:-175.31},{x:45.76,y:-209.18},{x:42.19,y:-232.95},{x:41.6,y:-265.04},{x:31.5,y:-286.43},{x:14.86,y:-326.25},{x:14.86,y:-339.92},{x:2.97,y:-359.53},{x:4.16,y:-380.33},{x:24.36,y:-382.11},{x:39.82,y:-382.11},{x:6.54,y:-396.97},{x:-14.86,y:-417.77},{x:-20.8,y:-405.88},{x:-39.82,y:-423.11},{x:-13.67,y:-418.36},{x:-2.38,y:-418.36},{x:.59,y:-410.63},{x:8.32,y:-416.58},{x:19.02,y:-409.45},{x:30.31,y:-414.79}]},{weapon:"flatline",barrel:"0",stock:"0",comment:"0 1 749 3752.png",points:[{x:0,y:0},{x:-19.86,y:-64.54},{x:-22.7,y:-96.46},{x:-47.52,y:-131.92},{x:-73.76,y:-155.32},{x:-93.62,y:-197.17},{x:-86.53,y:-230.5},{x:-82.27,y:-236.88},{x:-47.52,y:-220.57},{x:-49.65,y:-228.37},{x:-41.14,y:-236.17},{x:-41.84,y:-258.16},{x:-51.06,y:-264.54},{x:-87.94,y:-290.78},{x:-93.62,y:-300.71},{x:-123.41,y:-303.55},{x:-142.56,y:-312.06},{x:-136.88,y:-343.98},{x:-153.19,y:-368.8},{x:-170.22,y:-394.33},{x:-197.17,y:-397.17},{x:-206.39,y:-396.46},{x:-202.13,y:-426.25},{x:-182.27,y:-437.6},{x:-173.76,y:-457.45},{x:-163.12,y:-465.26},{x:-139.01,y:-477.31},{x:-117.73,y:-479.44},{x:-111.35,y:-503.55},{x:-103.55,y:-525.54}]},{weapon:"flatline",barrel:"0",stock:"0",comment:"0 2 46 2907.png",points:[{x:0,y:0},{x:-30.86,y:-52.98},{x:-29.11,y:-80.93},{x:-62.88,y:-105.96},{x:-71.61,y:-129.83},{x:-80.35,y:-169.43},{x:-86.75,y:-207.27},{x:-71.03,y:-207.27},{x:-36.1,y:-192.71},{x:-32.02,y:-184.56},{x:-17.47,y:-197.95},{x:-7.57,y:-212.51},{x:-15.72,y:-225.9},{x:-43.08,y:-237.55},{x:-65.79,y:-251.52},{x:-99.56,y:-256.76},{x:-107.13,y:-252.1},{x:-122.85,y:-268.99},{x:-121.68,y:-306.83},{x:-137.99,y:-319.06},{x:-172.34,y:-316.73},{x:-181.65,y:-321.97},{x:-175.25,y:-347},{x:-150.79,y:-354.57},{x:-129.25,y:-356.9},{x:-98.39,y:-377.86},{x:-66.96,y:-379.61},{x:-39.59,y:-366.8},{x:-26.78,y:-388.92},{x:-6.99,y:-406.97}]},{weapon:"flatline",barrel:"0",stock:"0",comment:"0 3 412 3464.png",points:[{x:0,y:0},{x:-2.57,y:-71.95},{x:-17.99,y:-81.59},{x:-37.9,y:-124.63},{x:-46.9,y:-144.54},{x:-57.17,y:-181.16},{x:-53.32,y:-216.49},{x:-33.41,y:-223.56},{x:-12.21,y:-213.92},{x:-11.56,y:-222.27},{x:0,y:-229.98},{x:6.42,y:-256.32},{x:1.28,y:-269.17},{x:-30.19,y:-296.79},{x:-55.25,y:-303.86},{x:-79.66,y:-307.71},{x:-90.58,y:-309.64},{x:-99.57,y:-340.48},{x:-113.06,y:-379.02},{x:-125.27,y:-403.43},{x:-151.61,y:-404.08},{x:-159.32,y:-406},{x:-150.32,y:-432.98},{x:-125.91,y:-436.2},{x:-121.42,y:-445.19},{x:-97.65,y:-456.75},{x:-75.8,y:-457.4},{x:-61.03,y:-444.55},{x:-59.1,y:-466.39},{x:-57.17,y:-485.02}]},{weapon:"flatline",barrel:"0",stock:"0",comment:"0 4 392 3185.png",points:[{x:0,y:0},{x:-21.39,y:-58.05},{x:-23.83,y:-87.99},{x:-64.16,y:-132.59},{x:-77.6,y:-166.81},{x:-97.76,y:-205.3},{x:-97.76,y:-237.68},{x:-89.21,y:-249.29},{x:-55.6,y:-236.46},{x:-45.21,y:-235.85},{x:-35.44,y:-248.07},{x:-32.38,y:-277.4},{x:-44.6,y:-285.95},{x:-62.32,y:-293.89},{x:-72.71,y:-296.34},{x:-97.15,y:-293.28},{x:-119.76,y:-307.34},{x:-117.92,y:-340.94},{x:-137.48,y:-362.94},{x:-157.03,y:-389.82},{x:-171.69,y:-397.77},{x:-177.19,y:-396.54},{x:-167.42,y:-408.15},{x:-139.31,y:-410.6},{x:-124.03,y:-425.87},{x:-112.43,y:-435.04},{x:-98.37,y:-436.26},{x:-71.49,y:-424.65},{x:-70.27,y:-431.98},{x:-53.77,y:-446.04}]},{weapon:"flatline",barrel:"0",stock:"0",comment:"0 5 735 3119.png",points:[{x:0,y:0},{x:-24.56,y:-42.69},{x:-44.44,y:-57.3},{x:-67.83,y:-92.97},{x:-91.8,y:-119.87},{x:-91.8,y:-161.97},{x:-87.71,y:-193.55},{x:-78.35,y:-199.39},{x:-53.8,y:-190.04},{x:-51.46,y:-189.45},{x:-45.02,y:-205.83},{x:-33.33,y:-227.46},{x:-48.53,y:-240.32},{x:-67.83,y:-266.05},{x:-71.34,y:-270.73},{x:-87.71,y:-267.22},{x:-99.99,y:-280.09},{x:-99.99,y:-302.31},{x:-122.21,y:-336.81},{x:-149.11,y:-345.58},{x:-180.68,y:-353.76},{x:-201.73,y:-364.87},{x:-208.75,y:-386.51},{x:-195.3,y:-396.45},{x:-177.17,y:-403.46},{x:-157.88,y:-413.41},{x:-138.58,y:-419.25},{x:-124.55,y:-402.88},{x:-123.96,y:-415.74},{x:-102.33,y:-436.79}]},{weapon:"flatline",barrel:"1",stock:"1",comment:"1 1 288 3126.png",points:[{x:0,y:0},{x:-29.88,y:-73.82},{x:-42.77,y:-104.87},{x:-70.3,y:-128.89},{x:-83.19,y:-162.28},{x:-89.05,y:-189.82},{x:-94.91,y:-222.04},{x:-76.75,y:-234.34},{x:-44.52,y:-233.75},{x:-35.15,y:-227.9},{x:-28.12,y:-235.51},{x:-12.89,y:-260.7},{x:-28.12,y:-263.63},{x:-46.28,y:-290},{x:-58,y:-293.51},{x:-74.99,y:-283.55},{x:-80.85,y:-275.35},{x:-83.19,y:-311.67},{x:-92.56,y:-332.18},{x:-110.14,y:-345.65},{x:-127.13,y:-345.65},{x:-134.16,y:-343.89},{x:-128.89,y:-358.54},{x:-116,y:-372.6},{x:-106.04,y:-377.29},{x:-93.15,y:-381.97},{x:-72.06,y:-396.62},{x:-48.04,y:-396.04},{x:-46.87,y:-407.75},{x:-40.42,y:-437.63}]},{weapon:"flatline",barrel:"1",stock:"1",comment:"1 2 150 3110.png",points:[{x:0,y:0},{x:1.78,y:-66.03},{x:-13.09,y:-70.78},{x:-30.34,y:-111.23},{x:-52.34,y:-142.16},{x:-52.94,y:-184.39},{x:-60.67,y:-214.14},{x:-54.13,y:-231.98},{x:-25.58,y:-226.63},{x:-12.49,y:-217.7},{x:-6.54,y:-230.79},{x:4.16,y:-261.13},{x:-5.95,y:-268.26},{x:-26.77,y:-280.76},{x:-43.42,y:-287.3},{x:-75.54,y:-290.27},{x:-91.01,y:-307.52},{x:-94.58,y:-340.83},{x:-106.47,y:-347.38},{x:-133.24,y:-361.65},{x:-149.3,y:-367},{x:-147.52,y:-369.38},{x:-138,y:-379.5},{x:-110.64,y:-388.42},{x:-107.66,y:-402.1},{x:-74.35,y:-417.56},{x:-58.89,y:-416.97},{x:-30.93,y:-407.45},{x:-23.79,y:-421.73},{x:-20.82,y:-435.41}]},{weapon:"flatline",barrel:"1",stock:"1",comment:"1 3 220 3506.png",points:[{x:0,y:0},{x:-5.99,y:-61.27},{x:-14.65,y:-93.24},{x:-35.96,y:-139.86},{x:-50.62,y:-169.17},{x:-49.95,y:-211.13},{x:-53.28,y:-249.09},{x:-32.63,y:-268.4},{x:-6.66,y:-268.4},{x:-1.33,y:-259.74},{x:5.99,y:-267.07},{x:15.32,y:-292.38},{x:11.32,y:-305.03},{x:-21.31,y:-323.68},{x:-31.97,y:-321.02},{x:-63.27,y:-311.69},{x:-86.58,y:-308.36},{x:-84.58,y:-341},{x:-95.24,y:-360.98},{x:-122.55,y:-372.97},{x:-159.18,y:-377.63},{x:-161.84,y:-381.62},{x:-154.51,y:-398.94},{x:-124.54,y:-417.59},{x:-113.22,y:-423.58},{x:-98.57,y:-439.57},{x:-71.93,y:-454.89},{x:-54.61,y:-450.89},{x:-35.96,y:-472.2},{x:-30.64,y:-490.85}]},{weapon:"flatline",barrel:"1",stock:"1",comment:"1 4 567 3539.png",points:[{x:0,y:0},{x:2.04,y:-57.1},{x:8.16,y:-82.93},{x:-27.87,y:-116.92},{x:-41.47,y:-135.95},{x:-48.94,y:-163.82},{x:-37.39,y:-198.49},{x:-27.87,y:-203.93},{x:-6.12,y:-197.13},{x:0,y:-195.09},{x:15.63,y:-211.41},{x:19.03,y:-237.24},{x:8.84,y:-248.11},{x:-23.79,y:-278.02},{x:-31.95,y:-292.98},{x:-68.66,y:-296.37},{x:-90.41,y:-304.53},{x:-104,y:-334.44},{x:-104.68,y:-374.55},{x:-120.32,y:-385.42},{x:-149.55,y:-390.86},{x:-171.3,y:-388.82},{x:-180.14,y:-414.65},{x:-152.27,y:-417.37},{x:-148.19,y:-426.21},{x:-121.68,y:-433.69},{x:-108.76,y:-448.64},{x:-95.17,y:-449.32},{x:-89.05,y:-464.96},{x:-78.85,y:-495.54}]},{weapon:"flatline",barrel:"1",stock:"1",comment:"1 5 312 3273.png",points:[{x:0,y:0},{x:-.61,y:-40.43},{x:6.74,y:-64.94},{x:-33.08,y:-94.96},{x:-46.56,y:-115.78},{x:-55.75,y:-142.13},{x:-55.75,y:-185.01},{x:-50.85,y:-197.26},{x:-16.54,y:-192.97},{x:-7.35,y:-194.2},{x:-1.23,y:-212.58},{x:9.19,y:-235.86},{x:-.61,y:-250.56},{x:-27.57,y:-273.23},{x:-48.4,y:-286.7},{x:-68,y:-278.13},{x:-88.83,y:-289.16},{x:-97.41,y:-311.82},{x:-113.33,y:-343.07},{x:-145.19,y:-359.61},{x:-161.12,y:-362.06},{x:-170.92,y:-360.22},{x:-170.31,y:-382.89},{x:-161.73,y:-399.43},{x:-151.32,y:-400.65},{x:-126.2,y:-404.33},{x:-94.96,y:-419.64},{x:-65.55,y:-417.19},{x:-58.81,y:-429.44},{x:-43.5,y:-458.24}]},{weapon:"flatline",barrel:"2",stock:"2",comment:"2 1 524 3596.png",points:[{x:0,y:0},{x:-2.71,y:-39.35},{x:-10.85,y:-67.16},{x:-45.45,y:-110.58},{x:-67.84,y:-130.93},{x:-80.05,y:-172.99},{x:-90.22,y:-210.3},{x:-71.91,y:-222.51},{x:-40.7,y:-216.4},{x:-37.31,y:-210.3},{x:-28.49,y:-223.86},{x:-21.03,y:-254.39},{x:-33.92,y:-267.28},{x:-73.94,y:-291.02},{x:-84.8,y:-292.38},{x:-106.5,y:-292.38},{x:-116.68,y:-308.66},{x:-117.36,y:-340.54},{x:-132.96,y:-373.11},{x:-143.82,y:-398.88},{x:-165.52,y:-403.63},{x:-182.48,y:-416.52},{x:-170.95,y:-445.01},{x:-161.45,y:-452.48},{x:-145.85,y:-453.83},{x:-114.65,y:-467.4},{x:-101.76,y:-473.51},{x:-78.01,y:-468.08},{x:-75.98,y:-483.68},{x:-73.94,y:-503.35}]},{weapon:"flatline",barrel:"2",stock:"2",comment:"2 2 219 2890.png",points:[{x:0,y:0},{x:1.15,y:-3.46},{x:4.61,y:-39.75},{x:-11.52,y:-70.85},{x:-26.5,y:-105.99},{x:-32.83,y:-128.46},{x:-40.9,y:-154.96},{x:-31.11,y:-185.49},{x:-9.79,y:-191.25},{x:22.47,y:-191.25},{x:35.14,y:-183.76},{x:43.2,y:-191.25},{x:46.66,y:-214.29},{x:37.44,y:-220.62},{x:14.4,y:-232.72},{x:4.03,y:-236.75},{x:-14.4,y:-239.06},{x:-19.01,y:-240.21},{x:-12.1,y:-263.25},{x:-26.5,y:-285.14},{x:-47.81,y:-312.79},{x:-70.28,y:-312.22},{x:-78.92,y:-320.28},{x:-65.67,y:-339.29},{x:-55.88,y:-347.93},{x:-47.81,y:-363.48},{x:-19.59,y:-381.34},{x:-1.15,y:-381.34},{x:28.8,y:-381.92},{x:33.41,y:-404.38}]},{weapon:"flatline",barrel:"2",stock:"2",comment:"2 3 627 2877.png",points:[{x:0,y:0},{x:-21.82,y:-61.53},{x:-10.07,y:-71.6},{x:-50.91,y:-99.01},{x:-65.45,y:-116.92},{x:-68.25,y:-144.89},{x:-72.72,y:-181.25},{x:-67.13,y:-185.72},{x:-35.8,y:-186.84},{x:-24.61,y:-184.04},{x:-19.58,y:-197.47},{x:-14.54,y:-226.56},{x:-26.85,y:-234.95},{x:-48.67,y:-242.78},{x:-57.62,y:-242.78},{x:-76.08,y:-229.36},{x:-100.13,y:-229.91},{x:-108.52,y:-269.63},{x:-128.1,y:-294.25},{x:-146.56,y:-300.96},{x:-176.21,y:-311.03},{x:-186.84,y:-316.62},{x:-188.52,y:-332.29},{x:-170.62,y:-352.42},{x:-161.11,y:-354.66},{x:-144.89,y:-358.02},{x:-124.19,y:-362.49},{x:-106.85,y:-364.17},{x:-96.78,y:-373.68},{x:-87.83,y:-402.77}]},{weapon:"flatline",barrel:"2",stock:"2",comment:"2 4 618 3220.png",points:[{x:0,y:0},{x:-16.15,y:-50.92},{x:-26.7,y:-70.79},{x:-63.96,y:-116.75},{x:-83.21,y:-149.04},{x:-84.45,y:-180.71},{x:-86.32,y:-222.31},{x:-64.58,y:-234.11},{x:-45.33,y:-234.11},{x:-39.12,y:-233.49},{x:-26.08,y:-242.81},{x:-27.94,y:-273.24},{x:-48.44,y:-286.9},{x:-78.87,y:-316.08},{x:-99.98,y:-317.33},{x:-121.09,y:-303.04},{x:-142.83,y:-308.63},{x:-154.01,y:-335.33},{x:-163.32,y:-357.07},{x:-180.71,y:-368.25},{x:-211.76,y:-371.97},{x:-224.8,y:-379.42},{x:-232.25,y:-399.92},{x:-216.1,y:-403.64},{x:-207.41,y:-409.85},{x:-178.85,y:-424.76},{x:-149.04,y:-425.38},{x:-118.61,y:-411.72},{x:-104.33,y:-426},{x:-86.32,y:-450.84}]},{weapon:"flatline",barrel:"2",stock:"2",comment:"2 5 69 3608.png",points:[{x:0,y:0},{x:-29.6,y:-56.5},{x:-20.85,y:-73.99},{x:-57.85,y:-104.93},{x:-65.92,y:-128.47},{x:-73.99,y:-163.45},{x:-71.3,y:-201.11},{x:-64.57,y:-214.57},{x:-39.01,y:-213.22},{x:-30.94,y:-205.15},{x:-16.82,y:-213.89},{x:-2.02,y:-236.09},{x:-22.87,y:-240.12},{x:-49.1,y:-267.03},{x:-57.17,y:-283.85},{x:-76.68,y:-287.21},{x:-81.39,y:-291.92},{x:-82.06,y:-327.57},{x:-86.1,y:-350.43},{x:-94.17,y:-375.99},{x:-110.31,y:-385.41},{x:-113,y:-393.48},{x:-120.4,y:-423.75},{x:-105.6,y:-434.51},{x:-88.79,y:-445.95},{x:-63.23,y:-458.05},{x:-51.79,y:-466.8},{x:-37.67,y:-464.11},{x:-18.83,y:-482.27},{x:-8.74,y:-505.14}]},{weapon:"flatline",barrel:"3",stock:"3",comment:"3 1 540 3276.png",points:[{x:0,y:0},{x:-8.75,y:-72.5},{x:-18.75,y:-66.87},{x:-48.12,y:-105},{x:-73.12,y:-133.12},{x:-75,y:-161.25},{x:-74.37,y:-198.12},{x:-63.75,y:-207.49},{x:-29.37,y:-200.62},{x:-21.25,y:-199.37},{x:-8.12,y:-210.62},{x:5.62,y:-234.99},{x:-1.25,y:-234.99},{x:-39.37,y:-260.62},{x:-41.87,y:-268.12},{x:-71.25,y:-263.74},{x:-93.75,y:-260.62},{x:-106.25,y:-298.12},{x:-126.25,y:-328.74},{x:-155.62,y:-337.49},{x:-171.25,y:-352.49},{x:-180,y:-351.87},{x:-185,y:-381.24},{x:-169.37,y:-395.62},{x:-158.75,y:-413.74},{x:-131.87,y:-430.61},{x:-113.12,y:-433.11},{x:-91.25,y:-423.74},{x:-84.37,y:-442.49},{x:-75,y:-458.74}]},{weapon:"flatline",barrel:"3",stock:"3",comment:"3 2 355 3325.png",points:[{x:0,y:0},{x:11.69,y:-68.81},{x:3.9,y:-91.54},{x:-18.18,y:-115.56},{x:-42.2,y:-133.73},{x:-57.13,y:-169.44},{x:-62.32,y:-209.04},{x:-57.13,y:-213.58},{x:-22.72,y:-201.9},{x:-18.83,y:-196.06},{x:-5.19,y:-210.34},{x:5.19,y:-234.36},{x:-16.23,y:-241.5},{x:-40.25,y:-249.94},{x:-46.09,y:-265.52},{x:-86.99,y:-255.78},{x:-89.59,y:-269.41},{x:-96.73,y:-309.01},{x:-115.56,y:-350.56},{x:-129.84,y:-363.55},{x:-148.02,y:-377.18},{x:-155.16,y:-378.48},{x:-159.7,y:-392.11},{x:-134.38,y:-402.5},{x:-126.59,y:-414.83},{x:-109.71,y:-426.52},{x:-93.48,y:-436.9},{x:-76.6,y:-426.52},{x:-58.43,y:-438.85},{x:-49.99,y:-465.47}]},{weapon:"flatline",barrel:"3",stock:"3",comment:"3 3 290 3173.png",points:[{x:0,y:0},{x:-29.38,y:-43.77},{x:-39.57,y:-71.35},{x:-81.54,y:-100.12},{x:-106.12,y:-132.5},{x:-125.3,y:-158.88},{x:-123.51,y:-190.65},{x:-114.51,y:-205.04},{x:-85.13,y:-203.84},{x:-73.74,y:-195.45},{x:-63.55,y:-208.04},{x:-51.56,y:-229.02},{x:-57.56,y:-234.42},{x:-96.53,y:-248.81},{x:-101.32,y:-259.6},{x:-113.31,y:-248.81},{x:-130.1,y:-258.4},{x:-132.5,y:-280.58},{x:-132.5,y:-316.56},{x:-155.28,y:-337.54},{x:-174.47,y:-353.73},{x:-187.06,y:-351.33},{x:-184.06,y:-368.12},{x:-160.68,y:-386.1},{x:-153.48,y:-389.7},{x:-127.1,y:-405.89},{x:-112.71,y:-414.28},{x:-80.34,y:-406.49},{x:-64.75,y:-427.47},{x:-40.17,y:-444.26}]},{weapon:"flatline",barrel:"3",stock:"3",comment:"3 4 811 3046.png",points:[{x:0,y:0},{x:5.19,y:-42.68},{x:9.81,y:-62.3},{x:-24.23,y:-110.17},{x:-46.72,y:-129.78},{x:-66.33,y:-155.74},{x:-69.22,y:-182.27},{x:-54.22,y:-190.35},{x:-30.57,y:-178.23},{x:-17.88,y:-171.89},{x:-10.96,y:-188.04},{x:-6.34,y:-209.96},{x:-22.5,y:-214.57},{x:-61.14,y:-219.76},{x:-87.1,y:-217.46},{x:-117.09,y:-218.61},{x:-117.09,y:-231.3},{x:-119.98,y:-261.87},{x:-140.74,y:-291.29},{x:-170.74,y:-309.17},{x:-208.8,y:-310.32},{x:-226.11,y:-320.13},{x:-232.45,y:-346.09},{x:-220.34,y:-360.51},{x:-213.42,y:-368},{x:-184,y:-380.69},{x:-164.97,y:-390.5},{x:-145.36,y:-385.31},{x:-129.21,y:-404.92},{x:-114.21,y:-426.26}]},{weapon:"flatline",barrel:"3",stock:"3",comment:"3 5 250 3628.png",points:[{x:0,y:0},{x:9.53,y:-44.94},{x:-10.9,y:-76.27},{x:-26.56,y:-125.29},{x:-51.07,y:-157.98},{x:-55.84,y:-194.75},{x:-64.01,y:-224.03},{x:-45.62,y:-232.2},{x:-14.98,y:-229.48},{x:-9.53,y:-228.12},{x:4.09,y:-243.1},{x:19.75,y:-271.02},{x:8.17,y:-273.06},{x:-29.96,y:-288.04},{x:-42.22,y:-291.44},{x:-59.24,y:-295.53},{x:-66.73,y:-296.89},{x:-81.71,y:-326.85},{x:-89.88,y:-363.62},{x:-102.14,y:-373.16},{x:-140.27,y:-386.78},{x:-145.04,y:-395.63},{x:-140.27,y:-422.19},{x:-128.02,y:-426.27},{x:-125.97,y:-445.34},{x:-111.67,y:-458.28},{x:-91.25,y:-468.49},{x:-64.69,y:-465.77},{x:-51.75,y:-478.02},{x:-34.05,y:-507.98}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 1 297 3523.png",points:[{x:0,y:0},{x:9.96,y:-36.51},{x:19.92,y:-82.32},{x:7.97,y:-134.1},{x:17.26,y:-154.02},{x:19.25,y:-212.44},{x:40.5,y:-248.29},{x:60.41,y:-282.14},{x:34.52,y:-331.93},{x:63.73,y:-360.48},{x:71.03,y:-390.36},{x:51.78,y:-394.34},{x:37.84,y:-386.37},{x:25.23,y:-404.96},{x:9.29,y:-418.24},{x:15.27,y:-432.84},{x:41.82,y:-421.56},{x:60.41,y:-420.23},{x:51.12,y:-442.14},{x:57.76,y:-439.48},{x:49.79,y:-452.1},{x:42.49,y:-444.79},{x:39.83,y:-452.76},{x:27.88,y:-467.36},{x:39.83,y:-472.01},{x:41.16,y:-493.26}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 2 144 3650.png",points:[{x:0,y:0},{x:22.4,y:-42},{x:25.9,y:-81.2},{x:19.6,y:-128.8},{x:38.5,y:-149.8},{x:30.1,y:-211.4},{x:53.2,y:-248.5},{x:60.2,y:-286.3},{x:52.5,y:-350.7},{x:65.8,y:-366.8},{x:60.2,y:-405.3},{x:46.9,y:-415.8},{x:30.8,y:-407.4},{x:5.6,y:-427},{x:-2.8,y:-448.7},{x:21,y:-448.7},{x:21,y:-455.7},{x:21,y:-468.29},{x:16.8,y:-478.79},{x:-4.2,y:-482.99},{x:-19.6,y:-473.89},{x:-23.8,y:-485.09},{x:-15.4,y:-486.49},{x:-14.7,y:-489.29},{x:-7,y:-492.79},{x:-20.3,y:-510.99}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 3 313 3769.png",points:[{x:0,y:0},{x:16.98,y:-20.51},{x:21.93,y:-70.73},{x:7.78,y:-111.76},{x:19.1,y:-157.73},{x:33.95,y:-219.98},{x:46.68,y:-243.32},{x:46.68,y:-294.95},{x:49.51,y:-330.32},{x:71.44,y:-375.58},{x:58,y:-396.1},{x:36.78,y:-406},{x:19.1,y:-415.19},{x:-6.37,y:-426.51},{x:-12.73,y:-447.02},{x:-1.41,y:-456.22},{x:14.85,y:-454.1},{x:24.05,y:-459.05},{x:24.05,y:-473.9},{x:13.44,y:-490.88},{x:-1.41,y:-483.1},{x:-19.8,y:-496.54},{x:-24.05,y:-492.29},{x:-41.02,y:-507.15},{x:-34.66,y:-509.27},{x:-43.85,y:-527.66}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 4 458 3715.png",points:[{x:0,y:0},{x:-2.8,y:-28.74},{x:6.31,y:-79.91},{x:2.1,y:-124.08},{x:9.11,y:-167.54},{x:21.03,y:-199.78},{x:34.35,y:-246.75},{x:32.95,y:-302.13},{x:28.04,y:-350.5},{x:50.47,y:-385.55},{x:42.06,y:-414.99},{x:12.62,y:-425.51},{x:-14.72,y:-414.99},{x:-31.54,y:-435.32},{x:-39.96,y:-450.04},{x:-39.96,y:-479.48},{x:-28.04,y:-474.58},{x:-9.81,y:-473.87},{x:-4.91,y:-485.79},{x:-25.24,y:-502.62},{x:-45.56,y:-511.03},{x:-47.67,y:-505.42},{x:-53.98,y:-508.92},{x:-67.3,y:-506.82},{x:-72.2,y:-514.53},{x:-63.79,y:-520.14}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 5 245 3879.png",points:[{x:0,y:0},{x:23.79,y:-44.7},{x:22.35,y:-77.14},{x:19.47,y:-131.22},{x:41.82,y:-161.5},{x:48.31,y:-207.64},{x:76.42,y:-245.85},{x:86.52,y:-301.37},{x:70.66,y:-345.35},{x:87.24,y:-397.26},{x:92.29,y:-423.22},{x:71.38,y:-431.15},{x:45.42,y:-424.66},{x:26.68,y:-448.45},{x:14.42,y:-466.47},{x:25.96,y:-470.8},{x:47.58,y:-473.68},{x:57.68,y:-462.87},{x:58.4,y:-486.66},{x:62.73,y:-501.8},{x:39.65,y:-498.92},{x:32.44,y:-499.64},{x:31.72,y:-495.31},{x:35.33,y:-501.8},{x:42.54,y:-514.78},{x:36.77,y:-542.9}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 6 244 3960.png",points:[{x:0,y:0},{x:16.23,y:-30.99},{x:21.39,y:-64.18},{x:14.75,y:-126.15},{x:18.44,y:-163.04},{x:20.66,y:-224.27},{x:35.41,y:-242.72},{x:48.69,y:-288.46},{x:23.61,y:-352.64},{x:42.79,y:-388.79},{x:38.36,y:-424.2},{x:16.97,y:-429.36},{x:-15.49,y:-428.63},{x:-17.71,y:-452.97},{x:-49.43,y:-470.68},{x:-30.25,y:-498.71},{x:-2.95,y:-485.43},{x:-3.69,y:-495.76},{x:7.38,y:-520.11},{x:3.69,y:-523.8},{x:-27.3,y:-533.39},{x:-39.84,y:-532.65},{x:-28.03,y:-531.91},{x:-27.3,y:-543.71},{x:-27.3,y:-554.78},{x:-50.9,y:-551.83}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 7 282 3631.png",points:[{x:0,y:0},{x:14.62,y:-42.48},{x:16.02,y:-87.04},{x:6.27,y:-126.73},{x:24.37,y:-158.76},{x:28.55,y:-211.69},{x:41.08,y:-231.88},{x:46.65,y:-284.1},{x:30.64,y:-331.45},{x:59.88,y:-371.84},{x:48.74,y:-391.34},{x:27.85,y:-405.27},{x:0,y:-403.18},{x:-4.87,y:-417.1},{x:-25.07,y:-432.42},{x:-12.53,y:-435.21},{x:-3.48,y:-436.6},{x:9.05,y:-442.17},{x:6.96,y:-457.49},{x:-10.45,y:-458.88},{x:-29.94,y:-474.9},{x:-26.46,y:-481.17},{x:-35.51,y:-479.77},{x:-53.62,y:-486.74},{x:-37.6,y:-495.09},{x:-39.69,y:-508.32}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 8 291 3681.png",points:[{x:0,y:0},{x:20.75,y:-38.05},{x:18.68,y:-74.02},{x:17.99,y:-132.82},{x:24.9,y:-172.26},{x:40.12,y:-218.61},{x:49.12,y:-249.05},{x:58.8,y:-305.08},{x:56.04,y:-348.67},{x:76.1,y:-378.41},{x:71.26,y:-401.24},{x:56.04,y:-424.07},{x:32.51,y:-419.92},{x:8.99,y:-441.37},{x:-6.92,y:-468.35},{x:30.44,y:-471.11},{x:20.75,y:-485.64},{x:16.6,y:-484.26},{x:11.76,y:-483.57},{x:4.15,y:-484.26},{x:-6.92,y:-484.26},{x:-24.21,y:-482.18},{x:-40.82,y:-486.33},{x:-40.12,y:-496.02},{x:-40.12,y:-501.55},{x:-40.12,y:-515.39}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 9 201 3665.png",points:[{x:0,y:0},{x:12.36,y:-25.42},{x:17.86,y:-66.63},{x:20.61,y:-125.02},{x:48.09,y:-166.92},{x:41.9,y:-217.76},{x:73.5,y:-235.62},{x:81.06,y:-280.95},{x:61.14,y:-337.97},{x:68.69,y:-364.07},{x:59.08,y:-397.73},{x:41.22,y:-410.78},{x:5.5,y:-401.17},{x:-15.11,y:-421.77},{x:-18.55,y:-451.31},{x:-19.23,y:-459.56},{x:-13.74,y:-463.68},{x:6.87,y:-459.56},{x:7.56,y:-462.3},{x:12.36,y:-471.23},{x:-.69,y:-489.78},{x:-24.73,y:-480.16},{x:-26.79,y:-473.98},{x:-26.1,y:-490.47},{x:-36.41,y:-498.71},{x:-27.48,y:-513.14}]},{weapon:"volt",barrel:"0",stock:"0",comment:"0 10 181 3776.png",points:[{x:0,y:0},{x:0,y:-48.83},{x:5.66,y:-78.55},{x:13.45,y:-133.04},{x:18.4,y:-193.2},{x:29.72,y:-227.16},{x:62.28,y:-247.69},{x:58.03,y:-287.32},{x:57.32,y:-335.44},{x:63.69,y:-371.53},{x:65.11,y:-399.13},{x:48.83,y:-416.11},{x:19.81,y:-413.99},{x:-2.12,y:-431.68},{x:-9.91,y:-450.08},{x:-14.15,y:-474.14},{x:-3.54,y:-474.14},{x:.71,y:-470.6},{x:19.81,y:-473.43},{x:24.06,y:-488.3},{x:17.69,y:-482.63},{x:-2.83,y:-481.93},{x:-14.86,y:-497.5},{x:-19.11,y:-499.62},{x:-17.69,y:-508.11},{x:-25.48,y:-528.63}]},{weapon:"volt",barrel:"1",stock:"1",comment:"1 1 158 3200.png",points:[{x:0,y:0},{x:7.84,y:-30.75},{x:21.1,y:-79.59},{x:24.12,y:-118.18},{x:42.81,y:-157.97},{x:36.78,y:-198.97},{x:65.12,y:-262.89},{x:45.82,y:-287.61},{x:62.1,y:-331.62},{x:65.12,y:-349.71},{x:34.37,y:-358.15},{x:22.91,y:-354.53},{x:9.65,y:-362.37},{x:0,y:-380.46},{x:0,y:-390.71},{x:25.93,y:-384.68},{x:47.63,y:-378.65},{x:53.66,y:-403.98},{x:42.81,y:-405.78},{x:25.32,y:-402.17},{x:24.72,y:-404.58},{x:25.32,y:-408.8},{x:26.53,y:-411.21},{x:20.5,y:-429.9},{x:26.53,y:-429.9},{x:22.31,y:-447.99}]},{weapon:"volt",barrel:"1",stock:"1",comment:"1 2 204 3642.png",points:[{x:0,y:0},{x:27.46,y:-32.95},{x:21.28,y:-68.64},{x:19.22,y:-118.74},{x:35.01,y:-159.93},{x:49.42,y:-210.03},{x:66.58,y:-234.05},{x:87.17,y:-271.12},{x:70.01,y:-303.38},{x:86.48,y:-358.29},{x:76.87,y:-363.09},{x:60.4,y:-385.74},{x:34.32,y:-395.35},{x:14.41,y:-404.28},{x:-2.06,y:-414.57},{x:14.41,y:-426.24},{x:24.71,y:-429.67},{x:41.87,y:-431.04},{x:35.01,y:-446.83},{x:19.9,y:-458.5},{x:2.75,y:-464.68},{x:-13.73,y:-466.05},{x:-15.1,y:-469.48},{x:-20.59,y:-486.64},{x:-21.28,y:-498.31},{x:-26.77,y:-509.98}]},{weapon:"volt",barrel:"1",stock:"1",comment:"1 3 187 3716.png",points:[{x:0,y:0},{x:8.29,y:-31.78},{x:9.67,y:-74.61},{x:13.82,y:-120.9},{x:28.32,y:-165.11},{x:27.63,y:-205.18},{x:62.18,y:-243.87},{x:66.32,y:-285.32},{x:53.89,y:-317.79},{x:71.16,y:-359.93},{x:66.32,y:-389.63},{x:52.5,y:-406.21},{x:38,y:-402.76},{x:1.38,y:-413.81},{x:-15.2,y:-444.21},{x:-4.84,y:-455.95},{x:15.2,y:-460.1},{x:18.65,y:-456.64},{x:17.96,y:-468.39},{x:29.02,y:-474.61},{x:12.44,y:-481.51},{x:3.45,y:-487.04},{x:-1.38,y:-491.88},{x:-6.91,y:-483.59},{x:-19.34,y:-489.8},{x:-26.94,y:-520.2}]},{weapon:"volt",barrel:"1",stock:"1",comment:"1 4 129 3375.png",points:[{x:0,y:0},{x:24.33,y:-20.49},{x:25.61,y:-60.82},{x:12.81,y:-107.56},{x:27.53,y:-144.06},{x:35.21,y:-197.84},{x:56.98,y:-215.12},{x:60.82,y:-259.94},{x:51.22,y:-299.64},{x:70.43,y:-332.29},{x:48.02,y:-383.51},{x:35.85,y:-375.19},{x:14.73,y:-370.71},{x:9.6,y:-392.47},{x:8.96,y:-409.12},{x:-17.29,y:-414.24},{x:-7.04,y:-420.64},{x:-1.28,y:-439.21},{x:22.41,y:-423.85},{x:16.65,y:-430.89},{x:13.45,y:-437.29},{x:12.81,y:-429.61},{x:0,y:-438.57},{x:-16.01,y:-448.18},{x:0,y:-454.58},{x:-17.93,y:-472.51}]},{weapon:"volt",barrel:"1",stock:"1",comment:"1 5 456 3696.png",points:[{x:0,y:0},{x:16.7,y:-30.62},{x:11.13,y:-77.93},{x:9.74,y:-128.72},{x:25.05,y:-162.82},{x:20.18,y:-213.61},{x:28.53,y:-239.35},{x:44.53,y:-284.58},{x:23.66,y:-336.77},{x:34.79,y:-375.73},{x:27.14,y:-396.6},{x:11.13,y:-413.3},{x:-9.74,y:-416.09},{x:-29.22,y:-421.65},{x:-49.4,y:-448.79},{x:-38.27,y:-464.1},{x:-20.87,y:-454.36},{x:-12.52,y:-464.79},{x:-4.87,y:-470.36},{x:-22.27,y:-468.27},{x:-44.53,y:-483.58},{x:-50.79,y:-479.4},{x:-63.32,y:-484.27},{x:-66.8,y:-499.58},{x:-57.75,y:-499.58},{x:-61.93,y:-517.67}]},{weapon:"volt",barrel:"2",stock:"2",comment:"2 1 275 3348.png",points:[{x:0,y:0},{x:20.24,y:-43.02},{x:18.98,y:-80.97},{x:15.18,y:-130.32},{x:22.14,y:-169.54},{x:24.67,y:-216.35},{x:44.92,y:-239.13},{x:51.24,y:-286.57},{x:32.9,y:-318.84},{x:44.28,y:-359.96},{x:40.49,y:-382.73},{x:18.35,y:-379.57},{x:1.27,y:-380.83},{x:-19.61,y:-397.91},{x:-41.12,y:-408.03},{x:-39.85,y:-425.11},{x:-22.14,y:-418.79},{x:-8.86,y:-417.52},{x:3.16,y:-421.95},{x:-4.43,y:-413.09},{x:-29.73,y:-422.58},{x:-34.79,y:-433.97},{x:-33.53,y:-436.5},{x:-36.06,y:-447.26},{x:-58.2,y:-451.05},{x:-37.96,y:-468.76}]},{weapon:"volt",barrel:"2",stock:"2",comment:"2 2 185 3534.png",points:[{x:0,y:0},{x:19.34,y:-32.67},{x:18.67,y:-68.02},{x:10.67,y:-106.69},{x:23.34,y:-134.03},{x:24.67,y:-187.38},{x:42.68,y:-214.05},{x:60.68,y:-260.73},{x:47.35,y:-300.74},{x:58.68,y:-333.42},{x:62.68,y:-354.75},{x:26.01,y:-366.76},{x:23.34,y:-370.76},{x:-4,y:-385.43},{x:-8,y:-398.1},{x:22.01,y:-416.1},{x:20,y:-423.44},{x:16.67,y:-434.11},{x:7.34,y:-432.77},{x:-6,y:-422.1},{x:-22.67,y:-442.11},{x:-17.34,y:-444.11},{x:-19.34,y:-448.78},{x:-22.01,y:-467.45},{x:-33.34,y:-467.45},{x:-25.34,y:-494.79}]},{weapon:"volt",barrel:"2",stock:"2",comment:"2 3 141 3341.png",points:[{x:0,y:0},{x:12.03,y:-34.81},{x:20.89,y:-74.05},{x:13.92,y:-128.49},{x:32.91,y:-147.48},{x:32.91,y:-193.05},{x:39.88,y:-216.47},{x:50,y:-258.24},{x:31.65,y:-310.78},{x:51.9,y:-331.03},{x:43.04,y:-362.04},{x:27.22,y:-365.84},{x:9.49,y:-372.8},{x:-11.39,y:-375.97},{x:-21.52,y:-401.92},{x:-20.89,y:-413.31},{x:12.03,y:-413.94},{x:11.39,y:-418.38},{x:17.09,y:-428.5},{x:8.86,y:-442.43},{x:-8.86,y:-443.69},{x:-17.09,y:-450.02},{x:-34.18,y:-451.29},{x:-29.12,y:-458.25},{x:-19.62,y:-467.74},{x:-20.25,y:-462.68}]},{weapon:"volt",barrel:"2",stock:"2",comment:"2 4 148 3339.png",points:[{x:0,y:0},{x:12,y:-29.69},{x:14.53,y:-77.7},{x:14.53,y:-120.66},{x:29.69,y:-142.14},{x:32.85,y:-187.62},{x:56.86,y:-216.68},{x:44.22,y:-267.22},{x:44.22,y:-295.02},{x:54.33,y:-329.76},{x:57.49,y:-353.77},{x:39.8,y:-367.67},{x:18.32,y:-355.03},{x:1.26,y:-373.99},{x:-14.53,y:-389.78},{x:-11.37,y:-405.57},{x:16.43,y:-406.2},{x:18.32,y:-409.36},{x:30.32,y:-419.47},{x:9.48,y:-421.37},{x:-6.32,y:-426.42},{x:-7.58,y:-434.63},{x:-22.11,y:-428.31},{x:-22.74,y:-449.79},{x:-27.16,y:-460.53},{x:-20.22,y:-467.48}]},{weapon:"volt",barrel:"2",stock:"2",comment:"2 5 392 3387.png",points:[{x:0,y:0},{x:7,y:-33.73},{x:17.19,y:-70.65},{x:17.82,y:-122.21},{x:17.82,y:-157.22},{x:24.19,y:-188.41},{x:43.28,y:-222.78},{x:50.92,y:-262.24},{x:47.74,y:-315.07},{x:53.47,y:-335.44},{x:56.65,y:-368.54},{x:43.28,y:-380.63},{x:10.18,y:-372.99},{x:-8.91,y:-392.72},{x:-11.46,y:-402.91},{x:5.09,y:-423.28},{x:-.64,y:-434.73},{x:-4.46,y:-432.19},{x:-5.09,y:-429},{x:-19.73,y:-424.55},{x:-33.73,y:-424.55},{x:-42.01,y:-430.28},{x:-40.1,y:-444.92},{x:-40.1,y:-454.46},{x:-54.74,y:-446.19},{x:-54.74,y:-474.2}]},{weapon:"volt",barrel:"3",stock:"3",comment:"3 1 18 3040.png",points:[{x:0,y:0},{x:5.99,y:-31.73},{x:.6,y:-71.23},{x:1.2,y:-111.94},{x:20.95,y:-152.64},{x:21.55,y:-193.35},{x:36.51,y:-213.1},{x:51.48,y:-247.82},{x:40.7,y:-280.74},{x:53.27,y:-318.45},{x:52.68,y:-338.21},{x:46.09,y:-345.99},{x:9.58,y:-357.96},{x:2.99,y:-355.57},{x:-10.77,y:-372.33},{x:-5.39,y:-372.92},{x:19.16,y:-378.91},{x:28.73,y:-381.9},{x:34.72,y:-383.7},{x:4.19,y:-386.09},{x:-2.99,y:-392.08},{x:-8.38,y:-399.86},{x:-5.99,y:-404.05},{x:2.99,y:-402.26},{x:14.96,y:-401.66},{x:-2.39,y:-425.6}]},{weapon:"volt",barrel:"3",stock:"3",comment:"3 2 119 3213.png",points:[{x:0,y:0},{x:10.09,y:-27.76},{x:24.61,y:-66.88},{x:5.05,y:-112.31},{x:25.24,y:-141.33},{x:19.56,y:-193.06},{x:42.27,y:-208.21},{x:53,y:-252.37},{x:40.38,y:-291.49},{x:61.2,y:-321.14},{x:63.09,y:-348.9},{x:42.9,y:-349.53},{x:25.24,y:-346.38},{x:8.83,y:-363.41},{x:2.52,y:-376.66},{x:-3.79,y:-382.34},{x:13.25,y:-393.7},{x:28.39,y:-389.91},{x:27.13,y:-405.69},{x:30.28,y:-412.63},{x:-12.62,y:-412.63},{x:-3.15,y:-430.92},{x:-1.26,y:-427.14},{x:4.42,y:-431.56},{x:-25.87,y:-429.66},{x:-15.77,y:-449.85}]},{weapon:"volt",barrel:"3",stock:"3",comment:"3 3 222 3097.png",points:[{x:0,y:0},{x:4.75,y:-23.17},{x:14.26,y:-70.7},{x:8.91,y:-111.09},{x:17.23,y:-143.17},{x:13.66,y:-176.44},{x:37.43,y:-198.42},{x:46.34,y:-250.7},{x:49.9,y:-281},{x:53.47,y:-320.8},{x:51.09,y:-340.41},{x:33.86,y:-350.51},{x:17.82,y:-357.63},{x:-2.38,y:-362.98},{x:-6.53,y:-385.56},{x:-6.53,y:-391.5},{x:-.59,y:-399.22},{x:13.66,y:-393.28},{x:16.63,y:-411.7},{x:10.1,y:-420.61},{x:-16.04,y:-411.7},{x:-34.46,y:-415.26},{x:-46.34,y:-412.88},{x:-21.98,y:-412.88},{x:-24.36,y:-427.74},{x:-29.7,y:-433.68}]},{weapon:"volt",barrel:"3",stock:"3",comment:"3 4 185 3225.png",points:[{x:0,y:0},{x:8.54,y:-29.9},{x:10.98,y:-64.07},{x:24.41,y:-105.56},{x:29.9,y:-140.95},{x:25.02,y:-182.44},{x:44.54,y:-206.84},{x:58.57,y:-248.33},{x:31.12,y:-286.16},{x:49.42,y:-322.77},{x:53.69,y:-341.08},{x:36,y:-345.96},{x:11.59,y:-354.5},{x:.61,y:-368.53},{x:-21.36,y:-385.62},{x:-16.47,y:-393.55},{x:1.83,y:-397.82},{x:21.36,y:-403.92},{x:10.98,y:-407.58},{x:9.76,y:-424.67},{x:-14.03,y:-431.38},{x:-15.86,y:-424.06},{x:-20.14,y:-426.5},{x:-13.42,y:-438.7},{x:-10.98,y:-444.19},{x:-25.63,y:-451.52}]},{weapon:"volt",barrel:"3",stock:"3",comment:"3 5 118 3309.png",points:[{x:0,y:0},{x:9.9,y:-43.3},{x:16.7,y:-68.66},{x:14.23,y:-113.81},{x:28.45,y:-147.83},{x:28.45,y:-197.93},{x:54.43,y:-219.58},{x:53.81,y:-265.97},{x:41.44,y:-292.56},{x:59.38,y:-327.82},{x:56.29,y:-353.18},{x:34.02,y:-363.69},{x:14.23,y:-357.51},{x:-1.24,y:-372.97},{x:-9.9,y:-395.24},{x:-4.95,y:-401.42},{x:29.07,y:-390.91},{x:16.08,y:-405.75},{x:25.98,y:-426.16},{x:35.26,y:-430.49},{x:13.61,y:-428.64},{x:11.13,y:-434.2},{x:-4.95,y:-441.01},{x:-11.75,y:-444.1},{x:-12.99,y:-458.95},{x:-16.08,y:-463.28}]}]},{}],6:[function(t,e,n){e.exports=[{name:"r301",rpm:810,mags:[{size:18,audio:"r301_0"},{size:20,audio:"r301_1"},{size:25,audio:"r301_2"},{size:28,audio:"r301_3"}]},{name:"flatline",rpm:600,mags:[{size:20,audio:"flatline_0"},{size:25,audio:"flatline_1"},{size:28,audio:"flatline_2"},{size:30,audio:"flatline_3"}]},{name:"r99",rpm:1080,mags:[{size:20,audio:"r99_0"},{size:22,audio:"r99_1"},{size:24,audio:"r99_2"},{size:27,audio:"r99_3"}]},{name:"volt",rpm:720,mags:[{size:19,audio:"volt_0"},{size:21,audio:"volt_1"},{size:23,audio:"volt_2"},{size:26,audio:"volt_3"}]},{name:"alternator",rpm:600,mags:[{size:19,audio:"alternator_0"},{size:22,audio:"alternator_1"},{size:25,audio:"alternator_2"},{size:27,audio:"alternator_3"}]},{name:"devotion",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]},{name:"havoc",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]},{name:"hemlok",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]},{name:"lstar",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]},{name:"prowler",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]},{name:"re45",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]},{name:"spitfire",rpm:1,mags:[{size:1,audio:""},{size:1,audio:""},{size:1,audio:""},{size:1,audio:""}]}]},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.copy=n.clearError=n.assert=n.onError=n.error=n.checkT=void 0;var r=t("tslib");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,t);var n=document.getElementById("error-bar");n&&(n.classList.remove("hidden"),n.innerText="Error occured. See console for the details")}n.checkT=function(t,e){return"string"==typeof e?typeof t===e:t instanceof e},n.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.apply(void 0,t),new Error("error occured")},n.onError=o,n.assert=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw console.error.apply(console,r.__spreadArrays(["assertion failed"],e)),new Error("assertion failed")},n.clearError=function(){var t=document.getElementById("error-bar");t&&t.classList.add("hidden")},n.copy=function(t){return JSON.parse(JSON.stringify(t))}},{tslib:85}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.numberInputToObject=n.parseIntFromHex=n.convertHexToDecimal=n.convertDecimalToHex=n.rgbaToArgbHex=n.rgbaToHex=n.rgbToHex=n.hsvToRgb=n.rgbToHsv=n.hslToRgb=n.rgbToHsl=n.rgbToRgb=void 0;var h=t("./util");function a(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function i(t){return Math.round(255*parseFloat(t)).toString(16)}function r(t){return parseInt(t,16)}n.rgbToRgb=function(t,e,n){return{r:255*h.bound01(t,255),g:255*h.bound01(e,255),b:255*h.bound01(n,255)}},n.rgbToHsl=function(t,e,n){t=h.bound01(t,255),e=h.bound01(e,255),n=h.bound01(n,255);var r=Math.max(t,e,n),o=Math.min(t,e,n),i=0,a=0,s=(r+o)/2;if(r===o)i=a=0;else{var l=r-o,a=.5<s?l/(2-r-o):l/(r+o);switch(r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:a,l:s}},n.hslToRgb=function(t,e,n){var r,o,i;return t=h.bound01(t,360),e=h.bound01(e,100),n=h.bound01(n,100),0===e?r=i=o=n:(r=a(e=2*n-(n=n<.5?n*(1+e):n+e-n*e),n,t+1/3),o=a(e,n,t),i=a(e,n,t-1/3)),{r:255*r,g:255*o,b:255*i}},n.rgbToHsv=function(t,e,n){t=h.bound01(t,255),e=h.bound01(e,255),n=h.bound01(n,255);var r=Math.max(t,e,n),o=Math.min(t,e,n),i=0,a=r,s=r-o,l=0===r?0:s/r;if(r===o)i=0;else{switch(r){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4}i/=6}return{h:i,s:l,v:a}},n.hsvToRgb=function(t,e,n){t=6*h.bound01(t,360),e=h.bound01(e,100),n=h.bound01(n,100);var r=Math.floor(t),o=t-r,i=n*(1-e);return{r:255*[n,t=n*(1-o*e),i,i,e=n*(1-(1-o)*e),n][r=r%6],g:255*[e,n,n,t,i,i][r],b:255*[i,i,e,n,n,t][r]}},n.rgbToHex=function(t,e,n,r){return n=[h.pad2(Math.round(t).toString(16)),h.pad2(Math.round(e).toString(16)),h.pad2(Math.round(n).toString(16))],r&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")},n.rgbaToHex=function(t,e,n,r,o){return r=[h.pad2(Math.round(t).toString(16)),h.pad2(Math.round(e).toString(16)),h.pad2(Math.round(n).toString(16)),h.pad2(i(r))],o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")},n.rgbaToArgbHex=function(t,e,n,r){return[h.pad2(i(r)),h.pad2(Math.round(t).toString(16)),h.pad2(Math.round(e).toString(16)),h.pad2(Math.round(n).toString(16))].join("")},n.convertDecimalToHex=i,n.convertHexToDecimal=function(t){return r(t)/255},n.parseIntFromHex=r,n.numberInputToObject=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}},{"./util":18}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.names=void 0,n.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isValidCSSUnit=n.stringInputToObject=n.inputToRGB=void 0;var s=t("./conversion"),r=t("./css-color-names"),l=t("./util");n.inputToRGB=function(t){var e,n={r:0,g:0,b:0},r=1,o=null,i=!1,a=!1;return"object"==typeof(t="string"==typeof t?h(t):t)&&(c(t.r)&&c(t.g)&&c(t.b)?(n=s.rgbToRgb(t.r,t.g,t.b),i=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):c(t.h)&&c(t.s)&&c(t.v)?(o=l.convertToPercentage(t.s),e=l.convertToPercentage(t.v),n=s.hsvToRgb(t.h,o,e),i=!0,a="hsv"):c(t.h)&&c(t.s)&&c(t.l)&&(o=l.convertToPercentage(t.s),e=l.convertToPercentage(t.l),n=s.hslToRgb(t.h,o,e),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=l.boundAlpha(r),{ok:i,format:t.format||a,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}};var o="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",i="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?",t="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?",a={CSS_UNIT:new RegExp(o),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+t),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+t),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+t),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function h(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(r.names[t])t=r.names[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=a.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=a.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=a.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=a.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=a.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=a.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=a.hex8.exec(t))?{r:s.parseIntFromHex(n[1]),g:s.parseIntFromHex(n[2]),b:s.parseIntFromHex(n[3]),a:s.convertHexToDecimal(n[4]),format:e?"name":"hex8"}:(n=a.hex6.exec(t))?{r:s.parseIntFromHex(n[1]),g:s.parseIntFromHex(n[2]),b:s.parseIntFromHex(n[3]),format:e?"name":"hex"}:(n=a.hex4.exec(t))?{r:s.parseIntFromHex(n[1]+n[1]),g:s.parseIntFromHex(n[2]+n[2]),b:s.parseIntFromHex(n[3]+n[3]),a:s.convertHexToDecimal(n[4]+n[4]),format:e?"name":"hex8"}:!!(n=a.hex3.exec(t))&&{r:s.parseIntFromHex(n[1]+n[1]),g:s.parseIntFromHex(n[2]+n[2]),b:s.parseIntFromHex(n[3]+n[3]),format:e?"name":"hex"}}function c(t){return Boolean(a.CSS_UNIT.exec(String(t)))}n.stringInputToObject=h,n.isValidCSSUnit=c},{"./conversion":8,"./css-color-names":9,"./util":18}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.legacyRandom=n.fromRatio=void 0;var r=t("./index"),o=t("./util");n.fromRatio=function(t,e){var n={r:o.convertToPercentage(t.r),g:o.convertToPercentage(t.g),b:o.convertToPercentage(t.b)};return void 0!==t.a&&(n.a=Number(t.a)),new r.TinyColor(n,e)},n.legacyRandom=function(){return new r.TinyColor({r:Math.random(),g:Math.random(),b:Math.random()})}},{"./index":12,"./util":18}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tinycolor=n.TinyColor=void 0;var i=t("./conversion"),a=t("./css-color-names"),r=t("./format-input"),o=t("./util"),s=(l.prototype.isDark=function(){return this.getBrightness()<128},l.prototype.isLight=function(){return!this.isDark()},l.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},l.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4),n=n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4),t=t<=.03928?t/12.92:Math.pow((.055+t)/1.055,2.4);return.2126*e+.7152*n+.0722*t},l.prototype.getAlpha=function(){return this.a},l.prototype.setAlpha=function(t){return this.a=o.boundAlpha(t),this.roundA=Math.round(100*this.a)/100,this},l.prototype.toHsv=function(){var t=i.rgbToHsv(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},l.prototype.toHsvString=function(){var t=i.rgbToHsv(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),t=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+t+"%)":"hsva("+e+", "+n+"%, "+t+"%, "+this.roundA+")"},l.prototype.toHsl=function(){var t=i.rgbToHsl(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},l.prototype.toHslString=function(){var t=i.rgbToHsl(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),t=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+t+"%)":"hsla("+e+", "+n+"%, "+t+"%, "+this.roundA+")"},l.prototype.toHex=function(t){return i.rgbToHex(this.r,this.g,this.b,t=void 0===t?!1:t)},l.prototype.toHexString=function(t){return"#"+this.toHex(t=void 0===t?!1:t)},l.prototype.toHex8=function(t){return i.rgbaToHex(this.r,this.g,this.b,this.a,t=void 0===t?!1:t)},l.prototype.toHex8String=function(t){return"#"+this.toHex8(t=void 0===t?!1:t)},l.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},l.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},l.prototype.toPercentageRgb=function(){function t(t){return Math.round(100*o.bound01(t,255))+"%"}return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},l.prototype.toPercentageRgbString=function(){function t(t){return Math.round(100*o.bound01(t,255))}return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},l.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+i.rgbToHex(this.r,this.g,this.b,!1),e=0,n=Object.entries(a.names);e<n.length;e++){var r=n[e],o=r[0];if(t===r[1])return o}return!1},l.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1,r=this.a<1&&0<=this.a;return e||!r||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),(n="hsv"===t?this.toHsvString():n)||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},l.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},l.prototype.clone=function(){return new l(this.toString())},l.prototype.lighten=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=o.clamp01(e.l),new l(e)},l.prototype.brighten=function(t){void 0===t&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-t/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-t/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-t/100*255))),new l(e)},l.prototype.darken=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=o.clamp01(e.l),new l(e)},l.prototype.tint=function(t){return this.mix("white",t=void 0===t?10:t)},l.prototype.shade=function(t){return this.mix("black",t=void 0===t?10:t)},l.prototype.desaturate=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=o.clamp01(e.s),new l(e)},l.prototype.saturate=function(t){void 0===t&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=o.clamp01(e.s),new l(e)},l.prototype.greyscale=function(){return this.desaturate(100)},l.prototype.spin=function(t){var e=this.toHsl(),t=(e.h+t)%360;return e.h=t<0?360+t:t,new l(e)},l.prototype.mix=function(t,e){void 0===e&&(e=50);var n=this.toRgb(),t=new l(t).toRgb(),e=e/100;return new l({r:(t.r-n.r)*e+n.r,g:(t.g-n.g)*e+n.g,b:(t.b-n.b)*e+n.b,a:(t.a-n.a)*e+n.a})},l.prototype.analogous=function(t,e){void 0===t&&(t=6),void 0===e&&(e=30);var n=this.toHsl(),r=360/e,o=[this];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,o.push(new l(n));return o},l.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new l(t)},l.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var e=this.toHsv(),n=e.h,r=e.s,o=e.v,i=[],a=1/t;t--;)i.push(new l({h:n,s:r,v:o})),o=(o+a)%1;return i},l.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new l({h:(e+72)%360,s:t.s,l:t.l}),new l({h:(e+216)%360,s:t.s,l:t.l})]},l.prototype.onBackground=function(t){var e=this.toRgb(),t=new l(t).toRgb();return new l({r:t.r+(e.r-t.r)*e.a,g:t.g+(e.g-t.g)*e.a,b:t.b+(e.b-t.b)*e.a})},l.prototype.triad=function(){return this.polyad(3)},l.prototype.tetrad=function(){return this.polyad(4)},l.prototype.polyad=function(t){for(var e=this.toHsl(),n=e.h,r=[this],o=360/t,i=1;i<t;i++)r.push(new l({h:(n+i*o)%360,s:e.s,l:e.l}));return r},l.prototype.equals=function(t){return this.toRgbString()===new l(t).toRgbString()},l);function l(t,e){if(void 0===e&&(e={}),(t=void 0===t?"":t)instanceof l)return t;"number"==typeof t&&(t=i.numberInputToObject(t)),this.originalInput=t;var n=r.inputToRGB(t);this.originalInput=t,this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(t=e.format)&&void 0!==t?t:n.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=n.ok}n.TinyColor=s,n.tinycolor=function(t,e){return new s(t=void 0===t?"":t,e=void 0===e?{}:e)}},{"./conversion":8,"./css-color-names":9,"./format-input":10,"./util":18}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},{}],14:[function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./index");o(t("./index"),n),o(t("./css-color-names"),n),o(t("./readability"),n),o(t("./to-ms-filter"),n),o(t("./from-ratio"),n),o(t("./format-input"),n),o(t("./random"),n),o(t("./interfaces"),n),o(t("./conversion"),n),n.default=i.tinycolor},{"./conversion":8,"./css-color-names":9,"./format-input":10,"./from-ratio":11,"./index":12,"./interfaces":13,"./random":15,"./readability":16,"./to-ms-filter":17}],15:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.bounds=a.random=void 0;var s=t("./index");function l(t){334<=t&&t<=360&&(t-=360);for(var e=0,n=a.bounds;e<n.length;e++){var r=c(n[e]);if(r.hueRange&&t>=r.hueRange[0]&&t<=r.hueRange[1])return r}throw Error("Color not found")}function h(t,e){if(void 0===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var n=t[1]||1,t=t[0]||0;return e=(9301*e+49297)%233280,Math.floor(t+e/233280*(n-t))}function c(t){var e=t.lowerBounds[0][0],n=t.lowerBounds[t.lowerBounds.length-1][0],r=t.lowerBounds[t.lowerBounds.length-1][1],o=t.lowerBounds[0][1];return{name:t.name,hueRange:t.hueRange,lowerBounds:t.lowerBounds,saturationRange:[e,n],brightnessRange:[r,o]}}a.random=function t(e){if(void 0!==(e=void 0===e?{}:e).count&&null!==e.count){var n=e.count,r=[];for(e.count=void 0;n>r.length;)e.count=null,e.seed&&(e.seed+=1),r.push(t(e));return e.count=n,r}var o=function(t,e){return e=(e=h(function(e){var t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&0<t)return[t,t];if("string"==typeof e){if(t=a.bounds.find(function(t){return t.name===e})){var n=c(t);if(n.hueRange)return n.hueRange}if((n=new s.TinyColor(e)).isValid)return[n=n.toHsv().h,n]}return[0,360]}(t),e))<0?360+e:e}(e.hue,e.seed),i=function(t,e){if("monochrome"===e.hue)return 0;if("random"===e.luminosity)return h([0,100],e.seed);var t=l(t).saturationRange,n=t[0],r=t[1];switch(e.luminosity){case"bright":n=55;break;case"dark":n=r-10;break;case"light":r=55}return h([n,r],e.seed)}(o,e),i={h:o,s:i,v:function(t,e,n){var r=function(t,e){for(var n=l(t).lowerBounds,r=0;r<n.length-1;r++){var o=n[r][0],i=n[r][1],a=n[r+1][0],s=n[r+1][1];if(o<=e&&e<=a)return(a=(s-i)/(a-o))*e+(i-a*o)}return 0}(t,e),o=100;switch(n.luminosity){case"dark":o=r+20;break;case"light":r=(o+r)/2;break;case"random":r=0,o=100}return h([r,o],n.seed)}(o,i,e)};return void 0!==e.alpha&&(i.a=e.alpha),new s.TinyColor(i)},a.bounds=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}]},{"./index":12}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mostReadable=n.isReadable=n.readability=void 0;var y=t("./index");function p(t,e){t=new y.TinyColor(t),e=new y.TinyColor(e);return(Math.max(t.getLuminance(),e.getLuminance())+.05)/(Math.min(t.getLuminance(),e.getLuminance())+.05)}function f(t,e,n){void 0===n&&(n={level:"AA",size:"small"});var r=p(t,e);switch((null!==(e=n.level)&&void 0!==e?e:"AA")+(null!==(n=n.size)&&void 0!==n?n:"small")){case"AAsmall":case"AAAlarge":return 4.5<=r;case"AAlarge":return 3<=r;case"AAAsmall":return 7<=r;default:return!1}}n.readability=p,n.isReadable=f,n.mostReadable=function t(e,n,r){for(var o=null,i=0,a=(r=void 0===r?{includeFallbackColors:!1,level:"AA",size:"small"}:r).includeFallbackColors,s=r.level,l=r.size,h=0,c=n;h<c.length;h++){var u=c[h],d=p(e,u);i<d&&(i=d,o=new y.TinyColor(u))}return f(e,o,{level:s,size:l})||!a?o:(r.includeFallbackColors=!1,t(e,["#fff","#000"],r))}},{"./index":12}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toMsFilter=void 0;var o=t("./conversion"),i=t("./index");n.toMsFilter=function(t,e){var n=new i.TinyColor(t),r="#"+o.rgbaToArgbHex(n.r,n.g,n.b,n.a),t=r,n=n.gradientType?"GradientType = 1, ":"";return e&&(e=new i.TinyColor(e),t="#"+o.rgbaToArgbHex(e.r,e.g,e.b,e.a)),"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+t+")"}},{"./conversion":8,"./index":12}],18:[function(t,e,n){"use strict";function r(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)}function o(t){return"string"==typeof t&&-1!==t.indexOf("%")}Object.defineProperty(n,"__esModule",{value:!0}),n.pad2=n.convertToPercentage=n.boundAlpha=n.isPercentage=n.isOnePointZero=n.clamp01=n.bound01=void 0,n.bound01=function(t,e){var n=o(t=r(t)?"100%":t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))},n.clamp01=function(t){return Math.min(1,Math.max(0,t))},n.isOnePointZero=r,n.isPercentage=o,n.boundAlpha=function(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t},n.convertToPercentage=function(t){return t<=1?100*Number(t)+"%":t},n.pad2=function(t){return 1===t.length?"0"+t:String(t)}},{}],19:[function(t,e,n){"use strict";var r="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function u(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on".concat(e),function(){n(window.event)})}function d(t,e){for(var n=e.slice(0,e.length-1),r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function y(t){for(var e=(t=(t="string"!=typeof t?"":t).replace(/\s/g,"")).split(","),n=e.lastIndexOf("");0<=n;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}for(var o={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":r?173:189,"=":r?61:187,";":r?59:186,"'":222,"[":219,"]":221,"\\":220},p={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},f={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},x={16:!1,18:!1,17:!1,91:!1},g={},i=1;i<20;i++)o["f".concat(i)]=111+i;var _=[],a="all",m=[],v=function(t){return o[t.toLowerCase()]||p[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function s(t){a=t||"all"}function b(){return a||"all"}function l(t){var e=t.key,o=t.scope,i=t.method,a=void 0===(t=t.splitKey)?"+":t;y(e).forEach(function(t){var e,n=t.split(a),r=n.length,t=n[r-1],t="*"===t?"*":v(t);g[t]&&(o=o||b(),e=1<r?d(p,n):[],g[t]=g[t].map(function(t){return i&&t.method!==i||t.scope!==o||!function(t,e){for(var n=t.length>=e.length?t:e,r=t.length>=e.length?e:t,o=!0,i=0;i<n.length;i++)-1===r.indexOf(n[i])&&(o=!1);return o}(t.mods,e)?t:{}}))})}function w(t,e,n){var r;if(e.scope===n||"all"===e.scope){for(var o in r=0<e.mods.length,x)Object.prototype.hasOwnProperty.call(x,o)&&(!x[o]&&-1<e.mods.indexOf(+o)||x[o]&&-1===e.mods.indexOf(+o))&&(r=!1);(0!==e.mods.length||x[16]||x[18]||x[17]||x[91])&&!r&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function S(n){var t=g["*"],e=n.keyCode||n.which||n.charCode;if(A.filter.call(this,n)){if(-1===_.indexOf(e=93===e||224===e?91:e)&&229!==e&&_.push(e),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(t){var e=f[t];n[t]&&-1===_.indexOf(e)?_.push(e):!n[t]&&-1<_.indexOf(e)?_.splice(_.indexOf(e),1):"metaKey"===t&&n[t]&&3===_.length&&(n.ctrlKey||n.shiftKey||n.altKey||(_=_.slice(_.indexOf(e))))}),e in x){for(var r in x[e]=!0,p)p[r]===e&&(A[r]=!0);if(!t)return}for(var o in x)Object.prototype.hasOwnProperty.call(x,o)&&(x[o]=n[f[o]]);n.getModifierState&&(!n.altKey||n.ctrlKey)&&n.getModifierState("AltGraph")&&(-1===_.indexOf(17)&&_.push(17),-1===_.indexOf(18)&&_.push(18),x[17]=!0,x[18]=!0);var i=b();if(t)for(var a=0;a<t.length;a++)t[a].scope===i&&("keydown"===n.type&&t[a].keydown||"keyup"===n.type&&t[a].keyup)&&w(n,t[a],i);if(e in g)for(var s=0;s<g[e].length;s++)if(("keydown"===n.type&&g[e][s].keydown||"keyup"===n.type&&g[e][s].keyup)&&g[e][s].key){for(var l=g[e][s],h=l.splitKey,c=l.key.split(h),u=[],d=0;d<c.length;d++)u.push(v(c[d]));u.sort().join("")===_.sort().join("")&&w(n,l,i)}}}function A(t,e,n){_=[];var r=y(t),o=[],i="all",a=document,s=0,l=!1,h=!0,c="+";for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(i=e.scope),e.element&&(a=e.element),e.keyup&&(l=e.keyup),void 0!==e.keydown&&(h=e.keydown),"string"==typeof e.splitKey&&(c=e.splitKey)),"string"==typeof e&&(i=e);s<r.length;s++)o=[],1<(t=r[s].split(c)).length&&(o=d(p,t)),(t="*"===(t=t[t.length-1])?"*":v(t))in g||(g[t]=[]),g[t].push({keyup:l,keydown:h,scope:i,mods:o,shortcut:r[s],method:n,key:r[s],splitKey:c});void 0===a||(e=a,-1<m.indexOf(e))||!window||(m.push(a),u(a,"keydown",function(t){S(t)}),u(window,"focus",function(){_=[]}),u(a,"keyup",function(t){S(t),function(t){var e=t.keyCode||t.which||t.charCode,n=_.indexOf(e);if(0<=n&&_.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&_.splice(0,_.length),(e=93===e||224===e?91:e)in x)for(var r in x[e]=!1,p)p[r]===e&&(A[r]=!1)}(t)}))}var h,c,k={setScope:s,getScope:b,deleteScope:function(t,e){var n,r,o;for(o in t=t||b(),g)if(Object.prototype.hasOwnProperty.call(g,o))for(n=g[o],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++;b()===t&&s(e||"all")},getPressedKeyCodes:function(){return _.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=v(t)),-1!==_.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,n=e.tagName,t=!0;return t=e.isContentEditable||!("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)?!1:t},unbind:function(t){if(t){if(Array.isArray(t))t.forEach(function(t){t.key&&l(t)});else if("object"==typeof t)t.key&&l(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n[0],i=n[1];"function"==typeof o&&(i=o,o=""),l({key:t,scope:o,method:i,splitKey:"+"})}}else Object.keys(g).forEach(function(t){return delete g[t]})}};for(h in k)Object.prototype.hasOwnProperty.call(k,h)&&(A[h]=k[h]);"undefined"!=typeof window&&(c=window.hotkeys,A.noConflict=function(t){return t&&window.hotkeys===A&&(window.hotkeys=c),A},window.hotkeys=A),e.exports=A},{}],20:[function(t,e,n){"use strict";var r="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function u(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on".concat(e),function(){n(window.event)})}function d(t,e){for(var n=e.slice(0,e.length-1),r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function y(t){for(var e=(t=(t="string"!=typeof t?"":t).replace(/\s/g,"")).split(","),n=e.lastIndexOf("");0<=n;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}for(var o={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":r?173:189,"=":r?61:187,";":r?59:186,"'":222,"[":219,"]":221,"\\":220},p={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},f={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},x={16:!1,18:!1,17:!1,91:!1},g={},i=1;i<20;i++)o["f".concat(i)]=111+i;var _=[],a="all",m=[],v=function(t){return o[t.toLowerCase()]||p[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function s(t){a=t||"all"}function b(){return a||"all"}function l(t){var o=t.scope,i=t.method,e=t.splitKey,a=void 0===e?"+":e;y(t.key).forEach(function(t){var e,n=t.split(a),r=n.length,t=n[r-1],t="*"===t?"*":v(t);g[t]&&(o=o||b(),e=1<r?d(p,n):[],g[t]=g[t].map(function(t){return i&&t.method!==i||t.scope!==o||!function(t,e){for(var n=t.length<e.length?e:t,r=t.length<e.length?t:e,o=!0,i=0;i<n.length;i++)~r.indexOf(n[i])||(o=!1);return o}(t.mods,e)?t:{}}))})}function w(t,e,n){var r;if(e.scope===n||"all"===e.scope){for(var o in r=0<e.mods.length,x)Object.prototype.hasOwnProperty.call(x,o)&&(!x[o]&&~e.mods.indexOf(+o)||x[o]&&!~e.mods.indexOf(+o))&&(r=!1);(0!==e.mods.length||x[16]||x[18]||x[17]||x[91])&&!r&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function S(n){var t=g["*"],e=n.keyCode||n.which||n.charCode;if(A.filter.call(this,n)){if(~_.indexOf(e=93===e||224===e?91:e)||229===e||_.push(e),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(t){var e=f[t];n[t]&&!~_.indexOf(e)?_.push(e):!n[t]&&~_.indexOf(e)?_.splice(_.indexOf(e),1):"metaKey"===t&&n[t]&&3===_.length&&(n.ctrlKey||n.shiftKey||n.altKey||(_=_.slice(_.indexOf(e))))}),e in x){for(var r in x[e]=!0,p)p[r]===e&&(A[r]=!0);if(!t)return}for(var o in x)Object.prototype.hasOwnProperty.call(x,o)&&(x[o]=n[f[o]]);n.getModifierState&&(!n.altKey||n.ctrlKey)&&n.getModifierState("AltGraph")&&(~_.indexOf(17)||_.push(17),~_.indexOf(18)||_.push(18),x[17]=!0,x[18]=!0);var i=b();if(t)for(var a=0;a<t.length;a++)t[a].scope===i&&("keydown"===n.type&&t[a].keydown||"keyup"===n.type&&t[a].keyup)&&w(n,t[a],i);if(e in g)for(var s=0;s<g[e].length;s++)if(("keydown"===n.type&&g[e][s].keydown||"keyup"===n.type&&g[e][s].keyup)&&g[e][s].key){for(var l=g[e][s],h=l.key.split(l.splitKey),c=[],u=0;u<h.length;u++)c.push(v(h[u]));c.sort().join("")===_.sort().join("")&&w(n,l,i)}}}function A(t,e,n){_=[];var r=y(t),o=[],i="all",a=document,s=0,l=!1,h=!0,c="+";for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(i=e.scope),e.element&&(a=e.element),e.keyup&&(l=e.keyup),void 0!==e.keydown&&(h=e.keydown),"string"==typeof e.splitKey&&(c=e.splitKey)),"string"==typeof e&&(i=e);s<r.length;s++)o=[],1<(t=r[s].split(c)).length&&(o=d(p,t)),(t="*"===(t=t[t.length-1])?"*":v(t))in g||(g[t]=[]),g[t].push({keyup:l,keydown:h,scope:i,mods:o,shortcut:r[s],method:n,key:r[s],splitKey:c});void 0!==a&&(e=a,!~m.indexOf(e))&&window&&(m.push(a),u(a,"keydown",function(t){S(t)}),u(window,"focus",function(){_=[]}),u(a,"keyup",function(t){S(t),function(t){var e=t.keyCode||t.which||t.charCode,n=_.indexOf(e);if(n<0||_.splice(n,1),t.key&&"meta"==t.key.toLowerCase()&&_.splice(0,_.length),(e=93===e||224===e?91:e)in x)for(var r in x[e]=!1,p)p[r]===e&&(A[r]=!1)}(t)}))}var h,c,k={setScope:s,getScope:b,deleteScope:function(t,e){var n,r,o;for(o in t=t||b(),g)if(Object.prototype.hasOwnProperty.call(g,o))for(n=g[o],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++;b()===t&&s(e||"all")},getPressedKeyCodes:function(){return _.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=v(t)),!!~_.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,n=e.tagName,t=!0;return t=e.isContentEditable||!("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)?!1:t},unbind:function(t){if(t){if(Array.isArray(t))t.forEach(function(t){t.key&&l(t)});else if("object"==typeof t)t.key&&l(t);else if("string"==typeof t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n[0],i=n[1];"function"==typeof o&&(i=o,o=""),l({key:t,scope:o,method:i,splitKey:"+"})}}else Object.keys(g).forEach(function(t){return delete g[t]})}};for(h in k)Object.prototype.hasOwnProperty.call(k,h)&&(A[h]=k[h]);"undefined"!=typeof window&&(c=window.hotkeys,A.noConflict=function(t){return t&&window.hotkeys===A&&(window.hotkeys=c),A},window.hotkeys=A),e.exports=A},{}],21:[function(e,n,t){!function(t){!function(){"production"===t.env.NODE_ENV?n.exports=e("./dist/hotkeys.common.min.js"):n.exports=e("./dist/hotkeys.common.js")}.call(this)}.call(this,e("_process"))},{"./dist/hotkeys.common.js":19,"./dist/hotkeys.common.min.js":20,_process:81}],22:[function(t,e,r){!function(n){!function(){!function(){"use strict";function t(){this.init()}t.prototype={init:function(){var t=this||_;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||_;if(t=parseFloat(t),e.ctx||u(),void 0!==t&&0<=t&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,_.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=e._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*t)}return e}return e._volume},mute:function(t){var e=this||_;e.ctx||u(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,_.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=e._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=!!t||i._muted)}return e},stop:function(){for(var t=this||_,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||_,e=t._howls.length-1;0<=e;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,u()),t},codecs:function(t){return(this||_)._codecs[t.replace(/^x-/,"")]},_setup:function(){var e=this||_;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||_,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),r=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(r||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var s=this||_;if(!s._audioUnlocked&&s.ctx){s._audioUnlocked=!1,s.autoUnlock=!1,s._mobileUnloaded||44100===s.ctx.sampleRate||(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var l=function(t){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var e=new Audio;e._unlocked=!0,s._releaseHtml5Audio(e)}catch(t){s.noAudio=!0;break}for(var n=0;n<s._howls.length;n++)if(!s._howls[n]._webAudio)for(var r=s._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=s._howls[n]._soundById(r[o]);i&&i._node&&!i._node._unlocked&&(i._node._unlocked=!0,i._node.load())}s._autoResume();var a=s.ctx.createBufferSource();a.buffer=s._scratchBuffer,a.connect(s.ctx.destination),void 0===a.start?a.noteOn(0):a.start(0),"function"==typeof s.ctx.resume&&s.ctx.resume(),a.onended=function(){a.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0);for(var t=0;t<s._howls.length;t++)s._howls[t]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),s}},_obtainHtml5Audio:function(){var t=this||_;if(t._html5AudioPool.length)return t._html5AudioPool.pop();t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var e=this||_;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&_.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){var t;e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())},e.ctx.suspend().then(t,t))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&_.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};function e(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")}var _=new t;e.prototype={init:function(t){var e=this;return _.ctx||u(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=_.usingWebAudio&&!e._html5,void 0!==_.ctx&&_.ctx&&_.autoUnlock&&_._unlockAudio(),_._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(_.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var n,r,o=0;o<t._src.length;o++){if(t._format&&t._format[o])n=t._format[o];else{if("string"!=typeof(r=t._src[o])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=(n=(n=/^data:audio\/([^;,]+);/i.exec(r))||/\.([^.]+)$/.exec(r.split("?",1)[0]))&&n[1].toLowerCase()}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&_.codecs(n)){e=t._src[o];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new i(t),t._webAudio&&s(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,n){var r=this,t=null;if("number"==typeof e)t=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(void 0===e&&(e="__default",!r._playLock)){for(var o=0,i=0;i<r._sounds.length;i++)r._sounds[i]._paused&&!r._sounds[i]._ended&&(o++,t=r._sounds[i]._id);1===o?e=null:t=null}}var a=t?r._soundById(t):r._inactiveSound();if(!a)return null;if(t&&!e&&(e=a._sprite||"__default"),"loaded"!==r._state){a._sprite=e,a._ended=!1;var s=a._id;return r._queue.push({event:"play",action:function(){r.play(s)}}),s}if(t&&!a._paused)return n||r._loadQueue("play"),a._id;r._webAudio&&_._autoResume();var l=Math.max(0,0<a._seek?a._seek:r._sprite[e][0]/1e3),h=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-l),c=1e3*h/Math.abs(a._rate),u=r._sprite[e][0]/1e3,d=(r._sprite[e][0]+r._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;function y(){a._paused=!1,a._seek=l,a._start=u,a._stop=d,a._loop=!(!a._loop&&!r._sprite[e][2])}if(!(d<=l)){var p,f,x,g=a._node;return r._webAudio?(f=function(){r._playLock=!1,y(),r._refreshBuffer(a);var t=a._muted||r._muted?0:a._volume;g.gain.setValueAtTime(t,_.ctx.currentTime),a._playStart=_.ctx.currentTime,void 0===g.bufferSource.start?a._loop?g.bufferSource.noteGrainOn(0,l,86400):g.bufferSource.noteGrainOn(0,l,h):a._loop?g.bufferSource.start(0,l,86400):g.bufferSource.start(0,l,h),c!=1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),c)),n||setTimeout(function(){r._emit("play",a._id),r._loadQueue()},0)},"running"===_.state&&"interrupted"!==_.ctx.state?f():(r._playLock=!0,r.once("resume",f),r._clearTimer(a._id))):(p=function(){g.currentTime=l,g.muted=a._muted||r._muted||_._muted||g.muted,g.volume=a._volume*_.volume(),g.playbackRate=a._rate;try{var t=g.play();if(t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)?(r._playLock=!0,y(),t.then(function(){r._playLock=!1,g._unlocked=!0,n||(r._emit("play",a._id),r._loadQueue())}).catch(function(){r._playLock=!1,r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):n||(r._playLock=!1,y(),r._emit("play",a._id),r._loadQueue()),g.playbackRate=a._rate,g.paused)return void r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),c):(r._endTimers[a._id]=function(){r._ended(a),g.removeEventListener("ended",r._endTimers[a._id],!1)},g.addEventListener("ended",r._endTimers[a._id],!1))}catch(t){r._emit("playerror",a._id,t)}},"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=r._src,g.load()),f=window&&window.ejecta||!g.readyState&&_._navigator.isCocoonJS,3<=g.readyState||f?p():(r._playLock=!0,x=function(){p(),g.removeEventListener(_._canPlayEvent,x,!1)},g.addEventListener(_._canPlayEvent,x,!1),r._clearTimer(a._id))),a._id}r._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var o=e._soundById(n[r]);if(o&&!o._paused&&(o._seek=e.seek(n[r]),o._rateSeek=0,o._paused=!0,e._stopFade(n[r]),o._node))if(e._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||e._emit("pause",o?o._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),e||n._emit("stop",i._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=t,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(t?0:i._volume,_.ctx.currentTime):i._node&&(i._node.muted=!!_._muted||t),n._emit("mute",i._id))}return n},volume:function(){var t,e,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length||2===r.length&&void 0===r[1]?0<=n._getSoundIds().indexOf(r[0])?o=parseInt(r[0],10):t=parseFloat(r[0]):2<=r.length&&(t=parseFloat(r[0]),o=parseInt(r[1],10)),!(void 0!==t&&0<=t&&t<=1))return(e=o?n._soundById(o):n._sounds[0])?e._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===o&&(n._volume=t);for(var o=n._getSoundIds(o),i=0;i<o.length;i++)(e=n._soundById(o[i]))&&(e._volume=t,r[2]||n._stopFade(o[i]),n._webAudio&&e._node&&!e._muted?e._node.gain.setValueAtTime(t,_.ctx.currentTime):e._node&&!e._muted&&(e._node.volume=t*_.volume()),n._emit("volume",e._id));return n},fade:function(t,e,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(t,e,n,r)}}),o;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),o.volume(t,r);for(var i=o._getSoundIds(r),a=0;a<i.length;a++){var s,l,h=o._soundById(i[a]);h&&(r||o._stopFade(i[a]),o._webAudio&&!h._muted&&(l=(s=_.ctx.currentTime)+n/1e3,h._volume=t,h._node.gain.setValueAtTime(t,s),h._node.gain.linearRampToValueAtTime(e,l)),o._startFadeInterval(h,t,e,n,i[a],void 0===r))}return o},_startFadeInterval:function(e,n,r,o,t,i){var a=this,s=n,l=r-n,h=Math.abs(l/.01),h=Math.max(4,0<h?o/h:o),c=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var t=(Date.now()-c)/o;c=Date.now(),s+=l*t,s=Math.round(100*s)/100,s=l<0?Math.max(r,s):Math.min(r,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(r<n&&s<=r||n<r&&r<=s)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(r,e._id),a._emit("fade",e._id))},h)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(_.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;r._loop=t=o[0]}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var i=r._getSoundIds(e),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t)&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop));return r},rate:function(){var t,e=this,n=arguments;if(0===n.length?i=e._sounds[0]._id:1===n.length?0<=e._getSoundIds().indexOf(n[0])?i=parseInt(n[0],10):t=parseFloat(n[0]):2===n.length&&(t=parseFloat(n[0]),i=parseInt(n[1],10)),"number"!=typeof t)return((o=e._soundById(i))||e)._rate;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,n)}}),e;void 0===i&&(e._rate=t);for(var r,o,i=e._getSoundIds(i),a=0;a<i.length;a++)(o=e._soundById(i[a]))&&(e.playing(i[a])&&(o._rateSeek=e.seek(i[a]),o._playStart=e._webAudio?_.ctx.currentTime:o._playStart),o._rate=t,e._webAudio&&o._node&&o._node.bufferSource?o._node.bufferSource.playbackRate.setValueAtTime(t,_.ctx.currentTime):o._node&&(o._node.playbackRate=t),r=e.seek(i[a]),r=1e3*((e._sprite[o._sprite][0]+e._sprite[o._sprite][1])/1e3-r)/Math.abs(o._rate),!e._endTimers[i[a]]&&o._paused||(e._clearTimer(i[a]),e._endTimers[i[a]]=setTimeout(e._ended.bind(e,o),r)),e._emit("rate",o._id));return e},seek:function(){var t,e,n=this,r=arguments;if(0===r.length?e=n._sounds[0]._id:1===r.length?0<=n._getSoundIds().indexOf(r[0])?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0])):2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10)),void 0===e)return n;if("number"==typeof t&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(e);if(o){if(!("number"==typeof t&&0<=t)){if(n._webAudio){var i=n.playing(e)?_.ctx.currentTime-o._playStart:0,a=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(a+i*Math.abs(o._rate))}return o._node.currentTime}var s=n.playing(e);s&&n.pause(e,!0),o._seek=t,o._ended=!1,n._clearTimer(e),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=t);var l,h=function(){n._emit("seek",e),s&&n.play(e,!0)};s&&!n._webAudio?(l=function(){n._playLock?setTimeout(l,0):h()},setTimeout(l,0)):h()}return n},playing:function(t){if("number"==typeof t){t=this._soundById(t);return!!t&&!t._paused}for(var e=0;e<this._sounds.length;e++)if(!this._sounds[e]._paused)return!0;return!1},duration:function(t){var e=this._duration,t=this._soundById(t);return e=t?this._sprite[t._sprite][1]/1e3:e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(_._canPlayEvent,e[n]._loadFn,!1),e[n]._node.removeEventListener("ended",e[n]._endFn,!1),_._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=_._howls.indexOf(t);0<=r&&_._howls.splice(r,1);for(var o=!0,n=0;n<_._howls.length;n++)if(_._howls[n]._src===t._src||0<=t._src.indexOf(_._howls[n]._src)){o=!1;break}return a&&o&&delete a[t._src],_.noAudio=!1,t._state="unloaded",t._sounds=[],t=null},on:function(t,e,n,r){t=this["_on"+t];return"function"==typeof e&&t.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this,o=r["_on"+t],i=0;if("number"==typeof e&&(n=e,e=null),e||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(e===o[i].fn&&a||!e&&a){o.splice(i,1);break}}else if(t)r["_on"+t]=[];else for(var s=Object.keys(r),i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[]);return r},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this,o=r["_on"+t],i=o.length-1;0<=i;i--)o[i].id&&o[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(t,o[i].fn,o[i].id));return r._loadQueue(t),r},_loadQueue:function(t){var e,n=this;return 0<n._queue.length&&((e=n._queue[0]).event===t&&(n._queue.shift(),n._loadQueue()),t||e.action()),n},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[n][2]);return e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r&&(e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=_.ctx.currentTime,n=1e3*(t._stop-t._start)/Math.abs(t._rate),e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),n)),e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),_._autoSuspend()),e._webAudio||r||e.stop(t._id,!0),e},_clearTimer:function(t){var e,n=this;return n._endTimers[t]&&("function"!=typeof n._endTimers[t]?clearTimeout(n._endTimers[t]):(e=n._soundById(t))&&e._node&&e._node.removeEventListener("ended",n._endTimers[t],!1),delete n._endTimers[t]),n},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new i(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;0<=r;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){if(void 0!==t)return[t];for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e},_refreshBuffer:function(t){return t._node.bufferSource=_.ctx.createBufferSource(),t._node.bufferSource.buffer=a[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,_.ctx.currentTime),this},_cleanBuffer:function(t){var e=_._navigator&&0<=_._navigator.vendor.indexOf("Apple");if(_._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=_._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(_._navigator&&_._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(t){this._parent=t,this.init()};i.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++_._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=_._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===_.ctx.createGain?_.ctx.createGainNode():_.ctx.createGain(),t._node.gain.setValueAtTime(n,_.ctx.currentTime),t._node.paused=!0,t._node.connect(_.masterGain)):_.noAudio||(t._node=_._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(_._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?"auto":e._preload,t._node.volume=n*_.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++_._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(_._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var a={},s=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void c(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);h(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?h(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},h=function(t,e){function n(){e._emit("loaderror",null,"Decoding audio data failed.")}function r(t){t&&0<e._sounds.length?(a[e._src]=t,c(e,t)):n()}"undefined"!=typeof Promise&&1===_.ctx.decodeAudioData.length?_.ctx.decodeAudioData(t).then(r).catch(n):_.ctx.decodeAudioData(t,r,n)},c=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},u=function(){if(_.usingWebAudio){try{"undefined"!=typeof AudioContext?_.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?_.ctx=new webkitAudioContext:_.usingWebAudio=!1}catch(t){_.usingWebAudio=!1}_.ctx||(_.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(_._navigator&&_._navigator.platform),e=_._navigator&&_._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=e?parseInt(e[1],10):null;t&&e&&e<9&&(e=/safari/.test(_._navigator&&_._navigator.userAgent.toLowerCase()),_._navigator&&!e&&(_.usingWebAudio=!1)),_.usingWebAudio&&(_.masterGain=void 0===_.ctx.createGain?_.ctx.createGainNode():_.ctx.createGain(),_.masterGain.gain.setValueAtTime(_._muted?0:_._volume,_.ctx.currentTime),_.masterGain.connect(_.ctx.destination)),_._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:_,Howl:e}}),void 0!==r&&(r.Howler=_,r.Howl=e),void 0!==n?(n.HowlerGlobal=t,n.Howler=_,n.Howl=e,n.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=t,window.Howler=_,window.Howl=e,window.Sound=i)}(),function(){"use strict";var n,r,o;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;0<=n;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e="number"!=typeof e?r._pos[1]:e,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof t?r._pos:(r._pos=[t,e,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e="number"!=typeof e?s[1]:e,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof t?s:(a._orientation=[t,e,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,n,r,o,i),a)},Howl.prototype.init=(n=Howl.prototype.init,function(t){var e=this;return e._orientation=t.orientation||[1,0,0],e._stereo=t.stereo||null,e._pos=t.pos||null,e._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},e._onstereo=t.onstereo?[{fn:t.onstereo}]:[],e._onpos=t.onpos?[{fn:t.onpos}]:[],e._onorientation=t.onorientation?[{fn:t.onorientation}]:[],n.call(this,t)}),Howl.prototype.stereo=function(t,e){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,e)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===e){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var o=n._getSoundIds(e),i=0;i<o.length;i++){var a=n._soundById(o[i]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||h(a,r),"spatial"==r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(t,e,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,e,n,r)}}),o;if(e="number"!=typeof e?0:e,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof t)return o._pos;o._pos=[t,e,n]}for(var i=o._getSoundIds(r),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof t)return s._pos;s._pos=[t,e,n],s._node&&(s._panner&&!s._panner.pan||h(s,"spatial"),void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setPosition(t,e,n)),o._emit("pos",s._id)}}return o},Howl.prototype.orientation=function(t,e,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,e,n,r)}}),o;if(e="number"!=typeof e?o._orientation[1]:e,n="number"!=typeof n?o._orientation[2]:n,void 0===r){if("number"!=typeof t)return o._orientation;o._orientation=[t,e,n]}for(var i=o._getSoundIds(r),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof t)return s._orientation;s._orientation=[t,e,n],s._node&&(s._panner||(s._pos||(s._pos=o._pos||[0,0,-.5]),h(s,"spatial")),void 0!==s._panner.orientationX?(s._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(e,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setOrientation(t,e,n)),o._emit("orientation",s._id)}}return o},Howl.prototype.pannerAttr=function(){var t,e,n=this,r=arguments;if(!n._webAudio)return n;if(0===r.length)return n._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return((a=n._soundById(parseInt(r[0],10)))||n)._pannerAttr;t=r[0],void 0===e&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:n._panningModel})}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var o,i,a,s=n._getSoundIds(e),l=0;l<s.length;l++)(a=n._soundById(s[l]))&&(o=a._pannerAttr,o={coneInnerAngle:(void 0!==t.coneInnerAngle?t:o).coneInnerAngle,coneOuterAngle:(void 0!==t.coneOuterAngle?t:o).coneOuterAngle,coneOuterGain:(void 0!==t.coneOuterGain?t:o).coneOuterGain,distanceModel:(void 0!==t.distanceModel?t:o).distanceModel,maxDistance:(void 0!==t.maxDistance?t:o).maxDistance,refDistance:(void 0!==t.refDistance?t:o).refDistance,rolloffFactor:(void 0!==t.rolloffFactor?t:o).rolloffFactor,panningModel:(void 0!==t.panningModel?t:o).panningModel},(i=a._panner)?(i.coneInnerAngle=o.coneInnerAngle,i.coneOuterAngle=o.coneOuterAngle,i.coneOuterGain=o.coneOuterGain,i.distanceModel=o.distanceModel,i.maxDistance=o.maxDistance,i.refDistance=o.refDistance,i.rolloffFactor=o.rolloffFactor,i.panningModel=o.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),h(a,"spatial")));return n},Sound.prototype.init=(r=Sound.prototype.init,function(){var t=this,e=t._parent;t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,r.call(this),t._stereo?e.stereo(t._stereo):t._pos&&e.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}),Sound.prototype.reset=(o=Sound.prototype.reset,function(){var t=this,e=t._parent;return t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,t._stereo?e.stereo(t._stereo):t._pos?e.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,e._refreshBuffer(t)),o.call(this)});var h=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(t,e,n){e.exports=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),c=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},t=(o.prototype.setLayers=function(t){var e=[],e=t?0<t.length?t:[t]:[];return this.layers=e,this},o.prototype.getLayers=function(){return this.layers},o.prototype.addLayer=function(t){for(var e=this.layers,n=e.length,r=0;r<n;r++)if(e[r]._id===t._id)return!1;return this.layers.push(t),!0},o.prototype.isRunning=function(){for(var t=o.animations,e=t.length,n=0;n<e;n++)if(t[n].id===this.id)return!0;return!1},o.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=c(),o._addAnimation(this),this},o.prototype.stop=function(){return o._removeAnimation(this),this},o.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},o._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},o._removeAnimation=function(t){for(var e=t.id,n=this.animations,r=n.length,o=0;o<r;o++)if(n[o].id===e){this.animations.splice(o,1);break}},o._runFrames=function(){for(var t,e,n,r,o,i,a,s={},l=this.animations,h=0;h<l.length;h++)if(e=(t=l[h]).layers,n=t.func,t._updateFrameObject(c()),o=e.length,!n||!1!==n.call(t,t.frame))for(r=0;r<o;r++)void 0!==(i=e[r])._id&&(s[i._id]=i);for(a in s)s.hasOwnProperty(a)&&s[a].draw()},o._animationLoop=function(){var t=o;t.animations.length?(t._runFrames(),requestAnimationFrame(t._animationLoop)):t.animRunning=!1},o._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},o.animations=[],o.animIdCounter=0,o.animRunning=!1,o);function o(t,e){this.id=o.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:c(),frameRate:0},this.func=t,this.setLayers(e)}n.Animation=t},{"./Global":32}],25:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("./Util"),s=t("./Container"),l=t("./Node"),h=t("./Factory"),c=t("./Canvas"),o=(i=s.Container,o(u,i),u.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},u.prototype.getCanvas=function(){return this.canvas},u.prototype.getHitCanvas=function(){return this.hitCanvas},u.prototype.getContext=function(){return this.getCanvas().getContext()},u.prototype.clear=function(t){return this.getContext().clear(t),this},u.prototype.setZIndex=function(t){i.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.children.length-1?e.content.insertBefore(this.getCanvas()._canvas,e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},u.prototype.moveToTop=function(){l.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},u.prototype.moveUp=function(){if(!l.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},u.prototype.moveDown=function(){if(l.Node.prototype.moveDown.call(this)){var t,e=this.getStage();return e&&(t=e.children,e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[this.index+1].getCanvas()._canvas)),!0}return!1},u.prototype.moveToBottom=function(){if(l.Node.prototype.moveToBottom.call(this)){var t,e=this.getStage();return e&&(t=e.children,e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[1].getCanvas()._canvas)),!0}return!1},u.prototype.getLayer=function(){return this},u.prototype.hitGraphEnabled=function(){return!0},u.prototype.remove=function(){var t=this.getCanvas()._canvas;return l.Node.prototype.remove.call(this),t&&t.parentNode&&a.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},u.prototype.getStage=function(){return this.parent},u.prototype.setSize=function(t){var e=t.width,t=t.height;return this.canvas.setSize(e,t),this._setSmoothEnabled(),this},u.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),l.Node.prototype._toKonvaCanvas.call(this,t)},u.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},u.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},u.prototype.getWidth=function(){if(this.parent)return this.parent.width()},u.prototype.setWidth=function(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},u.prototype.getHeight=function(){if(this.parent)return this.parent.height()},u.prototype.setHeight=function(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},u.prototype.getIntersection=function(t,e){return null},u.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(function(){t.draw(),t._waitingForDraw=!1})),this},u.prototype._applyTransform=function(t,e,n){n=t.getAbsoluteTransform(n).getMatrix();e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},u);function u(t){t=i.call(this,t)||this;return t.canvas=new c.SceneCanvas,t._waitingForDraw=!1,t.on("visibleChange",t._checkVisibility),t._checkVisibility(),t.on("imageSmoothingEnabledChange",t._setSmoothEnabled),t._setSmoothEnabled(),t}(n.BaseLayer=o).prototype.nodeType="BaseLayer",h.Factory.addGetterSetter(o,"imageSmoothingEnabled",!0),h.Factory.addGetterSetter(o,"clearBeforeDraw",!0),a.Collection.mapMethods(o)},{"./Canvas":26,"./Container":27,"./Factory":30,"./Node":35,"./Util":40}],26:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("./Util"),s=t("./Context"),l=t("./Global"),h=t("./Factory"),c=t("./Validators");u.prototype.getContext=function(){return this.context},u.prototype.getPixelRatio=function(){return this.pixelRatio},u.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},u.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";t=this.pixelRatio;this.getContext()._context.scale(t,t)},u.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";t=this.pixelRatio;this.getContext()._context.scale(t,t)},u.prototype.getWidth=function(){return this.width},u.prototype.getHeight=function(){return this.height},u.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},u.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return a.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t=u;function u(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;t=(t||{}).pixelRatio||l.Konva.pixelRatio||function(){if(i)return i;var t=a.Util.createCanvasElement().getContext("2d");return i=(l.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=t,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}n.Canvas=t,h.Factory.addGetterSetter(t,"pixelRatio",void 0,c.getNumberValidator());var d,c=(o(y,d=t),y);function y(t){var e=d.call(this,t=void 0===t?{width:0,height:0}:t)||this;return e.context=new s.SceneContext(e),e.setSize(t.width,t.height),e}n.SceneCanvas=c;var p,t=(o(f,p=t),f);function f(t){var e=p.call(this,t=void 0===t?{width:0,height:0}:t)||this;return e.hitCanvas=!0,e.context=new s.HitContext(e),e.setSize(t.width,t.height),e}n.HitCanvas=t},{"./Context":28,"./Factory":30,"./Global":32,"./Util":40,"./Validators":41}],27:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("./Util"),s=t("./Factory"),l=t("./Node"),h=t("./DragAndDrop"),c=t("./Validators"),u=t("./Global"),o=(i=l.Node,o(d,i),d.prototype.getChildren=function(e){if(!e)return this.children;var n=new a.Collection;return this.children.each(function(t){e(t)&&n.push(t)}),n},d.prototype.hasChildren=function(){return 0<this.getChildren().length},d.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new a.Collection,this},d.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new a.Collection,this},d.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1<arguments.length){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var o=this.children;return this._validateAdd(r),r._clearCaches(),r.index=o.length,r.parent=this,o.push(r),this._fire("add",{child:r}),this},d.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),i.prototype.destroy.call(this),this},d.prototype.find=function(t){return this._generalFind(t,!1)},d.prototype.get=function(t){return a.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},d.prototype.findOne=function(t){t=this._generalFind(t,!0);return 0<t.length?t[0]:void 0},d.prototype._generalFind=function(n,r){var o=[];return this._descendants(function(t){var e=t._isMatch(n);return e&&o.push(t),!(!e||!r)}),a.Collection.toCollection(o)},d.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},d.prototype.toObject=function(){var t=l.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var o=e[r];t.children.push(o.toObject())}return t},d.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},d.prototype.clone=function(t){var e=l.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},d.prototype.getAllIntersections=function(e){var n=[];return this.find("Shape").each(function(t){t.isVisible()&&t.intersects(e)&&n.push(t)}),n},d.prototype._setChildrenIndices=function(){this.children.each(function(t,e){t.index=e})},d.prototype.drawScene=function(t,e,n){var r=this.getLayer(),o=t||r&&r.getCanvas(),i=o&&o.getContext(),t=this._getCanvasCache(),t=t&&t.scene;return(this.isVisible()||n)&&(!n&&t?(i.save(),r._applyTransform(this,i,e),this._drawCachedSceneCanvas(i),i.restore()):this._drawChildren(o,"drawScene",e,!1,n,n)),this},d.prototype.drawHit=function(t,e,n){var r=this.getLayer(),o=t||r&&r.hitCanvas,i=o&&o.getContext(),t=this._getCanvasCache(),t=t&&t.hit;return(this.shouldDrawHit(o)||n)&&(!n&&t?(i.save(),r._applyTransform(this,i,e),this._drawCachedHitCanvas(i),i.restore()):this._drawChildren(o,"drawHit",e,!1,n,n)),this},d.prototype._drawChildren=function(e,n,r,o,i,t){var a,s,l,h=this.getLayer(),c=e&&e.getContext(),u=this.clipWidth(),d=this.clipHeight(),y=this.clipFunc(),p=u&&d||y;p&&h&&(c.save(),l=(s=this.getAbsoluteTransform(r)).getMatrix(),c.transform(l[0],l[1],l[2],l[3],l[4],l[5]),c.beginPath(),y?y.call(this,c,this):(a=this.clipX(),y=this.clipY(),c.rect(a,y,u,d)),c.clip(),l=s.copy().invert().getMatrix(),c.transform(l[0],l[1],l[2],l[3],l[4],l[5]));t="source-over"!==this.globalCompositeOperation()&&!t&&"drawScene"===n;t&&h&&(c.save(),c._applyGlobalCompositeOperation(this)),this.children.each(function(t){t[n](e,r,o,i)}),t&&h&&c.restore(),p&&h&&c.restore()},d.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),n=!1;h.DD._dragElements.forEach(function(t){"dragging"===t.dragStatus&&t.node.getLayer()===e&&(n=!0)});t=!u.Konva.hitOnDragEnabled&&n;return e&&e.hitGraphEnabled()&&this.isVisible()&&!t},d.prototype.getClientRect=function(e){var n,r,o,i,t=(e=e||{}).skipTransform,a=e.relativeTo,s={x:1/0,y:1/0,width:0,height:0},l=this;this.children.each(function(t){t.visible()&&(0===(t=t.getClientRect({relativeTo:l,skipShadow:e.skipShadow,skipStroke:e.skipStroke})).width&&0===t.height||(i=void 0===n?(n=t.x,r=t.y,o=t.x+t.width,t.y+t.height):(n=Math.min(n,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x+t.width),Math.max(i,t.y+t.height))))});for(var h=this.find("Shape"),c=!1,u=0;u<h.length;u++)if(h[u]._isVisible(this)){c=!0;break}return s=c&&void 0!==n?{x:n,y:r,width:o-n,height:i-r}:{x:0,y:0,width:0,height:0},t?s:this._transformedRect(s,a)},d);function d(){var t=null!==i&&i.apply(this,arguments)||this;return t.children=new a.Collection,t}n.Container=o,s.Factory.addComponentsGetterSetter(o,"clip",["x","y","width","height"]),s.Factory.addGetterSetter(o,"clipX",void 0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"clipY",void 0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"clipWidth",void 0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"clipHeight",void 0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"clipFunc"),a.Collection.mapMethods(o)},{"./DragAndDrop":29,"./Factory":30,"./Global":32,"./Node":35,"./Util":40,"./Validators":41}],28:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var l=t("./Util"),h=t("./Global"),a=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],i=(s.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},s.prototype._fill=function(t){},s.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},s.prototype._stroke=function(t){},s.prototype.fillStrokeShape=function(t){this.fillShape(t),this.strokeShape(t)},s.prototype.getTrace=function(t){for(var e,n,r,o=this.traceArr,i=o.length,a="",s=0;s<i;s++)(n=(e=o[s]).method)?(r=e.args,a+=n,t?a+="()":l.Util._isArray(r[0])?a+="(["+r.join(",")+"])":a+="("+r.join(",")+")"):(a+=e.property,t||(a+="="+e.val)),a+=";";return a},s.prototype.clearTrace=function(){this.traceArr=[]},s.prototype._trace=function(t){var e=this.traceArr;e.push(t),100<=e.length&&e.shift()},s.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(+t,0,0,+t,0,0)},s.prototype.getCanvas=function(){return this.canvas},s.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},s.prototype._applyLineCap=function(t){t=t.getLineCap();t&&this.setAttr("lineCap",t)},s.prototype._applyOpacity=function(t){t=t.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},s.prototype._applyLineJoin=function(t){t=t.getLineJoin();t&&this.setAttr("lineJoin",t)},s.prototype.setAttr=function(t,e){this._context[t]=e},s.prototype.arc=function(t,e,n,r,o,i){this._context.arc(t,e,n,r,o,i)},s.prototype.arcTo=function(t,e,n,r,o){this._context.arcTo(t,e,n,r,o)},s.prototype.beginPath=function(){this._context.beginPath()},s.prototype.bezierCurveTo=function(t,e,n,r,o,i){this._context.bezierCurveTo(t,e,n,r,o,i)},s.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},s.prototype.clip=function(){this._context.clip()},s.prototype.closePath=function(){this._context.closePath()},s.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},s.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},s.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},s.prototype.createRadialGradient=function(t,e,n,r,o,i){return this._context.createRadialGradient(t,e,n,r,o,i)},s.prototype.drawImage=function(t,e,n,r,o,i,a,s,l){var h=arguments,c=this._context;3===h.length?c.drawImage(t,e,n):5===h.length?c.drawImage(t,e,n,r,o):9===h.length&&c.drawImage(t,e,n,r,o,i,a,s,l)},s.prototype.ellipse=function(t,e,n,r,o,i,a,s){this._context.ellipse(t,e,n,r,o,i,a,s)},s.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},s.prototype.fill=function(){this._context.fill()},s.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},s.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},s.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},s.prototype.measureText=function(t){return this._context.measureText(t)},s.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},s.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},s.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},s.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},s.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},s.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},s.prototype.restore=function(){this._context.restore()},s.prototype.rotate=function(t){this._context.rotate(t)},s.prototype.save=function(){this._context.save()},s.prototype.scale=function(t,e){this._context.scale(t,e)},s.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},s.prototype.getLineDash=function(){return this._context.getLineDash()},s.prototype.setTransform=function(t,e,n,r,o,i){this._context.setTransform(t,e,n,r,o,i)},s.prototype.stroke=function(){this._context.stroke()},s.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},s.prototype.transform=function(t,e,n,r,o,i){this._context.transform(t,e,n,r,o,i)},s.prototype.translate=function(t,e){this._context.translate(t,e)},s.prototype._enableTrace=function(){for(var r,o=this,t=a.length,i=l.Util._simplifyArray,n=this.setAttr,e=0;e<t;e++)!function(t){var e,n=o[t];o[t]=function(){return r=i(Array.prototype.slice.call(arguments,0)),e=n.apply(o,arguments),o._trace({method:t,args:r}),e}}(a[e]);o.setAttr=function(){n.apply(o,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),o._trace({property:t,val:e})}},s.prototype._applyGlobalCompositeOperation=function(t){t=t.getGlobalCompositeOperation();"source-over"!==t&&this.setAttr("globalCompositeOperation",t)},s);function s(t){this.canvas=t,this._context=t._canvas.getContext("2d"),h.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}n.Context=i,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(e){Object.defineProperty(i.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})});var c,t=(o(u,c=i),u.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},u.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=h.Konva.getAngle(t.getFillPatternRotation()),o=t.getFillPatternOffsetX(),i=t.getFillPatternOffsetY(),a=t.getFillPatternScaleX(),s=t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(a||s)&&this.scale(a,s),(o||i)&&this.translate(-1*o,-1*i),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},u.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},u.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},u.prototype._fill=function(t){var e,n,r,o=t.fill(),i=t.getFillPriority();o&&"color"===i?this._fillColor(t):(e=t.getFillPatternImage())&&"pattern"===i?this._fillPattern(t):(n=t.getFillLinearGradientColorStops())&&"linear-gradient"===i?this._fillLinearGradient(t):(r=t.getFillRadialGradientColorStops())&&"radial-gradient"===i?this._fillRadialGradient(t):o?this._fillColor(t):e?this._fillPattern(t):n?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)},u.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var i=0;i<r.length;i+=2)o.addColorStop(r[i],r[i+1]);this.setAttr("strokeStyle",o)}},u.prototype._stroke=function(t){var e,n=t.dash(),r=t.getStrokeScaleEnabled();t.hasStroke()&&(r||(this.save(),e=this.getCanvas().getPixelRatio(),this.setTransform(e,0,0,e,0,0)),this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore())},u.prototype._applyShadow=function(t){var e=l.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOffset(),{x:0,y:0}),i=t.getAbsoluteScale(),e=this.canvas.getPixelRatio(),t=i.x*e,e=i.y*e;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(t),Math.abs(e))),this.setAttr("shadowOffsetX",o.x*t),this.setAttr("shadowOffsetY",o.y*e)},u);function u(){return null!==c&&c.apply(this,arguments)||this}n.SceneContext=t;var d,o=(o(y,d=i),y.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},y.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},y.prototype._stroke=function(t){var e,n;t.hasHitStroke()&&((e=t.getStrokeScaleEnabled())||(this.save(),n=this.getCanvas().getPixelRatio(),this.setTransform(n,0,0,n,0,0)),this._applyLineCap(t),n="auto"===(n=t.hitStrokeWidth())?t.strokeWidth():n,this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore())},y);function y(){return null!==d&&d.apply(this,arguments)||this}n.HitContext=o},{"./Global":32,"./Util":40}],29:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Global"),a=t("./Util");o.DD={get isDragging(){var e=!1;return o.DD._dragElements.forEach(function(t){"dragging"===t.dragStatus&&(e=!0)}),e},justDragged:!1,get node(){var e;return o.DD._dragElements.forEach(function(t){e=t.node}),e},_dragElements:new Map,_drag:function(i){o.DD._dragElements.forEach(function(e,t){var n=e.node,r=n.getStage();r.setPointersPositions(i),void 0===e.pointerId&&(e.pointerId=a.Util._getFirstPointerId(i));var o=r._changedPointerPositions.find(function(t){return t.id===e.pointerId});if(o){if("dragging"!==e.dragStatus){r=n.dragDistance();if(Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y))<r)return;if(n.startDrag({evt:i}),!n.isDragging())return}n._setDragPosition(i,e),n.fire("dragmove",{type:"dragmove",target:n,evt:i},!0)}})},_endDragBefore:function(r){o.DD._dragElements.forEach(function(e,t){var n=e.node.getStage();r&&n.setPointersPositions(r),n._changedPointerPositions.find(function(t){return t.id===e.pointerId})&&("dragging"!==e.dragStatus&&"stopped"!==e.dragStatus||(o.DD.justDragged=!0,i.Konva.listenClickTap=!1,e.dragStatus="stopped"),(n=e.node.getLayer()||e.node instanceof i.Konva.Stage&&e.node)&&n.draw())})},_endDragAfter:function(n){o.DD._dragElements.forEach(function(t,e){"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:n},!0),"dragging"!==t.dragStatus&&o.DD._dragElements.delete(e)})}},i.Konva.isBrowser&&(window.addEventListener("mouseup",o.DD._endDragBefore,!0),window.addEventListener("touchend",o.DD._endDragBefore,!0),window.addEventListener("mousemove",o.DD._drag),window.addEventListener("touchmove",o.DD._drag),window.addEventListener("mouseup",o.DD._endDragAfter,!1),window.addEventListener("touchend",o.DD._endDragAfter,!1))},{"./Global":32,"./Util":40}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var d=t("./Util"),y=t("./Validators"),p="get",f="set";i.Factory={addGetterSetter:function(t,e,n,r,o){this.addGetter(t,e,n),this.addSetter(t,e,r,o),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var r=p+d.Util._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,e,n,r){var o=f+d.Util._capitalize(e);t.prototype[o]||i.Factory.overWriteSetter(t,e,n,r)},overWriteSetter:function(t,e,n,r){var o=f+d.Util._capitalize(e);t.prototype[o]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),r&&r.call(this),this}},addComponentsGetterSetter:function(t,r,e,o,i){var n,a,s=e.length,l=d.Util._capitalize,h=p+l(r),c=f+l(r);t.prototype[h]=function(){var t={};for(n=0;n<s;n++)t[a=e[n]]=this.getAttr(r+l(a));return t};var u=y.getComponentValidator(e);t.prototype[c]=function(t){var e,n=this.attrs[r];for(e in o&&(t=o.call(this,t)),u&&u.call(this,t,r),t)t.hasOwnProperty(e)&&this._setAttr(r+l(e),t[e]);return this._fireChangeEvent(r,n,t),i&&i.call(this),this},this.addOverloadedGetterSetter(t,r)},addOverloadedGetterSetter:function(t,e){var n=d.Util._capitalize(e),r=f+n,o=p+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter:function(t,e,n,r){d.Util.error("Adding deprecated "+e);var o=p+d.Util._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[o]=function(){d.Util.error(i);var t=this.attrs[e];return void 0===t?n:t},this.addSetter(t,e,r,function(){d.Util.error(i)}),this.addOverloadedGetterSetter(t,e)},backCompat:function(a,t){d.Util.each(t,function(t,e){var n=a.prototype[e],r=p+d.Util._capitalize(t),o=f+d.Util._capitalize(t);function i(){n.apply(this,arguments),d.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+e+'" instead.')}a.prototype[t]=i,a.prototype[r]=i,a.prototype[o]=i})},afterSetFilter:function(){this._filterUpToDate=!1}}},{"./Util":40,"./Validators":41}],31:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("./Util"),s=t("./Container"),l=t("./BaseLayer"),t=t("./Global"),o=(i=l.BaseLayer,o(h,i),h.prototype._validateAdd=function(t){"Shape"!==t.getType()&&a.Util.throw("You may only add shapes to a fast layer.")},h.prototype.hitGraphEnabled=function(){return!1},h.prototype.drawScene=function(t){var e=this.getLayer(),e=t||e&&e.getCanvas();return this.clearBeforeDraw()&&e.getContext().clear(),s.Container.prototype.drawScene.call(this,e),this},h.prototype.draw=function(){return this.drawScene(),this},h);function h(){return null!==i&&i.apply(this,arguments)||this}(n.FastLayer=o).prototype.nodeType="FastLayer",t._registerNode(o),a.Collection.mapMethods(o)},{"./BaseLayer":25,"./Container":27,"./Global":32,"./Util":40}],32:[function(t,e,n){!function(t){!function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=Math.PI/180;n._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),t=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:function(t){var e=t.indexOf("msie ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}n=t.indexOf("edge/");return 0<n&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}(e),mobile:r,ieMobile:t}},n.glob=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},n.Konva={_global:n.glob,version:"6.0.0",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return n.Konva.angleDeg?t*e:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return n.Konva.DD.isDragging},isDragReady:function(){return!!n.Konva.DD.node},UA:n._parseUA(n.glob.navigator&&n.glob.navigator.userAgent||""),document:n.glob.document,_injectGlobal:function(t){n.glob.Konva=t},_parseUA:n._parseUA},n._NODES_REGISTRY={},n._registerNode=function(t){n._NODES_REGISTRY[t.prototype.getClassName()]=t,n.Konva[t.prototype.getClassName()]=t}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("./Util"),s=t("./Container"),t=t("./Global"),o=(i=s.Container,o(l,i),l.prototype._validateAdd=function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&a.Util.throw("You may only add groups and shapes to groups.")},l);function l(){return null!==i&&i.apply(this,arguments)||this}(n.Group=o).prototype.nodeType="Group",t._registerNode(o),a.Collection.mapMethods(o)},{"./Container":27,"./Global":32,"./Util":40}],34:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("./Util"),s=t("./Container"),l=t("./Factory"),h=t("./BaseLayer"),c=t("./Canvas"),u=t("./Shape"),d=t("./Validators"),t=t("./Global"),y=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=y.length,o=(i=h.BaseLayer,o(f,i),f.prototype.setSize=function(t){var e=t.width,t=t.height;return i.prototype.setSize.call(this,{width:e,height:t}),this.hitCanvas.setSize(e,t),this},f.prototype._validateAdd=function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&a.Util.throw("You may only add groups and shapes to a layer.")},f.prototype.getIntersection=function(t,e){var n,r,o;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var i=1,a=!1;;){for(r=0;r<p;r++){if((o=(n=this._getIntersection({x:t.x+(o=y[r]).x*i,y:t.y+o.y*i})).shape)&&e)return o.findAncestor(e,!0);if(o)return o;if(a=!!n.antialiased,!n.antialiased)break}if(!a)return null;i+=1}},f.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,t=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,e=t[3];return 255===e?(t=a.Util._rgbToHex(t[0],t[1],t[2]),(t=u.shapes["#"+t])?{shape:t}:{antialiased:!0}):0<e?{antialiased:!0}:{}},f.prototype.drawScene=function(t,e){var n=this.getLayer(),n=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),s.Container.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this},f.prototype.drawHit=function(t,e){var n=this.getLayer(),t=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,t,e),this},f.prototype.clear=function(t){return h.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},f.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},f.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},f.prototype.toggleHitCanvas=function(){var t;this.parent&&(t=this.parent,!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas))},f);function f(){var t=null!==i&&i.apply(this,arguments)||this;return t.hitCanvas=new c.HitCanvas({pixelRatio:1}),t}(n.Layer=o).prototype.nodeType="Layer",t._registerNode(o),l.Factory.addGetterSetter(o,"hitGraphEnabled",!0,d.getBooleanValidator()),a.Collection.mapMethods(o)},{"./BaseLayer":25,"./Canvas":26,"./Container":27,"./Factory":30,"./Global":32,"./Shape":37,"./Util":40,"./Validators":41}],35:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=t("./Util"),n=t("./Factory"),d=t("./Canvas"),c=t("./Global"),r=t("./DragAndDrop"),o=t("./Validators");i.ids={},i.names={};i._removeId=function(t,e){t&&i.ids[t]===e&&delete i.ids[t]},i._addName=function(t,e){e&&(i.names[e]||(i.names[e]=[]),i.names[e].push(t))},i._removeName=function(t,e){if(t){var n=i.names[t];if(n){for(var r=0;r<n.length;r++)n[r]._id===e&&n.splice(r,1);0===n.length&&delete i.names[t]}}};var y="absoluteOpacity",a="absoluteTransform",p="absoluteScale",f="canvas",s="listening",l="mouseenter",h="mouseleave",x="transform",g="visible",_=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),m=(["scaleXChange.konva","scaleYChange.konva"].join(" "),new u.Collection),v=1,t=(b.prototype.hasChildren=function(){return!1},b.prototype.getChildren=function(){return m},b.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},b.prototype._getCache=function(t,e){var n=this._cache.get(t);return void 0===n&&(n=e.call(this),this._cache.set(t,n)),n},b.prototype._getCanvasCache=function(){return this._cache.get(f)},b.prototype._clearSelfAndDescendantCache=function(e,t){this._clearCache(e),t&&e===a&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each(function(t){t._clearSelfAndDescendantCache(e,!0)})},b.prototype.clearCache=function(){return this._cache.delete(f),this._clearSelfAndDescendantCache(),this},b.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(e.width||n.width),o=Math.ceil(e.height||n.height),i=e.pixelRatio,a=(void 0===e.x?n:e).x,s=(void 0===e.y?n:e).y,l=e.offset||0,h=e.drawBorder||!1;if(r&&o){a-=l,s-=l;var c=new d.SceneCanvas({pixelRatio:i,width:r+=2*l,height:o+=2*l}),t=new d.SceneCanvas({pixelRatio:i,width:0,height:0}),n=new d.HitCanvas({pixelRatio:1,width:r,height:o}),l=c.getContext(),i=n.getContext();return n.isCache=!0,this._cache.delete("canvas"),(this._filterUpToDate=!1)===e.imageSmoothingEnabled&&(c.getContext()._context.imageSmoothingEnabled=!1,t.getContext()._context.imageSmoothingEnabled=!1),l.save(),i.save(),l.translate(-a,-s),i.translate(-a,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(p),this.drawScene(c,this,!0),this.drawHit(n,this,!0),this._isUnderCache=!1,l.restore(),i.restore(),h&&(l.save(),l.beginPath(),l.rect(0,0,r,o),l.closePath(),l.setAttr("strokeStyle","red"),l.setAttr("lineWidth",5),l.stroke(),l.restore()),this._cache.set(f,{scene:c,filter:t,hit:n,x:a,y:s}),this}u.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},b.prototype.isCached=function(){return this._cache.has("canvas")},b.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},b.prototype._transformedRect=function(t,e){var n,r,o,i,t=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return t.forEach(function(t){t=a.point(t);void 0===n&&(n=o=t.x,r=i=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x),i=Math.max(i,t.y)}),{x:n,y:r,width:o-n,height:i-r}},b.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),e=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/e,n.height/e),t.restore()},b.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},b.prototype._getCachedSceneCanvas=function(){var t,e,n,r,o=this.filters(),i=this._getCanvasCache(),a=i.scene,s=i.filter,l=s.getContext();if(o){if(!this._filterUpToDate){i=a.pixelRatio;s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(t=o.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/i,a.getHeight()/i),e=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<t;n++)"function"==typeof(r=o[n])?(r.call(this,e),l.putImageData(e,0,0)):u.Util.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(t){u.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return a},b.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);for(var n,r,o=t.split(" "),i=o.length,a=0;a<i;a++)n=(r=o[a].split("."))[0],r=r[1]||"",this.eventListeners[n]||(this.eventListeners[n]=[]),this.eventListeners[n].push({name:r,handler:e});return this},b.prototype.off=function(t,e){var n,r,o,i,a,s=(t||"").split(" "),l=s.length;if(!t)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(i=(o=s[n].split("."))[0],a=o[1],i)this.eventListeners[i]&&this._off(i,a,e);else for(r in this.eventListeners)this._off(r,a,e);return this},b.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},b.prototype.addEventListener=function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},b.prototype.removeEventListener=function(t){return this.off(t),this},b.prototype._delegate=function(t,r,o){var i=this;this.on(t,function(t){for(var e=t.target.findAncestors(r,!0,i),n=0;n<e.length;n++)(t=u.Util.cloneObject(t)).currentTarget=e[n],o.call(e[n],t)})},b.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this},b.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(s)},b.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},b.prototype.destroy=function(){i._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),e=0;e<t.length;e++){var n=t[e];i._removeName(n,this._id)}return this.remove(),this},b.prototype.getAttr=function(t){var e="get"+u.Util._capitalize(t);return u.Util._isFunction(this[e])?this[e]():this.attrs[t]},b.prototype.getAncestors=function(){for(var t=this.getParent(),e=new u.Collection;t;)e.push(t),t=t.getParent();return e},b.prototype.getAttrs=function(){return this.attrs||{}},b.prototype.setAttrs=function(t){var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+u.Util._capitalize(e),u.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},b.prototype.isListening=function(){return this._getCache(s,this._isListening)},b.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},b.prototype.isVisible=function(){return this._getCache(g,this._isVisible)},b.prototype._isVisible=function(t){var e=this.visible(),n=this.getParent();return"inherit"===e?!n||n===t||n._isVisible(t):t&&t!==n?e&&n._isVisible(t):e},b.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},b.prototype.show=function(){return this.visible(!0),this},b.prototype.hide=function(){return this.visible(!1),this},b.prototype.getZIndex=function(){return this.index||0},b.prototype.getAbsoluteZIndex=function(){var n,r,o,i,a=this.getDepth(),s=this,l=0;return"Stage"!==s.nodeType&&function t(e){for(n=[],r=e.length,o=0;o<r;o++)i=e[o],l++,"Shape"!==i.nodeType&&(n=n.concat(i.getChildren().toArray())),i._id===s._id&&(o=r);0<n.length&&n[0].getDepth()<=a&&t(n)}(s.getStage().getChildren()),l},b.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},b.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(x),this._clearSelfAndDescendantCache(a,!0)),this._needClearTransformCache=!1},b.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges(function(){e.x(t.x),e.y(t.y)}),this},b.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},b.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}var r=this.getAbsoluteTransform(t=e&&!t?!0:t).getMatrix(),o=new u.Transform,t=this.offset();return o.m=r.slice(),o.translate(t.x,t.y),o.getTranslation()},b.prototype.setAbsolutePosition=function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(x),(e=this._getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this._setTransform(n),this.setPosition({x:t.x,y:t.y}),this},b.prototype._setTransform=function(t){for(var e in t)this.attrs[e]=t[e]},b.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},b.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),t=this.y();return void 0!==e&&(r+=e),void 0!==n&&(t+=n),this.setPosition({x:r,y:t}),this},b.prototype._eachAncestorReverse=function(t,e){var n,r,o=[],i=this.getParent();if(e&&e._id===this._id)t(this);else{for(o.unshift(this);i&&(!e||i._id!==e._id);)o.unshift(i),i=i.parent;for(n=o.length,r=0;r<n;r++)t(o[r])}},b.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},b.prototype.moveToTop=function(){if(!this.parent)return u.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},b.prototype.moveUp=function(){if(!this.parent)return u.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},b.prototype.moveDown=function(){if(!this.parent)return u.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return 0<t&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},b.prototype.moveToBottom=function(){if(!this.parent)return u.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return 0<t&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},b.prototype.setZIndex=function(t){if(!this.parent)return u.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&u.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},b.prototype.getAbsoluteOpacity=function(){return this._getCache(y,this._getAbsoluteOpacity)},b.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},b.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},b.prototype.toObject=function(){var t,e,n,r={},o=this.getAttrs();for(t in r.attrs={},o)e=o[t],u.Util.isObject(e)&&!u.Util._isPlainObject(e)&&!u.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete o[t],(n?n.call(this):null)!==(o[t]=e)&&(r.attrs[t]=e));return r.className=this.getClassName(),u.Util._prepareToStringify(r)},b.prototype.toJSON=function(){return JSON.stringify(this.toObject())},b.prototype.getParent=function(){return this.parent},b.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var o=this.parent;o;){if(o===n)return r;o._isMatch(t)&&r.push(o),o=o.parent}return r},b.prototype.isAncestorOf=function(t){return!1},b.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},b.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);for(var e,n=t.replace(/ /g,"").split(","),r=n.length,o=0;o<r;o++)if(e=n[o],u.Util.isValidSelector(e)||(u.Util.warn('Selector "'+e+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),u.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),u.Util.warn("Konva is awesome, right?")),"#"===e.charAt(0)){if(this.id()===e.slice(1))return!0}else if("."===e.charAt(0)){if(this.hasName(e.slice(1)))return!0}else if(this.className===e||this.nodeType===e)return!0;return!1},b.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},b.prototype.getStage=function(){return this._getCache("stage",this._getStage)},b.prototype._getStage=function(){var t=this.getParent();if(t)return t.getStage()},b.prototype.fire=function(t,e,n){return(e=void 0===e?{}:e).target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},b.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(a,this._getAbsoluteTransform)},b.prototype._getAbsoluteTransform=function(t){if(t)return n=new u.Transform,this._eachAncestorReverse(function(t){var e=t.transformsEnabled();"all"===e?n.multiply(t.getTransform()):"position"===e&&n.translate(t.x()-t.offsetX(),t.y()-t.offsetY())},t),n;var n=this.parent?this.parent.getAbsoluteTransform().copy():new u.Transform,t=this.transformsEnabled();return"all"===t?n.multiply(this.getTransform()):"position"===t&&n.translate(this.x()-this.offsetX(),this.y()-this.offsetY()),n},b.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}},b.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},b.prototype.getTransform=function(){return this._getCache(x,this._getTransform)},b.prototype._getTransform=function(){var t=new u.Transform,e=this.x(),n=this.y(),r=c.Konva.getAngle(this.rotation()),o=this.scaleX(),i=this.scaleY(),a=this.skewX(),s=this.skewY(),l=this.offsetX(),h=this.offsetY();return 0===e&&0===n||t.translate(e,n),0!==r&&t.rotate(r),0===a&&0===s||t.skew(a,s),1===o&&1===i||t.scale(o,i),0===l&&0===h||t.translate(-1*l,-1*h),t},b.prototype.clone=function(t){var e,n,r,o,i,a=u.Util.cloneObject(this.attrs);for(e in t)a[e]=t[e];var s=new this.constructor(a);for(e in this.eventListeners)for(r=(n=this.eventListeners[e]).length,o=0;o<r;o++)(i=n[o]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(i));return s},b.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=(void 0!==t.x?t:e).x,o=(void 0!==t.y?t:e).y,i=t.pixelRatio||1,n=new d.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:i}),i=n.getContext();return i.save(),(r||o)&&i.translate(-1*r,-1*o),this.drawScene(n),i.restore(),n},b.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},b.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(n),n},b.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,u.Util._urlToImage(this.toDataURL(t),function(t){e(t)})},b.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},b.prototype.getSize=function(){return{width:this.width(),height:this.height()}},b.prototype.getClassName=function(){return this.className||this.nodeType},b.prototype.getType=function(){return this.nodeType},b.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():c.Konva.dragDistance},b.prototype._off=function(t,e,n){for(var r,o,i=this.eventListeners[t],a=0;a<i.length;a++)if(r=i[a].name,o=i[a].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==o)){if(i.splice(a,1),0===i.length){delete this.eventListeners[t];break}a--}},b.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},b.prototype.setId=function(t){var e,n=this.id();return i._removeId(n,this),e=this,(n=t)&&(i.ids[n]=e),this._setAttr("id",t),this},b.prototype.setName=function(t){for(var e,n=(this.name()||"").split(/\s/g),r=(t||"").split(/\s/g),o=0;o<n.length;o++)e=n[o],-1===r.indexOf(e)&&e&&i._removeName(e,this._id);for(o=0;o<r.length;o++)e=r[o],-1===n.indexOf(e)&&e&&i._addName(this,e);return this._setAttr("name",t),this},b.prototype.addName=function(t){var e;return this.hasName(t)||(e=this.name(),this.setName(e?e+" "+t:t)),this},b.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},b.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),t=e.indexOf(t);return-1!==t&&(e.splice(t,1),this.setName(e.join(" "))),this},b.prototype.setAttr=function(t,e){var n=this["set"+u.Util._capitalize(t)];return u.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},b.prototype._setAttr=function(t,e){var n=this.attrs[t];n===e&&!u.Util.isObject(e)||(null==e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},b.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},b.prototype._fireAndBubble=function(t,e,n){var r;e&&"Shape"===this.nodeType&&(e.target=this),(t===l||t===h)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)||(this._fire(t,e),r=(t===l||t===h)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent),(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e)))},b.prototype._fire=function(t,e){var n,r=this.eventListeners[t];if(r)for((e=e||{}).currentTarget=this,e.type=t,n=0;n<r.length;n++)r[n].handler.call(this,e)},b.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},b.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),t=this.getAbsolutePosition(),n=n._getPointerById(e)||n._changedPointerPositions[0]||t;r.DD._dragElements.set(this._id,{node:this,startPointerPos:n,offset:{x:n.x-t.x,y:n.y-t.y},dragStatus:"ready",pointerId:e})},b.prototype.startDrag=function(t){r.DD._dragElements.has(this._id)||this._createDragElement(t),r.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},b.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);n&&(n={x:n.x-e.offset.x,y:n.y-e.offset.y},void 0!==(e=this.dragBoundFunc())&&((t=e.call(this,n,t))?n=t:u.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")),this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=n)},b.prototype.stopDrag=function(t){var e=r.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),r.DD._endDragBefore(t),r.DD._endDragAfter(t)},b.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},b.prototype.isDragging=function(){var t=r.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},b.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var e,n=this;void 0!==t.evt.button&&!(0<=c.Konva.dragButtons.indexOf(t.evt.button))||(this.isDragging()||(e=!1,r.DD._dragElements.forEach(function(t){n.isAncestorOf(t.node)&&(e=!0)}),e||this._createDragElement(t)))})},b.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&r.DD._dragElements.has(this._id)&&this.stopDrag())},b.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},b.create=function(t,e){return u.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},b._createNode=function(t,e){var n,r,o=b.prototype.getClassName.call(t),i=t.children;e&&(t.attrs.container=e),c._NODES_REGISTRY[o]||(u.Util.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape");var a=new c._NODES_REGISTRY[o](t.attrs);if(i)for(n=i.length,r=0;r<n;r++)a.add(b._createNode(i[r]));return a},b);function b(t){var e=this;this._id=v++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=m,this._dragEventId=null,this.setAttrs(t),this.on(_,function(){e._batchingTransformChange?e._needClearTransformCache=!0:(e._clearCache(x),e._clearSelfAndDescendantCache(a))}),this.on("visibleChange.konva",function(){e._clearSelfAndDescendantCache(g)}),this.on("listeningChange.konva",function(){e._clearSelfAndDescendantCache(s)}),this.on("opacityChange.konva",function(){e._clearSelfAndDescendantCache(y)})}(i.Node=t).prototype.nodeType="Node",t.prototype._attrsAffectingSize=[],n.Factory.addGetterSetter(t,"zIndex"),n.Factory.addGetterSetter(t,"absolutePosition"),n.Factory.addGetterSetter(t,"position"),n.Factory.addGetterSetter(t,"x",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"y",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"globalCompositeOperation","source-over",o.getStringValidator()),n.Factory.addGetterSetter(t,"opacity",1,o.getNumberValidator()),n.Factory.addGetterSetter(t,"name","",o.getStringValidator()),n.Factory.addGetterSetter(t,"id","",o.getStringValidator()),n.Factory.addGetterSetter(t,"rotation",0,o.getNumberValidator()),n.Factory.addComponentsGetterSetter(t,"scale",["x","y"]),n.Factory.addGetterSetter(t,"scaleX",1,o.getNumberValidator()),n.Factory.addGetterSetter(t,"scaleY",1,o.getNumberValidator()),n.Factory.addComponentsGetterSetter(t,"skew",["x","y"]),n.Factory.addGetterSetter(t,"skewX",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"skewY",0,o.getNumberValidator()),n.Factory.addComponentsGetterSetter(t,"offset",["x","y"]),n.Factory.addGetterSetter(t,"offsetX",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"offsetY",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"dragDistance",null,o.getNumberValidator()),n.Factory.addGetterSetter(t,"width",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"height",0,o.getNumberValidator()),n.Factory.addGetterSetter(t,"listening","inherit",function(t){return!0===t||!1===t||"inherit"===t||u.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t}),n.Factory.addGetterSetter(t,"preventDefault",!0,o.getBooleanValidator()),n.Factory.addGetterSetter(t,"filters",null,function(t){return this._filterUpToDate=!1,t}),n.Factory.addGetterSetter(t,"visible","inherit",function(t){return!0===t||!1===t||"inherit"===t||u.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t}),n.Factory.addGetterSetter(t,"transformsEnabled","all",o.getStringValidator()),n.Factory.addGetterSetter(t,"size"),n.Factory.addGetterSetter(t,"dragBoundFunc"),n.Factory.addGetterSetter(t,"draggable",!1,o.getBooleanValidator()),n.Factory.backCompat(t,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),u.Collection.mapMethods(t)},{"./Canvas":26,"./DragAndDrop":29,"./Factory":30,"./Global":32,"./Util":40,"./Validators":41}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=t("./Global"),o=new Map,i=void 0!==t.Konva._global.PointerEvent;function a(t){return{evt:t,pointerId:t.pointerId}}function r(t,e){var n,r=o.get(t);r&&((n=r.getStage())&&n.content,o.delete(t),i&&r._fire("lostpointercapture",a(new PointerEvent("lostpointercapture"))))}n.getCapturedShape=function(t){return o.get(t)},n.createEvent=a,n.hasPointerCapture=function(t,e){return o.get(t)===e},n.setPointerCapture=function(t,e){r(t),e.getStage()&&(o.set(t,e),i&&e._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))},n.releaseCapture=r},{"./Global":32}],37:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,c=t("./Util"),a=t("./Factory"),s=t("./Node"),l=t("./Validators"),h=t("./Global"),u=t("./PointerEvents"),d="hasShadow",y="shadowRGBA",p="patternImage",f="linearGradient",x="radialGradient";function g(){return i=i||c.Util.createCanvasElement().getContext("2d")}function _(){this._clearCache(d)}function m(){this._clearCache(y)}function v(){this._clearCache(p)}function b(){this._clearCache(f)}function w(){this._clearCache(x)}n.shapes={};var S,o=(S=s.Node,o(A,S),A.prototype.getContext=function(){return this.getLayer().getContext()},A.prototype.getCanvas=function(){return this.getLayer().getCanvas()},A.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},A.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},A.prototype.hasShadow=function(){return this._getCache(d,this._hasShadow)},A.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},A.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},A.prototype.__getFillPattern=function(){if(this.fillPatternImage())return g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},A.prototype._getLinearGradient=function(){return this._getCache(f,this.__getLinearGradient)},A.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=g(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),o=e.createLinearGradient(n.x,n.y,r.x,r.y),i=0;i<t.length;i+=2)o.addColorStop(t[i],t[i+1]);return o}},A.prototype._getRadialGradient=function(){return this._getCache(x,this.__getRadialGradient)},A.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=g(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),o=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),i=0;i<t.length;i+=2)o.addColorStop(t[i],t[i+1]);return o}},A.prototype.getShadowRGBA=function(){return this._getCache(y,this._getShadowRGBA)},A.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=c.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},A.prototype.hasFill=function(){return this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},A.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},A.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},A.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),0<e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]},A.prototype.destroy=function(){return s.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this},A.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},A.prototype.setStrokeHitEnabled=function(t){c.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},A.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},A.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},A.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,n=t.relativeTo,r=this.getSelfRect(),o=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,i=r.width+o,a=r.height+o,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,h=s?this.shadowOffsetY():0,t=i+Math.abs(l),i=a+Math.abs(h),a=s&&this.shadowBlur()||0,s=i+2*a,i=0,r={width:t+2*a+(i=Math.round(o/2)!==o/2?1:i),height:s+i,x:-Math.round(o/2+a)+Math.min(l,0)+r.x,y:-Math.round(o/2+a)+Math.min(h,0)+r.y};return e?r:this._transformedRect(r,n)},A.prototype.drawScene=function(t,e,n,r){var o=this.getLayer(),i=t||o.getCanvas(),a=i.getContext(),s=this._getCanvasCache(),l=this.sceneFunc(),h=this.hasShadow(),c=this.hasStroke();return(this.isVisible()||n)&&(s?(a.save(),o._applyTransform(this,a,e),this._drawCachedSceneCanvas(a),a.restore()):l&&(a.save(),this._useBufferCanvas(n)&&!r?((s=(t=this.getStage().bufferCanvas).getContext()).clear(),s.save(),s._applyLineJoin(this),n||(o?o._applyTransform(this,s,e):(r=this.getAbsoluteTransform(e).getMatrix(),a.transform(r[0],r[1],r[2],r[3],r[4],r[5]))),l.call(this,s,this),s.restore(),s=t.pixelRatio,h&&!i.hitCanvas?(a.save(),a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(t._canvas,0,0,t.width/s,t.height/s),a.restore()):(a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(t._canvas,0,0,t.width/s,t.height/s))):(a._applyLineJoin(this),n||(o?o._applyTransform(this,a,e):(e=this.getAbsoluteTransform(e).getMatrix(),a.transform(e[0],e[1],e[2],e[3],e[4],e[5]))),h&&c&&!i.hitCanvas?(a.save(),n||(a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),a._applyShadow(this),l.call(this,a,this),a.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&l.call(this,a,this)):h&&!i.hitCanvas?(a.save(),n||(a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),a._applyShadow(this),l.call(this,a,this),a.restore()):(n||(a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),l.call(this,a,this))),a.restore())),this},A.prototype.drawHit=function(t,e,n){var r=this.getLayer(),o=t||r.hitCanvas,i=o&&o.getContext(),t=this.hitFunc()||this.sceneFunc(),o=this._getCanvasCache(),o=o&&o.hit;return this.colorKey||(console.log(this),c.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),(this.shouldDrawHit()||n)&&(o?(i.save(),r._applyTransform(this,i,e),this._drawCachedHitCanvas(i),i.restore()):t&&(i.save(),i._applyLineJoin(this),n||(r?r._applyTransform(this,i,e):(e=this.getAbsoluteTransform(e).getMatrix(),i.transform(e[0],e[1],e[2],e[3],e[4],e[5]))),t.call(this,i,this),i.restore())),this},A.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,o,i,a=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=a.hit,h=l.getContext(),a=l.getWidth(),l=l.getHeight();h.clear(),h.drawImage(s._canvas,0,0,a,l);try{for(r=(n=(e=h.getImageData(0,0,a,l)).data).length,o=c.Util._hexToRgb(this.colorKey),i=0;i<r;i+=4)t<n[i+3]?(n[i]=o.r,n[i+1]=o.g,n[i+2]=o.b,n[i+3]=255):n[i+3]=0;h.putImageData(e,0,0)}catch(t){c.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},A.prototype.hasPointerCapture=function(t){return u.hasPointerCapture(t,this)},A.prototype.setPointerCapture=function(t){u.setPointerCapture(t,this)},A.prototype.releaseCapture=function(t){u.releaseCapture(t,this)},A);function A(t){for(var e,t=S.call(this,t)||this;!(e=c.Util.getRandomColor())||e in n.shapes;);return t.colorKey=e,(n.shapes[e]=t).on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),t.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),t.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",v),t.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",b),t.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),t}(n.Shape=o).prototype._fillFunc=function(t){t.fill()},o.prototype._strokeFunc=function(t){t.stroke()},o.prototype._fillFuncHit=function(t){t.fill()},o.prototype._strokeFuncHit=function(t){t.stroke()},o.prototype._centroid=!1,o.prototype.nodeType="Shape",h._registerNode(o),a.Factory.addGetterSetter(o,"stroke",void 0,l.getStringValidator()),a.Factory.addGetterSetter(o,"strokeWidth",2,l.getNumberValidator()),a.Factory.addGetterSetter(o,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),a.Factory.addGetterSetter(o,"strokeHitEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(o,"perfectDrawEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(o,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(o,"lineJoin"),a.Factory.addGetterSetter(o,"lineCap"),a.Factory.addGetterSetter(o,"sceneFunc"),a.Factory.addGetterSetter(o,"hitFunc"),a.Factory.addGetterSetter(o,"dash"),a.Factory.addGetterSetter(o,"dashOffset",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"shadowColor",void 0,l.getStringValidator()),a.Factory.addGetterSetter(o,"shadowBlur",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"shadowOpacity",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(o,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(o,"shadowOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"shadowOffsetY",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"fillPatternImage"),a.Factory.addGetterSetter(o,"fill",void 0,l.getStringValidator()),a.Factory.addGetterSetter(o,"fillPatternX",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"fillPatternY",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(o,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(o,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(o,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(o,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(o,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(o,"fillEnabled",!0),a.Factory.addGetterSetter(o,"strokeEnabled",!0),a.Factory.addGetterSetter(o,"shadowEnabled",!0),a.Factory.addGetterSetter(o,"dashEnabled",!0),a.Factory.addGetterSetter(o,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(o,"fillPriority","color"),a.Factory.addComponentsGetterSetter(o,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(o,"fillPatternOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(o,"fillPatternOffsetY",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(o,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(o,"fillPatternScaleX",1,l.getNumberValidator()),a.Factory.addGetterSetter(o,"fillPatternScaleY",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(o,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(o,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(o,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(o,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(o,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(o,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(o,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(o,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(o,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(o,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(o,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(o,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(o,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(o,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(o,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(o,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(o,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(o,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(o,"fillPatternRotation",0),a.Factory.backCompat(o,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),c.Collection.mapMethods(o)},{"./Factory":30,"./Global":32,"./Node":35,"./PointerEvents":36,"./Util":40,"./Validators":41}],38:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Util"),i=t("./Factory"),s=t("./Container"),c=t("./Global"),l=t("./Canvas"),u=t("./DragAndDrop"),h=t("./Global"),d=t("./PointerEvents"),y="mouseout",p="mouseleave",f="mouseover",x="mouseenter",g="mousemove",_="mousedown",m="mouseup",v="pointermove",b="pointerdown",w="pointerup",S="contextmenu",A="dblclick",k="touchstart",C="touchend",P="touchmove",T="wheel",F="_",M=[x,_,g,m,y,k,P,C,f,T,S,b,v,w,"pointercancel","lostpointercapture"],O=M.length;function G(t){return((t=void 0===t?{}:t).clipFunc||t.clipWidth||t.clipHeight)&&a.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}n.stages=[];var I,o=(I=s.Container,o(R,I),R.prototype._validateAdd=function(t){var e="Layer"===t.getType(),t="FastLayer"===t.getType();e||t||a.Util.throw("You may only add layers to the stage.")},R.prototype._checkVisibility=function(){var t;this.content&&(t=this.visible()?"":"none",this.content.style.display=t)},R.prototype.setContainer=function(t){var e,n;if("string"==typeof t&&!(t="."===t.charAt(0)?(e=t.slice(1),document.getElementsByClassName(e)[0]):(n="#"!==t.charAt(0)?t:t.slice(1),document.getElementById(n))))throw"Can not find container in document with id "+n;return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},R.prototype.shouldDrawHit=function(){return!0},R.prototype.clear=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)t[n].clear();return this},R.prototype.clone=function(t){return(t=t||{}).container=document.createElement("div"),s.Container.prototype.clone.call(this,t)},R.prototype.destroy=function(){I.prototype.destroy.call(this);var t=this.content;t&&a.Util._isInDocument(t)&&this.container().removeChild(t);t=n.stages.indexOf(this);return-1<t&&n.stages.splice(t,1),this},R.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(a.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},R.prototype._getPointerById=function(e){return this._pointerPositions.find(function(t){return t.id===e})},R.prototype.getPointersPositions=function(){return this._pointerPositions},R.prototype.getStage=function(){return this},R.prototype.getContent=function(){return this.content},R.prototype._toKonvaCanvas=function(e){var n=(e=e||{}).x||0,r=e.y||0,t=new l.SceneCanvas({width:e.width||this.width(),height:e.height||this.height(),pixelRatio:e.pixelRatio||1}),o=t.getContext()._context,i=this.children;return(n||r)&&o.translate(-1*n,-1*r),i.each(function(t){t.isVisible()&&(t=t._toKonvaCanvas(e),o.drawImage(t._canvas,n,r,t.getWidth()/t.getPixelRatio(),t.getHeight()/t.getPixelRatio()))}),t},R.prototype.getIntersection=function(t,e){if(!t)return null;for(var n,r=this.children,o=r.length-1;0<=o;o--)if(n=r[o].getIntersection(t,e))return n;return null},R.prototype._resizeDOM=function(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=n+"px"),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.each(function(t){t.setSize({width:e,height:n}),t.draw()})},R.prototype.add=function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}I.prototype.add.call(this,t);var n=this.children.length;return 5<n&&a.Util.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),c.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this},R.prototype.getParent=function(){return null},R.prototype.getLayer=function(){return null},R.prototype.hasPointerCapture=function(t){return d.hasPointerCapture(t,this)},R.prototype.setPointerCapture=function(t){d.setPointerCapture(t,this)},R.prototype.releaseCapture=function(t){d.releaseCapture(t,this)},R.prototype.getLayers=function(){return this.getChildren()},R.prototype._bindContentEvents=function(){if(c.Konva.isBrowser)for(var t=0;t<O;t++)!function(e,n){e.content.addEventListener(n,function(t){e[F+n](t)},!1)}(this,M[t])},R.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(x,{evt:t,target:this,currentTarget:this})},R.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(f,{evt:t,target:this,currentTarget:this})},R.prototype._mouseout=function(t){this.setPointersPositions(t);var e=null!==(n=this.targetShape)&&void 0!==n&&n.getStage()?this.targetShape:null,n=!u.DD.isDragging||c.Konva.hitOnDragEnabled;e&&n?(e._fireAndBubble(y,{evt:t}),e._fireAndBubble(p,{evt:t}),this._fire(p,{evt:t,target:this,currentTarget:this}),this.targetShape=null):n&&(this._fire(p,{evt:t,target:this,currentTarget:this}),this._fire(y,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},R.prototype._mousemove=function(t){if(c.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,n=a.Util._getFirstPointerId(t),r=null!==(e=this.targetShape)&&void 0!==e&&e.getStage()?this.targetShape:null,o=!u.DD.isDragging||c.Konva.hitOnDragEnabled;o&&((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()?o&&r!==e?(r&&(r._fireAndBubble(y,{evt:t,pointerId:n},e),r._fireAndBubble(p,{evt:t,pointerId:n},e)),e._fireAndBubble(f,{evt:t,pointerId:n},r),e._fireAndBubble(x,{evt:t,pointerId:n},r),e._fireAndBubble(g,{evt:t,pointerId:n}),this.targetShape=e):e._fireAndBubble(g,{evt:t,pointerId:n}):(r&&o&&(r._fireAndBubble(y,{evt:t,pointerId:n}),r._fireAndBubble(p,{evt:t,pointerId:n}),this._fire(f,{evt:t,target:this,currentTarget:this,pointerId:n}),this.targetShape=null),this._fire(g,{evt:t,target:this,currentTarget:this,pointerId:n})),this._fire("contentMousemove",{evt:t})),t.cancelable&&t.preventDefault()},R.prototype._mousedown=function(t){if(c.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=a.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());u.DD.justDragged=!1,c.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n)._fireAndBubble(_,{evt:t,pointerId:e}):this._fire(_,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},R.prototype._mouseup=function(t){if(c.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=a.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,o=this.clickEndShape,i=!1;c.Konva.inDblClickWindow?(i=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){c.Konva.inDblClickWindow=!1},c.Konva.dblClickWindow),n&&n.isListening()?((this.clickEndShape=n)._fireAndBubble(m,{evt:t,pointerId:e}),c.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble("click",{evt:t,pointerId:e}),i&&o&&o===n&&n._fireAndBubble(A,{evt:t,pointerId:e}))):(this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:e}),c.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),i&&this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),i&&this._fire("contentDblclick",{evt:t})),c.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},R.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(S,{evt:t}):this._fire(S,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},R.prototype._touchstart=function(n){var r=this;this.setPointersPositions(n);var o=!1;this._changedPointerPositions.forEach(function(t){var e=r.getIntersection(t);c.Konva.listenClickTap=!0,u.DD.justDragged=!1,e&&e.isListening()&&(c.Konva.captureTouchEventsEnabled&&e.setPointerCapture(t.id),(r.tapStartShape=e)._fireAndBubble(k,{evt:n,pointerId:t.id},r),o=!0,e.isListening()&&e.preventDefault()&&n.cancelable&&n.preventDefault())}),o||this._fire(k,{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:n})},R.prototype._touchmove=function(n){var r,o,i=this;this.setPointersPositions(n),u.DD.isDragging&&!c.Konva.hitOnDragEnabled||(r=!1,o={},this._changedPointerPositions.forEach(function(t){var e=d.getCapturedShape(t.id)||i.getIntersection(t);e&&e.isListening()&&(o[e._id]||(o[e._id]=!0,e._fireAndBubble(P,{evt:n,pointerId:t.id}),r=!0,e.isListening()&&e.preventDefault()&&n.cancelable&&n.preventDefault()))}),r||this._fire(P,{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:n})),u.DD.isDragging&&u.DD.node.preventDefault()&&n.cancelable&&n.preventDefault()},R.prototype._touchend=function(n){var r=this;this.setPointersPositions(n);var o=this.clickEndShape,i=!1;c.Konva.inDblClickWindow?(i=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){c.Konva.inDblClickWindow=!1},c.Konva.dblClickWindow);var a=!1,s={},l=!1,h=!1;this._changedPointerPositions.forEach(function(t){var e=d.getCapturedShape(t.id)||r.getIntersection(t);e&&e.releaseCapture(t.id),e&&e.isListening()&&(s[e._id]||(s[e._id]=!0,(r.clickEndShape=e)._fireAndBubble(C,{evt:n,pointerId:t.id}),a=!0,c.Konva.listenClickTap&&e===r.tapStartShape&&(l=!0,e._fireAndBubble("tap",{evt:n,pointerId:t.id}),i&&o&&o===e&&(h=!0,e._fireAndBubble("dbltap",{evt:n,pointerId:t.id}))),e.isListening()&&e.preventDefault()&&n.cancelable&&n.preventDefault()))}),a||this._fire(C,{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c.Konva.listenClickTap&&!l&&this._fire("tap",{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i&&!h&&this._fire("dbltap",{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:n}),c.Konva.listenClickTap&&(this._fire("contentTap",{evt:n}),i&&this._fire("contentDbltap",{evt:n})),c.Konva.listenClickTap=!1},R.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(T,{evt:t}):this._fire(T,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},R.prototype._pointerdown=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(b,d.createEvent(t)))},R.prototype._pointermove=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(v,d.createEvent(t)))},R.prototype._pointerup=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(w,d.createEvent(t)),d.releaseCapture(t.pointerId))},R.prototype._pointercancel=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=d.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(w,d.createEvent(t)),d.releaseCapture(t.pointerId))},R.prototype._lostpointercapture=function(t){d.releaseCapture(t.pointerId)},R.prototype.setPointersPositions=function(t){var e,n,r=this,o=this._getContentPosition();void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],a.Collection.prototype.each.call(t.touches,function(t){r._pointerPositions.push({id:t.identifier,x:(t.clientX-o.left)/o.scaleX,y:(t.clientY-o.top)/o.scaleY})}),a.Collection.prototype.each.call(t.changedTouches||t.touches,function(t){r._changedPointerPositions.push({id:t.identifier,x:(t.clientX-o.left)/o.scaleX,y:(t.clientY-o.top)/o.scaleY})})):(e=(t.clientX-o.left)/o.scaleX,n=(t.clientY-o.top)/o.scaleY,this.pointerPos={x:e,y:n},this._pointerPositions=[{x:e,y:n,id:a.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:e,y:n,id:a.Util._getFirstPointerId(t)}])},R.prototype._setPointerPosition=function(t){a.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},R.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},R.prototype._buildDOM=function(){if(this.bufferCanvas=new l.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),c.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},R.prototype.cache=function(){return a.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},R.prototype.clearCache=function(){return this},R.prototype.batchDraw=function(){return this.children.each(function(t){t.batchDraw()}),this},R);function R(t){var e=I.call(this,G(t))||this;return e._pointerPositions=[],e._changedPointerPositions=[],e._buildDOM(),e._bindContentEvents(),n.stages.push(e),e.on("widthChange.konva heightChange.konva",e._resizeDOM),e.on("visibleChange.konva",e._checkVisibility),e.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",function(){G(e.attrs)}),e._checkVisibility(),e}(n.Stage=o).prototype.nodeType="Stage",h._registerNode(o),i.Factory.addGetterSetter(o,"container")},{"./Canvas":26,"./Container":27,"./DragAndDrop":29,"./Factory":30,"./Global":32,"./PointerEvents":36,"./Util":40}],39:[function(t,e,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var y=t("./Util"),h=t("./Animation"),n=t("./Node"),c=t("./Global"),u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},d=0,p=["fill","stroke","shadowColor"],f=(r.prototype.fire=function(t){t=this[t];t&&t()},r.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},r.prototype.getTime=function(){return this._time},r.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},r.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},r.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},r.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},r.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},r.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},r.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},r.prototype.update=function(){this.setPosition(this.getPosition(this._time))},r.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},r.prototype.pause=function(){this.state=1,this.fire("onPause")},r.prototype.getTimer=function(){return(new Date).getTime()},r);function r(t,e,n,r,o,i,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=i,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}var o=(x.prototype._addAttr=function(t,e){var n,r,o,i,a,s,l,h,c=this.node,u=c._id,d=x.tweens[u][t];if(d&&delete x.attrs[u][d][t],n=c.getAttr(t),y.Util._isArray(e))if(r=[],i=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?n=y.Util._prepareArrayForTween(s=n,e,c.closed()):e=y.Util._prepareArrayForTween(a=e,n,c.closed())),0===t.indexOf("fill"))for(o=0;o<i;o++)o%2==0?r.push(e[o]-n[o]):(l=y.Util.colorToRGBA(n[o]),h=y.Util.colorToRGBA(e[o]),n[o]=l,r.push({r:h.r-l.r,g:h.g-l.g,b:h.b-l.b,a:h.a-l.a}));else for(o=0;o<i;o++)r.push(e[o]-n[o]);else r=-1!==p.indexOf(t)?(n=y.Util.colorToRGBA(n),{r:(h=y.Util.colorToRGBA(e)).r-n.r,g:h.g-n.g,b:h.b-n.b,a:h.a-n.a}):e-n;x.attrs[u][this._id][t]={start:n,diff:r,end:e,trueEnd:a,trueStart:s},x.tweens[u][t]=this._id},x.prototype._tweenFunc=function(t){var e,n,r,o,i,a,s,l=this.node,h=x.attrs[l._id][this._id];for(e in h){if(n=(s=h[e]).start,r=s.diff,s=s.end,y.Util._isArray(n))if(o=[],a=Math.max(n.length,s.length),0===e.indexOf("fill"))for(i=0;i<a;i++)i%2==0?o.push((n[i]||0)+r[i]*t):o.push("rgba("+Math.round(n[i].r+r[i].r*t)+","+Math.round(n[i].g+r[i].g*t)+","+Math.round(n[i].b+r[i].b*t)+","+(n[i].a+r[i].a*t)+")");else for(i=0;i<a;i++)o.push((n[i]||0)+r[i]*t);else o=-1!==p.indexOf(e)?"rgba("+Math.round(n.r+r.r*t)+","+Math.round(n.g+r.g*t)+","+Math.round(n.b+r.b*t)+","+(n.a+r.a*t)+")":n+r*t;l.setAttr(e,o)}},x.prototype._addListeners=function(){var n=this;this.tween.onPlay=function(){n.anim.start()},this.tween.onReverse=function(){n.anim.start()},this.tween.onPause=function(){n.anim.stop()},this.tween.onFinish=function(){var t=n.node,e=x.attrs[t._id][n._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),n.onFinish&&n.onFinish.call(n)},this.tween.onReset=function(){var t=n.node,e=x.attrs[t._id][n._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),n.onReset&&n.onReset()}},x.prototype.play=function(){return this.tween.play(),this},x.prototype.reverse=function(){return this.tween.reverse(),this},x.prototype.reset=function(){return this.tween.reset(),this},x.prototype.seek=function(t){return this.tween.seek(1e3*t),this},x.prototype.pause=function(){return this.tween.pause(),this},x.prototype.finish=function(){return this.tween.finish(),this},x.prototype.destroy=function(){var t,e=this.node._id,n=this._id,r=x.tweens[e];for(t in this.pause(),r)delete x.tweens[e][t];delete x.attrs[e][n]},x.attrs={},x.tweens={},x);function x(t){var e,n=this,r=t.node,o=r._id,i=t.easing||l.Easings.Linear,a=!!t.yoyo,s=void 0===t.duration?.3:0===t.duration?.001:t.duration;this.node=r,this._id=d++;r=r.getLayer()||(r instanceof c.Konva.Stage?r.getLayers():null);for(e in r||y.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new h.Animation(function(){n.tween.onEnterFrame()},r),this.tween=new f(e,function(t){n._tweenFunc(t)},i,0,1,1e3*s,a),this._addListeners(),x.attrs[o]||(x.attrs[o]={}),x.attrs[o][this._id]||(x.attrs[o][this._id]={}),x.tweens[o]||(x.tweens[o]={}),t)void 0===u[e]&&this._addAttr(e,t[e]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset}l.Tween=o,n.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new o(t).play()},l.Easings={BackEaseIn:function(t,e,n,r){return n*(t/=r)*t*(2.70158*t-1.70158)+e},BackEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*(2.70158*t+1.70158)+1)+e},BackEaseInOut:function(t,e,n,r){var o=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},ElasticEaseIn:function(t,e,n,r,o,i){var a=0;return 0===t?e:1==(t/=r)?e+n:(i=i||.3*r,a=!o||o<Math.abs(n)?(o=n,i/4):i/(2*Math.PI)*Math.asin(n/o),-(o*Math.pow(2,10*--t)*Math.sin((t*r-a)*(2*Math.PI)/i))+e)},ElasticEaseOut:function(t,e,n,r,o,i){var a=0;return 0===t?e:1==(t/=r)?e+n:(i=i||.3*r,a=!o||o<Math.abs(n)?(o=n,i/4):i/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut:function(t,e,n,r,o,i){var a=0;return 0===t?e:2==(t/=r/2)?e+n:(i=i||r*(.3*1.5),a=!o||o<Math.abs(n)?(o=n,i/4):i/(2*Math.PI)*Math.asin(n/o),t<1?o*Math.pow(2,10*--t)*Math.sin((t*r-a)*(2*Math.PI)/i)*-.5+e:o*Math.pow(2,-10*--t)*Math.sin((t*r-a)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,r){return n-l.Easings.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut:function(t,e,n,r){return t<r/2?.5*l.Easings.BounceEaseIn(2*t,0,n,r)+e:.5*l.Easings.BounceEaseOut(2*t-r,0,n,r)+.5*n+e},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},{"./Animation":24,"./Global":32,"./Node":35,"./Util":40}],40:[function(t,e,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r=t("./Global"),t=(o.toCollection=function(t){for(var e=new o,n=t.length,r=0;r<n;r++)e.push(t[r]);return e},o._mapMethod=function(r){o.prototype[r]=function(){for(var t=this.length,e=[].slice.call(arguments),n=0;n<t;n++)this[n][r].apply(this[n],e);return this}},o.mapMethods=function(t){for(var e in t.prototype)o._mapMethod(e)},o);function o(){}(l.Collection=t).prototype=[],t.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},t.prototype.toArray=function(){for(var t=[],e=this.length,n=0;n<e;n++)t.push(this[n]);return t};n.prototype.copy=function(){return new n(this.m)},n.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},n.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},n.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,o=this.m[1]*e+this.m[3]*n,t=this.m[0]*-n+this.m[2]*e,e=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=o,this.m[2]=t,this.m[3]=e,this},n.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},n.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,e=this.m[2]+this.m[0]*t,t=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=e,this.m[3]=t,this},n.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],i=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],t=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=i,this.m[5]=t,this},n.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,o=this.m[0]*t,i=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),t=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=i,this.m[5]=t,this},n.prototype.getMatrix=function(){return this.m},n.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],o=this.m[2],i=this.m[3],a=this.m[4],r=(n*(e-this.m[5])-r*(t-a))/(n*i-r*o);return this.translate((t-a-o*r)/n,r)},n.prototype.decompose=function(){var t,e=this.m[0],n=this.m[1],r=this.m[2],o=this.m[3],i=e*o-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};return 0!=e||0!=n?(t=Math.sqrt(e*e+n*n),a.rotation=0<n?Math.acos(e/t):-Math.acos(e/t),a.scaleX=t,a.scaleY=i/t,a.skewX=(e*r+n*o)/i,a.skewY=0):0==r&&0==o||(t=Math.sqrt(r*r+o*o),a.rotation=Math.PI/2-(0<o?Math.acos(-r/t):-Math.acos(r/t)),a.scaleX=i/t,a.scaleY=t,a.skewX=0,a.skewY=(e*r+n*o)/i),a.rotation=l.Util._getRotation(a.rotation),a},t=n;function n(t){this.m=(t=void 0===t?[1,0,0,1,0,0]:t)&&t.slice()||[1,0,0,1,0,0]}l.Transform=t;var i=Math.PI/180,a=180/Math.PI,s="Konva error: ",h={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];l.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;t=t[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:function(t){return 0===t?0:0<t?1:-1},requestAnimFrame:function(t){u.push(t),1===u.length&&requestAnimationFrame(function(){var t=u;u=[],t.forEach(function(t){t()})})},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){for(var e,n=[],r=t.length,o=l.Util,i=0;i<r;i++)e=t[i],o._isNumber(e)?e=Math.round(1e3*e)/1e3:o._isString(e)||(e=e.toString()),n.push(e);return n},_urlToImage:function(t,e){var n=new r.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");t=parseInt(t,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in h?{r:(e=h[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return l.Util._namedColorToRBA(t=t||"black")||l.Util._hex3ColorToRGBA(t)||l.Util._hex6ColorToRGBA(t)||l.Util._rgbColorToRGBA(t)||l.Util._rgbaColorToRGBA(t)||l.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){t=h[t.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),t=(e[0],e.slice(1)),n=Number(t[0])/360,e=Number(t[1])/100,t=Number(t[2])/100,r=void 0,o=void 0,i=void 0;if(0==e)return i=255*t,{r:Math.round(i),g:Math.round(i),b:Math.round(i),a:1};for(var a=2*t-(r=t<.5?t*(1+e):t+e-t*e),s=[0,0,0],l=0;l<3;l++)(o=n+1/3*-(l-1))<0&&o++,1<o&&o--,s[l]=255*(i=6*o<1?a+6*(r-a)*o:2*o<1?r:3*o<2?a+(r-a)*(2/3-o)*6:a);return{r:Math.round(s[0]),g:Math.round(s[1]),b:Math.round(s[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e,n={};for(e in t)this._isPlainObject(t[e])?n[e]=this.cloneObject(t[e]):this._isArray(t[e])?n[e]=this.cloneArray(t[e]):n[e]=t[e];return n},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*i},_radToDeg:function(t){return t*a},_getRotation:function(t){return r.Konva.angleDeg?l.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(s+t)},error:function(t){console.error(s+t)},warn:function(t){r.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r,o=t.prototype;for(r in t.prototype=new n,o)o.hasOwnProperty(r)&&(t.prototype[r]=o[r]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,o,i,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(o-n,2)+Math.pow(i-r,2)),h=a*s/(s+l),l=a*l/(s+l);return[n-h*(o-t),r-h*(i-e),n+l*(o-t),r+l*(i-e)]},_expandPoints:function(t,e){for(var n,r=t.length,o=[],i=2;i<r-2;i+=2)n=l.Util._getControlPoints(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),o.push(n[0]),o.push(n[1]),o.push(t[i]),o.push(t[i+1]),o.push(n[2]),o.push(n[3]);return o},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,o,i){var a,s,l=(t-n)*(t-n)+(e-r)*(e-r);return i=0==l?(a=t,s=e,(o-n)*(o-n)+(i-r)*(i-r)):(l=((o-t)*(n-t)+(i-e)*(r-e))/l)<0?((a=t)-o)*(t-o)+((s=e)-i)*(e-i):1<l?((a=n)-o)*(n-o)+((s=r)-i)*(r-i):((a=t+l*(n-t))-o)*(a-o)+((s=e+l*(r-e))-i)*(s-i),[a,s,i]},_getProjectionToLine:function(r,o,i){var a=l.Util.cloneObject(r),s=Number.MAX_VALUE;return o.forEach(function(t,e){var n;!i&&e===o.length-1||(n=o[(e+1)%o.length],t=(e=l.Util._getProjectionToSegment(t.x,t.y,n.x,n.y,r.x,r.y))[0],n=e[1],(e=e[2])<s&&(a.x=t,a.y=n,s=e))}),a},_prepareArrayForTween:function(t,e,n){var r,o,i=[],a=[];for(t.length>e.length&&(o=e,e=t,t=o),r=0;r<t.length;r+=2)i.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)a.push({x:e[r],y:e[r+1]});var s=[];return a.forEach(function(t){t=l.Util._getProjectionToLine(t,i,n);s.push(t.x),s.push(t.y)}),s},_prepareToStringify:function(t){var e,n;for(n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||l.Util._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===l.Util._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},{"./Global":32}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),o=t("./Util");function i(t){return o.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||o.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}n.RGBComponent=function(t){return 255<t?255:t<0?0:Math.round(t)},n.alphaComponent=function(t){return 1<t?1:t<1e-4?1e-4:t},n.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return o.Util._isNumber(t)||o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},n.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return o.Util._isNumber(t)||"auto"===t||o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},n.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return o.Util._isString(t)||o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},n.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return o.Util._isFunction(t)||o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},n.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return o.Util._isArray(t)?t.forEach(function(t){o.Util._isNumber(t)||o.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")}):o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},n.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},n.getComponentValidator=function(n){if(r.Konva.isUnminified)return function(t,e){return o.Util.isObject(t)||o.Util.warn(i(t)+' is a not valid value for "'+e+'" attribute. The value should be an object with properties '+n),t}}},{"./Global":32,"./Util":40}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),o=t("./Util"),i=t("./Node"),a=t("./Container"),s=t("./Stage"),l=t("./Layer"),h=t("./FastLayer"),c=t("./Group"),u=t("./DragAndDrop"),d=t("./Shape"),y=t("./Animation"),p=t("./Tween"),f=t("./Context"),t=t("./Canvas");n.Konva=o.Util._assign(r.Konva,{Collection:o.Collection,Util:o.Util,Transform:o.Transform,Node:i.Node,ids:i.ids,names:i.names,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:h.FastLayer,Group:c.Group,DD:u.DD,Shape:d.Shape,shapes:d.shapes,Animation:y.Animation,Tween:p.Tween,Easings:p.Easings,Context:f.Context,Canvas:t.Canvas})},{"./Animation":24,"./Canvas":26,"./Container":27,"./Context":28,"./DragAndDrop":29,"./FastLayer":31,"./Global":32,"./Group":33,"./Layer":34,"./Node":35,"./Shape":37,"./Stage":38,"./Tween":39,"./Util":40}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./_CoreInternals"),o=t("./shapes/Arc"),i=t("./shapes/Arrow"),a=t("./shapes/Circle"),s=t("./shapes/Ellipse"),l=t("./shapes/Image"),h=t("./shapes/Label"),c=t("./shapes/Line"),u=t("./shapes/Path"),d=t("./shapes/Rect"),y=t("./shapes/RegularPolygon"),p=t("./shapes/Ring"),f=t("./shapes/Sprite"),x=t("./shapes/Star"),g=t("./shapes/Text"),_=t("./shapes/TextPath"),m=t("./shapes/Transformer"),v=t("./shapes/Wedge"),b=t("./filters/Blur"),w=t("./filters/Brighten"),S=t("./filters/Contrast"),A=t("./filters/Emboss"),k=t("./filters/Enhance"),C=t("./filters/Grayscale"),P=t("./filters/HSL"),T=t("./filters/HSV"),F=t("./filters/Invert"),M=t("./filters/Kaleidoscope"),O=t("./filters/Mask"),G=t("./filters/Noise"),I=t("./filters/Pixelate"),R=t("./filters/Posterize"),E=t("./filters/RGB"),N=t("./filters/RGBA"),D=t("./filters/Sepia"),L=t("./filters/Solarize"),t=t("./filters/Threshold");n.Konva=r.Konva.Util._assign(r.Konva,{Arc:o.Arc,Arrow:i.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:h.Label,Tag:h.Tag,Line:c.Line,Path:u.Path,Rect:d.Rect,RegularPolygon:y.RegularPolygon,Ring:p.Ring,Sprite:f.Sprite,Star:x.Star,Text:g.Text,TextPath:_.TextPath,Transformer:m.Transformer,Wedge:v.Wedge,Filters:{Blur:b.Blur,Brighten:w.Brighten,Contrast:S.Contrast,Emboss:A.Emboss,Enhance:k.Enhance,Grayscale:C.Grayscale,HSL:P.HSL,HSV:T.HSV,Invert:F.Invert,Kaleidoscope:M.Kaleidoscope,Mask:O.Mask,Noise:G.Noise,Pixelate:I.Pixelate,Posterize:R.Posterize,RGB:E.RGB,RGBA:N.RGBA,Sepia:D.Sepia,Solarize:L.Solarize,Threshold:t.Threshold}})},{"./_CoreInternals":42,"./filters/Blur":44,"./filters/Brighten":45,"./filters/Contrast":46,"./filters/Emboss":47,"./filters/Enhance":48,"./filters/Grayscale":49,"./filters/HSL":50,"./filters/HSV":51,"./filters/Invert":52,"./filters/Kaleidoscope":53,"./filters/Mask":54,"./filters/Noise":55,"./filters/Pixelate":56,"./filters/Posterize":57,"./filters/RGB":58,"./filters/RGBA":59,"./filters/Sepia":60,"./filters/Solarize":61,"./filters/Threshold":62,"./shapes/Arc":64,"./shapes/Arrow":65,"./shapes/Circle":66,"./shapes/Ellipse":67,"./shapes/Image":68,"./shapes/Label":69,"./shapes/Line":70,"./shapes/Path":71,"./shapes/Rect":72,"./shapes/RegularPolygon":73,"./shapes/Ring":74,"./shapes/Sprite":75,"./shapes/Star":76,"./shapes/Text":77,"./shapes/TextPath":78,"./shapes/Transformer":79,"./shapes/Wedge":80}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");function j(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var H=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],V=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];n.Blur=function(t){var e=Math.round(this.blurRadius());0<e&&function(t,e){for(var n,r,o,i,a,s,l,h,c,u,d,y,p,f,x,g,_,m,v,b,w,S,A,k=t.data,C=t.width,P=t.height,T=e+e+1,F=C-1,M=P-1,O=e+1,G=O*(O+1)/2,I=new j,R=null,E=I,N=null,D=null,L=H[e],U=V[e],B=1;B<T;B++)E=E.next=new j,B===O&&(R=E);for(E.next=I,r=s=a=0;r<P;r++){for(x=g=_=m=l=h=c=u=0,d=O*(v=k[a]),y=O*(b=k[a+1]),p=O*(w=k[a+2]),f=O*(S=k[a+3]),l+=G*v,h+=G*b,c+=G*w,u+=G*S,E=I,B=0;B<O;B++)E.r=v,E.g=b,E.b=w,E.a=S,E=E.next;for(B=1;B<O;B++)l+=(E.r=v=k[o=a+((F<B?F:B)<<2)])*(A=O-B),h+=(E.g=b=k[o+1])*A,c+=(E.b=w=k[o+2])*A,u+=(E.a=S=k[o+3])*A,x+=v,g+=b,_+=w,m+=S,E=E.next;for(N=I,D=R,n=0;n<C;n++)k[a+3]=S=u*L>>U,0!==S?(k[a]=(l*L>>U)*(S=255/S),k[a+1]=(h*L>>U)*S,k[a+2]=(c*L>>U)*S):k[a]=k[a+1]=k[a+2]=0,l-=d,h-=y,c-=p,u-=f,d-=N.r,y-=N.g,p-=N.b,f-=N.a,o=s+((o=n+e+1)<F?o:F)<<2,l+=x+=N.r=k[o],h+=g+=N.g=k[o+1],c+=_+=N.b=k[o+2],u+=m+=N.a=k[o+3],N=N.next,d+=v=D.r,y+=b=D.g,p+=w=D.b,f+=S=D.a,x-=v,g-=b,_-=w,m-=S,D=D.next,a+=4;s+=C}for(n=0;n<C;n++){for(g=_=m=x=h=c=u=l=0,d=O*(v=k[a=n<<2]),y=O*(b=k[a+1]),p=O*(w=k[a+2]),f=O*(S=k[a+3]),l+=G*v,h+=G*b,c+=G*w,u+=G*S,E=I,B=0;B<O;B++)E.r=v,E.g=b,E.b=w,E.a=S,E=E.next;for(i=C,B=1;B<=e;B++)l+=(E.r=v=k[a=i+n<<2])*(A=O-B),h+=(E.g=b=k[a+1])*A,c+=(E.b=w=k[a+2])*A,u+=(E.a=S=k[a+3])*A,x+=v,g+=b,_+=w,m+=S,E=E.next,B<M&&(i+=C);for(a=n,N=I,D=R,r=0;r<P;r++)k[(o=a<<2)+3]=S=u*L>>U,0<S?(k[o]=(l*L>>U)*(S=255/S),k[o+1]=(h*L>>U)*S,k[o+2]=(c*L>>U)*S):k[o]=k[o+1]=k[o+2]=0,l-=d,h-=y,c-=p,u-=f,d-=N.r,y-=N.g,p-=N.b,f-=N.a,o=n+((o=r+O)<M?o:M)*C<<2,l+=x+=N.r=k[o],h+=g+=N.g=k[o+1],c+=_+=N.b=k[o+2],u+=m+=N.a=k[o+3],N=N.next,d+=v=D.r,y+=b=D.g,p+=w=D.b,f+=S=D.a,x-=v,g-=b,_-=w,m-=S,D=D.next,a+=C}}(t,e)},r.Factory.addGetterSetter(o.Node,"blurRadius",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.Brighten=function(t){for(var e=255*this.brightness(),n=t.data,r=n.length,o=0;o<r;o+=4)n[o]+=e,n[o+1]+=e,n[o+2]+=e},r.Factory.addGetterSetter(o.Node,"brightness",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.Contrast=function(t){for(var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,o=150,i=150,a=150,s=0;s<r;s+=4)o=n[s],i=n[s+1],a=n[s+2],o/=255,o-=.5,o*=e,o+=.5,i/=255,i-=.5,i*=e,i+=.5,a/=255,a-=.5,a*=e,a+=.5,i=(i*=255)<0?0:255<i?255:i,a=(a*=255)<0?0:255<a?255:a,n[s]=o=(o*=255)<0?0:255<o?255:o,n[s+1]=i,n[s+2]=a},r.Factory.addGetterSetter(o.Node,"contrast",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),b=t("../Util"),t=t("../Validators");n.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),o=this.embossBlend(),i=0,a=0,s=t.data,l=t.width,h=t.height,c=4*l,u=h;switch(r){case"top-left":a=i=-1;break;case"top":i=-1,a=0;break;case"top-right":i=-1,a=1;break;case"right":i=0,a=1;break;case"bottom-right":a=i=1;break;case"bottom":i=1,a=0;break;case"bottom-left":a=-(i=1);break;case"left":i=0,a=-1;break;default:b.Util.error("Unknown emboss direction: "+r)}do{var d=(u-1)*c,y=i,p=(u-1+(y=h<u+(y=u+y<1?0:y)?0:y))*l*4,f=l;do{var x=d+4*(f-1),g=a,_=p+4*(f-1+(g=l<f+(g=f+g<1?0:g)?0:g)),m=s[x]-s[_],v=s[1+x]-s[1+_],g=s[2+x]-s[2+_],_=m,m=0<_?_:-_}while(m<(0<v?v:-v)&&(_=v),m<(0<g?g:-g)&&(_=g),_*=e,o?(v=s[x]+_,m=s[1+x]+_,g=s[2+x]+_,s[x]=255<v?255:v<0?0:v,s[1+x]=255<m?255:m<0?0:m,s[2+x]=255<g?255:g<0?0:g):((_=n-_)<0?_=0:255<_&&(_=255),s[x]=s[1+x]=s[2+x]=_),--f)}while(--u)},r.Factory.addGetterSetter(o.Node,"embossStrength",.5,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"embossWhiteLevel",.5,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Util":40,"../Validators":41}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");function _(t,e,n,r,o){n-=e,o-=r;return 0==n?r+o/2:0==o?r:o*((t-e)/n)+r}n.Enhance=function(t){var e,n,r,o,i,a,s,l,h=t.data,c=h.length,u=h[0],d=u,y=h[1],p=y,f=h[2],x=f,g=this.enhance();if(0!==g){for(n=0;n<c;n+=4)(e=h[n+0])<u?u=e:d<e&&(d=e),(e=h[n+1])<y?y=e:p<e&&(p=e),(e=h[n+2])<f?f=e:x<e&&(x=e);for(d===u&&(d=255,u=0),p===y&&(p=255,y=0),x===f&&(x=255,f=0),l=0<g?(r=d+g*(255-d),o=u-g*+u,i=p+g*(255-p),a=y-g*+y,s=x+g*(255-x),f-g*+f):(r=d+g*(d-(t=.5*(d+u))),o=u+g*(u-t),i=p+g*(p-(t=.5*(p+y))),a=y+g*(y-t),s=x+g*(x-(t=.5*(x+f))),f+g*(f-t)),n=0;n<c;n+=4)h[n+0]=_(h[n+0],u,d,o,r),h[n+1]=_(h[n+1],y,p,a,i),h[n+2]=_(h[n+2],f,x,l,s)}},r.Factory.addGetterSetter(o.Node,"enhance",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Grayscale=function(t){for(var e,n=t.data,r=n.length,o=0;o<r;o+=4)e=.34*n[o]+.5*n[o+1]+.16*n[o+2],n[o]=e,n[o+1]=e,n[o+2]=e}},{}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");r.Factory.addGetterSetter(o.Node,"hue",0,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"saturation",0,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"luminance",0,t.getNumberValidator(),r.Factory.afterSetFilter),n.HSL=function(t){for(var e,n,r,o,i=t.data,a=i.length,s=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,h=127*this.luminance(),t=+s*Math.cos(l*Math.PI/180),l=+s*Math.sin(l*Math.PI/180),c=.299+.701*t+.167*l,u=.587-.587*t+.33*l,d=.114-.114*t-.497*l,y=.299-.299*t-.328*l,p=.587+.413*t+.035*l,f=.114-.114*t+.293*l,x=.299-.3*t+1.25*l,g=.587-.586*t-1.05*l,_=.114+.886*t-.2*l,m=0;m<a;m+=4)e=i[m+0],n=i[m+1],r=i[m+2],o=i[m+3],i[m+0]=c*e+u*n+d*r+h,i[m+1]=y*e+p*n+f*r+h,i[m+2]=x*e+g*n+_*r+h,i[m+3]=o}},{"../Factory":30,"../Node":35,"../Validators":41}],51:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.HSV=function(t){for(var e,n,r,o,i=t.data,a=i.length,s=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,t=s*l*Math.cos(h*Math.PI/180),h=s*l*Math.sin(h*Math.PI/180),c=.299*s+.701*t+.167*h,u=.587*s-.587*t+.33*h,d=.114*s-.114*t-.497*h,y=.299*s-.299*t-.328*h,p=.587*s+.413*t+.035*h,f=.114*s-.114*t+.293*h,x=.299*s-.3*t+1.25*h,g=.587*s-.586*t-1.05*h,_=.114*s+.886*t-.2*h,m=0;m<a;m+=4)e=i[m+0],n=i[m+1],r=i[m+2],o=i[m+3],i[m+0]=c*e+u*n+d*r,i[m+1]=y*e+p*n+f*r,i[m+2]=x*e+g*n+_*r,i[m+3]=o},r.Factory.addGetterSetter(o.Node,"hue",0,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"saturation",0,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"value",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Invert=function(t){for(var e=t.data,n=e.length,r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]}},{}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),w=t("../Util"),t=t("../Validators");n.Kaleidoscope=function(t){var e,n,r,o,i,a,s,l,h,c,u=t.width,d=t.height,y=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),f=Math.floor(u*(p%360)/360);if(!(y<1)){p=w.Util.createCanvasElement();p.width=u,p.height=d;var x=p.getContext("2d").getImageData(0,0,u,d);!function(t,e,n){for(var r,o,i,a,s,l,h,c,u=t.data,d=e.data,y=t.width,t=t.height,p=n.polarCenterX||y/2,f=n.polarCenterY||t/2,x=Math.sqrt(p*p+f*f),g=y-p,_=t-f,n=Math.sqrt(g*g+_*_),x=x<n?n:x,m=t,v=y,b=360/v*Math.PI/180,w=0;w<v;w+=1)for(h=Math.sin(w*b),c=Math.cos(w*b),l=0;l<m;l+=1)g=Math.floor(p+x*l/m*c),o=u[0+(r=4*(Math.floor(f+x*l/m*h)*y+g))],i=u[1+r],a=u[2+r],s=u[3+r],d[0+(r=4*(w+l*y))]=o,d[1+r]=i,d[2+r]=a,d[3+r]=s}(t,x,{polarCenterX:u/2,polarCenterY:d/2});for(var g=u/Math.pow(2,y);g<=8;)g*=2,--y;var _=g=Math.ceil(g),m=0,v=_,b=1;for(u<f+g&&(m=_,v=0,b=-1),n=0;n<d;n+=1)for(e=m;e!==v;e+=b)r=Math.round(e+f)%u,i=x.data[(h=4*(u*n+r))+0],a=x.data[h+1],s=x.data[h+2],l=x.data[h+3],x.data[(c=4*(u*n+e))+0]=i,x.data[c+1]=a,x.data[c+2]=s,x.data[c+3]=l;for(n=0;n<d;n+=1)for(_=Math.floor(g),o=0;o<y;o+=1){for(e=0;e<_+1;e+=1)i=x.data[(h=4*(u*n+e))+0],a=x.data[h+1],s=x.data[h+2],l=x.data[h+3],x.data[(c=4*(u*n+2*_-e-1))+0]=i,x.data[c+1]=a,x.data[c+2]=s,x.data[c+3]=l;_*=2}!function(t,e,n){var r,o,i,a,s,l,h,c=t.data,u=e.data,d=t.width,y=t.height,p=n.polarCenterX||d/2,f=n.polarCenterY||y/2,x=Math.sqrt(p*p+f*f),g=d-p,_=y-f,t=Math.sqrt(g*g+_*_),x=x<t?t:x,m=y,v=d,b=n.polarRotation||0;for(g=0;g<d;g+=1)for(_=0;_<y;_+=1)h=g-p,r=_-f,l=Math.sqrt(h*h+r*r)*m/x,h=(180*Math.atan2(r,h)/Math.PI+360+b)%360*v/360,h=Math.floor(h),o=c[0+(h=4*(Math.floor(l)*d+h))],i=c[1+h],a=c[2+h],s=c[3+h],u[0+(h=4*(_*d+g))]=o,u[1+h]=i,u[2+h]=a,u[3+h]=s}(x,t,{polarRotation:0})}},r.Factory.addGetterSetter(o.Node,"kaleidoscopePower",2,t.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"kaleidoscopeAngle",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Util":40,"../Validators":41}],54:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");function u(t,e,n){n=4*(n*t.width+e),e=[];return e.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),e}function d(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function i(t,e){var n=u(t,0,0),r=u(t,t.width-1,0),o=u(t,0,t.height-1),i=u(t,t.width-1,t.height-1),a=e||10;if(d(n,r)<a&&d(r,i)<a&&d(i,o)<a&&d(o,n)<a){for(var s=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,i,o]),l=[],h=0;h<t.width*t.height;h++){var c=d(s,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=c<a?0:255}return l}}n.Mask=function(t){var e=i(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,u=0;u<o;u++)for(var d=0;d<o;d++){var y=s+u-i,p=l+d-i;0<=y&&y<n&&0<=p&&p<e&&(c+=t[y*e+p]*r[u*o+d])}a[h]=c}return a}(function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,u=0;u<o;u++)for(var d=0;d<o;d++){var y=s+u-i,p=l+d-i;0<=y&&y<n&&0<=p&&p<e&&(c+=t[y*e+p]*r[u*o+d])}a[h]=1020<=c?255:0}return a}(function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(r.length)),i=Math.floor(o/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,u=0;u<o;u++)for(var d=0;d<o;d++){var y=s+u-i,p=l+d-i;0<=y&&y<n&&0<=p&&p<e&&(c+=t[y*e+p]*r[u*o+d])}a[h]=2040===c?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(o.Node,"threshold",0,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],55:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.Noise=function(t){for(var e=255*this.noise(),n=t.data,r=n.length,o=e/2,i=0;i<r;i+=4)n[i+0]+=o-2*o*Math.random(),n[i+1]+=o-2*o*Math.random(),n[i+2]+=o-2*o*Math.random()},r.Factory.addGetterSetter(o.Node,"noise",.2,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],56:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),b=t("../Util"),o=t("../Node"),t=t("../Validators");n.Pixelate=function(t){var e,n,r,o,i,a,s,l,h,c,u,d,y,p,f=Math.ceil(this.pixelSize()),x=t.width,g=t.height,_=Math.ceil(x/f),m=Math.ceil(g/f),v=t.data;if(f<=0)b.Util.error("pixelSize value can not be <= 0");else for(d=0;d<_;d+=1)for(y=0;y<m;y+=1){for(h=(l=d*f)+f,u=(c=y*f)+f,p=s=a=i=o=0,e=l;e<h;e+=1)if(!(x<=e))for(n=c;n<u;n+=1)g<=n||(o+=v[(r=4*(x*n+e))+0],i+=v[r+1],a+=v[r+2],s+=v[r+3],p+=1);for(o/=p,i/=p,a/=p,s/=p,e=l;e<h;e+=1)if(!(x<=e))for(n=c;n<u;n+=1)g<=n||(v[(r=4*(x*n+e))+0]=o,v[r+1]=i,v[r+2]=a,v[r+3]=s)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Util":40,"../Validators":41}],57:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.Posterize=function(t){for(var e=Math.round(254*this.levels())+1,n=t.data,r=n.length,o=255/e,i=0;i<r;i+=1)n[i]=Math.floor(n[i]/o)*o},r.Factory.addGetterSetter(o.Node,"levels",.5,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],58:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.RGB=function(t){for(var e,n=t.data,r=n.length,o=this.red(),i=this.green(),a=this.blue(),s=0;s<r;s+=4)e=(.34*n[s]+.5*n[s+1]+.16*n[s+2])/255,n[s]=e*o,n[s+1]=e*i,n[s+2]=e*a,n[s+3]=n[s+3]},r.Factory.addGetterSetter(o.Node,"red",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(o.Node,"green",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(o.Node,"blue",0,t.RGBComponent,r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],59:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.RGBA=function(t){for(var e,n=t.data,r=n.length,o=this.red(),i=this.green(),a=this.blue(),s=this.alpha(),l=0;l<r;l+=4)n[l]=o*s+n[l]*(e=1-s),n[l+1]=i*s+n[l+1]*e,n[l+2]=a*s+n[l+2]*e},r.Factory.addGetterSetter(o.Node,"red",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(o.Node,"green",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(o.Node,"blue",0,t.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(o.Node,"alpha",1,function(t){return this._filterUpToDate=!1,1<t?1:t<0?0:t})},{"../Factory":30,"../Node":35,"../Validators":41}],60:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Sepia=function(t){for(var e,n,r,o=t.data,i=o.length,a=0;a<i;a+=4)e=o[a+0],n=o[a+1],r=o[a+2],o[a+0]=Math.min(255,.393*e+.769*n+.189*r),o[a+1]=Math.min(255,.349*e+.686*n+.168*r),o[a+2]=Math.min(255,.272*e+.534*n+.131*r)}},{}],61:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Solarize=function(t){var e=t.data,n=t.width,r=4*n,o=t.height;do{var i=(o-1)*r,a=n;do{var s=i+4*(a-1),l=e[s],h=e[1+s],c=e[2+s]}while(127<l&&(l=255-l),127<h&&(h=255-h),127<c&&(c=255-c),e[s]=l,e[1+s]=h,e[2+s]=c,--a)}while(--o)}},{}],62:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),o=t("../Node"),t=t("../Validators");n.Threshold=function(t){for(var e=255*this.threshold(),n=t.data,r=n.length,o=0;o<r;o+=1)n[o]=n[o]<e?0:255},r.Factory.addGetterSetter(o.Node,"threshold",.5,t.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":30,"../Node":35,"../Validators":41}],63:[function(t,e,n){t=t("./_FullInternals").Konva;t._injectGlobal(t),n.default=t,e.exports=n.default},{"./_FullInternals":43}],64:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Global"),c=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(u,i),u.prototype._sceneFunc=function(t){var e=h.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},u.prototype.getWidth=function(){return 2*this.outerRadius()},u.prototype.getHeight=function(){return 2*this.outerRadius()},u.prototype.setWidth=function(t){this.outerRadius(t/2)},u.prototype.setHeight=function(t){this.outerRadius(t/2)},u);function u(){return null!==i&&i.apply(this,arguments)||this}(n.Arc=o).prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],t._registerNode(o),s.Factory.addGetterSetter(o,"innerRadius",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"outerRadius",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"angle",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"clockwise",!1,c.getBooleanValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],65:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var u,i=t("../Util"),a=t("../Factory"),s=t("./Line"),l=t("../Validators"),t=t("../Global"),o=(u=s.Line,o(h,u),h.prototype._sceneFunc=function(t){u.prototype._sceneFunc.call(this,t);var e=2*Math.PI,n=this.points(),r=n,o=0!==this.tension()&&4<n.length;o&&(r=this.getTensionPoints());var i,a=n.length,s=o?(i=n[a-2]-(r[r.length-2]+r[r.length-4])/2,n[a-1]-(r[r.length-1]+r[r.length-3])/2):(i=n[a-2]-n[a-4],n[a-1]-n[a-3]),l=(Math.atan2(s,i)+e)%e,h=this.pointerLength(),c=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[a-2],n[a-1]),t.rotate(l),t.moveTo(0,0),t.lineTo(-h,c/2),t.lineTo(-h,-c/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),s=o?(i=(r[0]+r[2])/2-n[0],(r[1]+r[3])/2-n[1]):(i=n[2]-n[0],n[3]-n[1]),t.rotate((Math.atan2(-s,-i)+e)%e),t.moveTo(0,0),t.lineTo(-h,c/2),t.lineTo(-h,-c/2),t.closePath(),t.restore());c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)},h.prototype.getSelfRect=function(){var t=u.prototype.getSelfRect.call(this),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}},h);function h(){return null!==u&&u.apply(this,arguments)||this}(n.Arrow=o).prototype.className="Arrow",t._registerNode(o),a.Factory.addGetterSetter(o,"pointerLength",10,l.getNumberValidator()),a.Factory.addGetterSetter(o,"pointerWidth",10,l.getNumberValidator()),a.Factory.addGetterSetter(o,"pointerAtBeginning",!1),i.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Util":40,"../Validators":41,"./Line":70}],66:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(c,i),c.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.radius()},c.prototype.getHeight=function(){return 2*this.radius()},c.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},c.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},c);function c(){return null!==i&&i.apply(this,arguments)||this}(n.Circle=o).prototype._centroid=!0,o.prototype.className="Circle",o.prototype._attrsAffectingSize=["radius"],t._registerNode(o),s.Factory.addGetterSetter(o,"radius",0,h.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],67:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(c,i),c.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.radiusX()},c.prototype.getHeight=function(){return 2*this.radiusY()},c.prototype.setWidth=function(t){this.radiusX(t/2)},c.prototype.setHeight=function(t){this.radiusY(t/2)},c);function c(){return null!==i&&i.apply(this,arguments)||this}(n.Ellipse=o).prototype.className="Ellipse",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radiusX","radiusY"],t._registerNode(o),s.Factory.addComponentsGetterSetter(o,"radius",["x","y"]),s.Factory.addGetterSetter(o,"radiusX",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"radiusY",0,h.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],68:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(c,i),c.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},c.prototype._sceneFunc=function(t){var e,n,r=this.width(),o=this.height(),i=this.image();i&&(e=this.cropWidth(),n=this.cropHeight(),n=e&&n?[i,this.cropX(),this.cropY(),e,n,0,0,r,o]:[i,0,0,r,o]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,r,o),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,n)},c.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){var t,e=this.image();return null!==(t=this.attrs.width)&&void 0!==t?t:e?e.width:0},c.prototype.getHeight=function(){var t,e=this.image();return null!==(t=this.attrs.height)&&void 0!==t?t:e?e.height:0},c.fromURL=function(t,e){var n=a.Util.createImageElement();n.onload=function(){var t=new c({image:n});e(t)},n.crossOrigin="Anonymous",n.src=t},c);function c(){return null!==i&&i.apply(this,arguments)||this}(n.Image=o).prototype.className="Image",t._registerNode(o),s.Factory.addGetterSetter(o,"image"),s.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(o,"cropX",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"cropY",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"cropWidth",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"cropHeight",0,h.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],69:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Group"),c=t("../Validators"),t=t("../Global"),u=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],d=u.length,h=(i=h.Group,o(y,i),y.prototype.getText=function(){return this.find("Text")[0]},y.prototype.getTag=function(){return this.find("Tag")[0]},y.prototype._addListeners=function(t){for(var e=this,n=function(){e._sync()},r=0;r<d;r++)t.on(u[r]+"Change.konva",n)},y.prototype.getWidth=function(){return this.getText().width()},y.prototype.getHeight=function(){return this.getText().height()},y.prototype._sync=function(){var t,e,n,r,o,i,a,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=o=0,n){case"up":o=t/2,i=-1*a;break;case"right":o=t+r,i=e/2;break;case"down":o=t/2,i=e+a;break;case"left":o=-1*r,i=e/2}l.setAttrs({x:-1*o,y:-1*i,width:t,height:e}),s.setAttrs({x:-1*o,y:-1*i})}},y);function y(t){t=i.call(this,t)||this;return t.on("add.konva",function(t){this._addListeners(t.child),this._sync()}),t}(n.Label=h).prototype.className="Label",t._registerNode(h),a.Collection.mapMethods(h);var p,o=(p=l.Shape,o(f,p),f.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),o=this.pointerWidth(),i=this.pointerHeight(),a=Math.min(this.cornerRadius(),e/2,n/2);t.beginPath(),a?t.moveTo(a,0):t.moveTo(0,0),"up"===r&&(t.lineTo((e-o)/2,0),t.lineTo(e/2,-1*i),t.lineTo((e+o)/2,0)),a?(t.lineTo(e-a,0),t.arc(e-a,a,a,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===r&&(t.lineTo(e,(n-i)/2),t.lineTo(e+o,n/2),t.lineTo(e,(n+i)/2)),a?(t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1)):t.lineTo(e,n),"down"===r&&(t.lineTo((e+o)/2,n),t.lineTo(e/2,n+i),t.lineTo((e-o)/2,n)),a?(t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),"left"===r&&(t.lineTo(0,(n+i)/2),t.lineTo(-1*o,n/2),t.lineTo(0,(n-i)/2)),a&&(t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},f.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),o=this.pointerDirection(),i=this.width(),a=this.height();return"up"===o?(e-=r,a+=r):"down"===o?a+=r:"left"===o?(t-=1.5*n,i+=n):"right"===o&&(i+=1.5*n),{x:t,y:e,width:i,height:a}},f);function f(){return null!==p&&p.apply(this,arguments)||this}(n.Tag=o).prototype.className="Tag",t._registerNode(o),s.Factory.addGetterSetter(o,"pointerDirection","none"),s.Factory.addGetterSetter(o,"pointerWidth",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"pointerHeight",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"cornerRadius",0,c.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Group":33,"../Shape":37,"../Util":40,"../Validators":41}],70:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),h=t("../Shape"),c=t("../Validators"),t=t("../Global"),o=(i=h.Shape,o(u,i),u.prototype._sceneFunc=function(t){var e,n,r,o=this.points(),i=o.length,a=this.tension(),s=this.closed(),l=this.bezier();if(i){if(t.beginPath(),t.moveTo(o[0],o[1]),0!==a&&4<i){for(n=(e=this.getTensionPoints()).length,r=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);s||t.quadraticCurveTo(e[n-2],e[n-1],o[i-2],o[i-1])}else if(l)for(r=2;r<i;)t.bezierCurveTo(o[r++],o[r++],o[r++],o[r++],o[r++],o[r++]);else for(r=2;r<i;r+=2)t.lineTo(o[r],o[r+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},u.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},u.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},u.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),o=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),n=a.Util._expandPoints(t,n);return[r[2],r[3]].concat(n).concat([o[0],o[1],t[e-2],t[e-1],o[2],o[3],r[0],r[1],t[0],t[1]])},u.prototype.getWidth=function(){return this.getSelfRect().width},u.prototype.getHeight=function(){return this.getSelfRect().height},u.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?l([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],o=t[0],i=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],r=Math.min(r,e),o=Math.max(o,e),i=Math.min(i,n),a=Math.max(a,n);return{x:r,y:i,width:o-r,height:a-i}},u);function u(t){t=i.call(this,t)||this;return t.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),t}(n.Line=o).prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],t._registerNode(o),s.Factory.addGetterSetter(o,"closed",!1),s.Factory.addGetterSetter(o,"bezier",!1),s.Factory.addGetterSetter(o,"tension",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"points",[],c.getNumberArrayValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],71:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),t=t("../Global"),o=(i=l.Shape,o(y,i),y.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=!1,r=0;r<e.length;r++){var o=e[r].command,i=e[r].points;switch(o){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var a=i[0],s=i[1],l=i[2],h=i[3],c=i[4],u=i[5],d=i[6],y=i[7],p=h<l?l:h,f=h<l?1:l/h,l=h<l?h/l:1;t.translate(a,s),t.rotate(d),t.scale(f,l),t.arc(0,0,p,c,c+u,1-y),t.scale(1/f,1/l),t.rotate(-d),t.translate(-a,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},y.prototype.getSelfRect=function(){var s=[];this.dataArray.forEach(function(t){if("A"===t.command){var e=t.points[4],n=t.points[5],r=t.points[4]+n,o=Math.PI/180;if(Math.abs(e-r)<o&&(o=Math.abs(e-r)),n<0)for(var i=e-o;r<i;i-=o){var a=y.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],i,0);s.push(a.x,a.y)}else for(i=e+o;i<r;i+=o){a=y.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],i,0);s.push(a.x,a.y)}}else if("C"===t.command)for(i=0;i<=1;i+=.01){a=y.getPointOnCubicBezier(i,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);s.push(a.x,a.y)}else s=s.concat(t.points)});for(var t,e,n=s[0],r=s[0],o=s[1],i=s[1],a=0;a<s.length/2;a++)t=s[2*a],e=s[2*a+1],isNaN(t)||(n=Math.min(n,t),r=Math.max(r,t)),isNaN(e)||(o=Math.min(o,e),i=Math.max(i,e));return{x:Math.round(n),y:Math.round(o),width:Math.round(r-n),height:Math.round(i-o)}},y.prototype.getLength=function(){return this.pathLength},y.prototype.getPointAtLength=function(t){var e,n=0,r=this.dataArray.length;if(!r)return null;for(;n<r&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===r)return{x:(e=this.dataArray[n-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[n].points.slice(0,2))[0],y:e[1]};var o=this.dataArray[n],i=o.points;switch(o.command){case"L":return y.getPointOnLine(t,o.start.x,o.start.y,i[0],i[1]);case"C":return y.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,i[0],i[1],i[2],i[3],i[4],i[5]);case"Q":return y.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,i[0],i[1],i[2],i[3]);case"A":var a=i[0],s=i[1],l=i[2],h=i[3],c=i[4],u=i[5],d=i[6];return c+=u*t/o.pathLength,y.getPointOnEllipticalArc(a,s,l,h,c,d)}return null},y.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},y.getPointOnLine=function(t,e,n,r,o,i,a){void 0===i&&(i=e),void 0===a&&(a=n);var s=(o-n)/(r-e+1e-8),l=Math.sqrt(t*t/(1+s*s));r<e&&(l*=-1);var h,c=s*l;if(r===e)h={x:i,y:a+c};else if((a-n)/(i-e+1e-8)==s)h={x:i+l,y:a+c};else{var u=this.getLineLength(e,n,r,o);if(u<1e-8)return;var d=(i-e)*(r-e)+(a-n)*(o-n),n=this.getLineLength(i,a,u=e+(d/=u*u)*(r-e),o=n+d*(o-n)),n=Math.sqrt(t*t-n*n),l=Math.sqrt(n*n/(1+s*s));r<e&&(l*=-1),h={x:u+l,y:o+(c=s*l)}}return h},y.getPointOnCubicBezier=function(t,e,n,r,o,i,a,s,l){function h(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function u(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:s*h(t)+i*c(t)+r*u(t)+e*d(t),y:l*h(t)+a*c(t)+o*u(t)+n*d(t)}},y.getPointOnQuadraticBezier=function(t,e,n,r,o,i,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:i*s(t)+r*l(t)+e*h(t),y:a*s(t)+o*l(t)+n*h(t)}},y.getPointOnEllipticalArc=function(t,e,n,r,o,i){var a=Math.cos(i),i=Math.sin(i),n=n*Math.cos(o),o=r*Math.sin(o);return{x:t+(n*a-o*i),y:e+(n*i+o*a)}},y.parsePathData=function(t){if(!t)return[];for(var e=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],n=(n=t).replace(new RegExp(" ","g"),","),r=0;r<e.length;r++)n=n.replace(new RegExp(e[r],"g"),"|"+e[r]);for(var o,i=n.split("|"),a=[],s=[],l=0,h=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,r=1;r<i.length;r++){var u=(d=i[r]).charAt(0),d=d.slice(1);for(s.length=0;o=c.exec(d);)s.push(o[0]);for(var y=[],p=0,f=s.length;p<f;p++){var x=parseFloat(s[p]);isNaN(x)?y.push(0):y.push(x)}for(;0<y.length&&!isNaN(y[0]);){var g,_,m,v,b,w,S,A,k,C,P=null,T=[],F=l,M=h;switch(u){case"l":l+=y.shift(),h+=y.shift(),P="L",T.push(l,h);break;case"L":l=y.shift(),h=y.shift(),T.push(l,h);break;case"m":var O=y.shift(),G=y.shift();if(l+=O,h+=G,P="M",2<a.length&&"z"===a[a.length-1].command)for(var I=a.length-2;0<=I;I--)if("M"===a[I].command){l=a[I].points[0]+O,h=a[I].points[1]+G;break}T.push(l,h),u="l";break;case"M":l=y.shift(),h=y.shift(),P="M",T.push(l,h),u="L";break;case"h":l+=y.shift(),P="L",T.push(l,h);break;case"H":l=y.shift(),P="L",T.push(l,h);break;case"v":h+=y.shift(),P="L",T.push(l,h);break;case"V":h=y.shift(),P="L",T.push(l,h);break;case"C":T.push(y.shift(),y.shift(),y.shift(),y.shift()),l=y.shift(),h=y.shift(),T.push(l,h);break;case"c":T.push(l+y.shift(),h+y.shift(),l+y.shift(),h+y.shift()),l+=y.shift(),h+=y.shift(),P="C",T.push(l,h);break;case"S":_=l,m=h,"C"===(g=a[a.length-1]).command&&(_=l+(l-g.points[2]),m=h+(h-g.points[3])),T.push(_,m,y.shift(),y.shift()),l=y.shift(),h=y.shift(),P="C",T.push(l,h);break;case"s":_=l,m=h,"C"===(g=a[a.length-1]).command&&(_=l+(l-g.points[2]),m=h+(h-g.points[3])),T.push(_,m,l+y.shift(),h+y.shift()),l+=y.shift(),h+=y.shift(),P="C",T.push(l,h);break;case"Q":T.push(y.shift(),y.shift()),l=y.shift(),h=y.shift(),T.push(l,h);break;case"q":T.push(l+y.shift(),h+y.shift()),l+=y.shift(),h+=y.shift(),P="Q",T.push(l,h);break;case"T":_=l,m=h,"Q"===(g=a[a.length-1]).command&&(_=l+(l-g.points[0]),m=h+(h-g.points[1])),l=y.shift(),h=y.shift(),P="Q",T.push(_,m,l,h);break;case"t":_=l,m=h,"Q"===(g=a[a.length-1]).command&&(_=l+(l-g.points[0]),m=h+(h-g.points[1])),l+=y.shift(),h+=y.shift(),P="Q",T.push(_,m,l,h);break;case"A":v=y.shift(),b=y.shift(),w=y.shift(),S=y.shift(),A=y.shift(),k=l,C=h,l=y.shift(),h=y.shift(),P="A",T=this.convertEndpointToCenterParameterization(k,C,l,h,S,A,v,b,w);break;case"a":v=y.shift(),b=y.shift(),w=y.shift(),S=y.shift(),A=y.shift(),k=l,C=h,l+=y.shift(),h+=y.shift(),P="A",T=this.convertEndpointToCenterParameterization(k,C,l,h,S,A,v,b,w)}a.push({command:P||u,points:T,start:{x:F,y:M},pathLength:this.calcLength(F,M,P||u,T)})}"z"!==u&&"Z"!==u||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},y.calcLength=function(t,e,n,r){var o,i,a,s=y;switch(n){case"L":return s.getLineLength(t,e,r[0],r[1]);case"C":for(o=s.getPointOnCubicBezier(l=0,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),a=.01;a<=1;a+=.01)i=s.getPointOnCubicBezier(a,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),l+=s.getLineLength(o.x,o.y,i.x,i.y),o=i;return l;case"Q":for(o=s.getPointOnQuadraticBezier(l=0,t,e,r[0],r[1],r[2],r[3]),a=.01;a<=1;a+=.01)i=s.getPointOnQuadraticBezier(a,t,e,r[0],r[1],r[2],r[3]),l+=s.getLineLength(o.x,o.y,i.x,i.y),o=i;return l;case"A":var l=0,h=r[4],c=r[5],u=r[4]+c,d=Math.PI/180;if(Math.abs(h-u)<d&&(d=Math.abs(h-u)),o=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),c<0)for(a=h-d;u<a;a-=d)i=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],a,0),l+=s.getLineLength(o.x,o.y,i.x,i.y),o=i;else for(a=h+d;a<u;a+=d)i=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],a,0),l+=s.getLineLength(o.x,o.y,i.x,i.y),o=i;return i=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),l+=s.getLineLength(o.x,o.y,i.x,i.y)}return 0},y.convertEndpointToCenterParameterization=function(t,e,n,r,o,i,a,s,l){var h=l*(Math.PI/180),c=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-r)/2,u=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-r)/2,d=c*c/(a*a)+u*u/(s*s);1<d&&(a*=Math.sqrt(d),s*=Math.sqrt(d));l=Math.sqrt((a*a*(s*s)-a*a*(u*u)-s*s*(c*c))/(a*a*(u*u)+s*s*(c*c)));o===i&&(l*=-1);function y(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function p(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))}d=(l=isNaN(l)?0:l)*a*u/s,o=l*-s*c/a,l=(t+n)/2+Math.cos(h)*d-Math.sin(h)*o,t=(e+r)/2+Math.sin(h)*d+Math.cos(h)*o,n=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(p(t,e))},e=n([1,0],[(c-d)/a,(u-o)/s]),r=[(c-d)/a,(u-o)/s],o=[(-1*c-d)/a,(-1*u-o)/s],n=n(r,o);return p(r,o)<=-1&&(n=Math.PI),1<=p(r,o)&&(n=0),0===i&&0<n&&(n-=2*Math.PI),1===i&&n<0&&(n+=2*Math.PI),[l,t,a,s,e,n,h,i]},y);function y(t){var e=i.call(this,t)||this;e.dataArray=[],e.pathLength=0,e.dataArray=y.parsePathData(e.data());for(var n=e.pathLength=0;n<e.dataArray.length;++n)e.pathLength+=e.dataArray[n].pathLength;return e.on("dataChange.konva",function(){this.dataArray=y.parsePathData(this.data());for(var t=this.pathLength=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}),e}(n.Path=o).prototype.className="Path",o.prototype._attrsAffectingSize=["data"],t._registerNode(o),s.Factory.addGetterSetter(o,"data"),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40}],72:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),t=t("../Global"),o=(i=l.Shape,o(h,i),h.prototype._sceneFunc=function(t){var e,n,r,o,i=this.cornerRadius(),a=this.width(),s=this.height();t.beginPath(),i?(o=r=n=e=0,"number"==typeof i?e=n=r=o=Math.min(i,a/2,s/2):(e=Math.min(i[0],a/2,s/2),n=Math.min(i[1],a/2,s/2),o=Math.min(i[2],a/2,s/2),r=Math.min(i[3],a/2,s/2)),t.moveTo(e,0),t.lineTo(a-n,0),t.arc(a-n,n,n,3*Math.PI/2,0,!1),t.lineTo(a,s-o),t.arc(a-o,s-o,o,0,Math.PI/2,!1),t.lineTo(r,s),t.arc(r,s-r,r,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,a,s),t.closePath(),t.fillStrokeShape(this)},h);function h(){return null!==i&&i.apply(this,arguments)||this}(n.Rect=o).prototype.className="Rect",t._registerNode(o),s.Factory.addGetterSetter(o,"cornerRadius",0),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40}],73:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(c,i),c.prototype._sceneFunc=function(t){var e,n,r,o=this.sides(),i=this.radius();for(t.beginPath(),t.moveTo(0,0-i),e=1;e<o;e++)n=i*Math.sin(2*e*Math.PI/o),r=-1*i*Math.cos(2*e*Math.PI/o),t.lineTo(n,r);t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.radius()},c.prototype.getHeight=function(){return 2*this.radius()},c.prototype.setWidth=function(t){this.radius(t/2)},c.prototype.setHeight=function(t){this.radius(t/2)},c);function c(){return null!==i&&i.apply(this,arguments)||this}(n.RegularPolygon=o).prototype.className="RegularPolygon",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],t._registerNode(o),s.Factory.addGetterSetter(o,"radius",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"sides",0,h.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],74:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Validators"),t=t("../Global"),c=2*Math.PI,o=(i=l.Shape,o(u,i),u.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,c,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),c,0,!0),t.closePath(),t.fillStrokeShape(this)},u.prototype.getWidth=function(){return 2*this.outerRadius()},u.prototype.getHeight=function(){return 2*this.outerRadius()},u.prototype.setWidth=function(t){this.outerRadius(t/2)},u.prototype.setHeight=function(t){this.outerRadius(t/2)},u);function u(){return null!==i&&i.apply(this,arguments)||this}(n.Ring=o).prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],t._registerNode(o),s.Factory.addGetterSetter(o,"innerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"outerRadius",0,h.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],75:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Animation"),c=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(u,i),u.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,o=this.animations()[e],i=this.frameOffsets(),a=o[0+r],s=o[1+r],l=o[2+r],o=o[3+r],r=this.image();(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,o),t.closePath(),t.fillStrokeShape(this)),r&&(i?(e=i[e],t.drawImage(r,a,s,l,o,e[0+(n=2*n)],e[1+n],l,o)):t.drawImage(r,a,s,l,o,0,0,l,o))},u.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,o=this.animations()[e],i=this.frameOffsets(),a=o[2+r],r=o[3+r];t.beginPath(),i?(e=i[e],t.rect(e[0+(n=2*n)],e[1+n],a,r)):t.rect(0,0,a,r),t.closePath(),t.fillShape(this)},u.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},u.prototype._setInterval=function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())},u.prototype.start=function(){var t;this.isRunning()||(t=this.getLayer(),this.anim.setLayers(t),this._setInterval(),this.anim.start())},u.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},u.prototype.isRunning=function(){return this.anim.isRunning()},u.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},u);function u(t){var e=i.call(this,t)||this;return e._updated=!0,e.anim=new h.Animation(function(){var t=e._updated;return e._updated=!1,t}),e.on("animationChange.konva",function(){this.frameIndex(0)}),e.on("frameIndexChange.konva",function(){this._updated=!0}),e.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),e}(n.Sprite=o).prototype.className="Sprite",t._registerNode(o),s.Factory.addGetterSetter(o,"animation"),s.Factory.addGetterSetter(o,"animations"),s.Factory.addGetterSetter(o,"frameOffsets"),s.Factory.addGetterSetter(o,"image"),s.Factory.addGetterSetter(o,"frameIndex",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"frameRate",17,c.getNumberValidator()),s.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a.Collection.mapMethods(o)},{"../Animation":24,"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],76:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(c,i),c.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var o=1;o<2*r;o++){var i=o%2==0?n:e,a=i*Math.sin(o*Math.PI/r),i=-1*i*Math.cos(o*Math.PI/r);t.lineTo(a,i)}t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.outerRadius()},c.prototype.getHeight=function(){return 2*this.outerRadius()},c.prototype.setWidth=function(t){this.outerRadius(t/2)},c.prototype.setHeight=function(t){this.outerRadius(t/2)},c);function c(){return null!==i&&i.apply(this,arguments)||this}(n.Star=o).prototype.className="Star",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],t._registerNode(o),s.Factory.addGetterSetter(o,"numPoints",5,h.getNumberValidator()),s.Factory.addGetterSetter(o,"innerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(o,"outerRadius",0,h.getNumberValidator()),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],77:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Global"),c=t("../Validators"),t=t("../Global"),T="auto",C="justify",u="2d",d=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],y=d.length;function F(){return i=i||a.Util.createCanvasElement().getContext(u)}String.prototype.trimRight;var p,o=(p=l.Shape,o(f,p),f.prototype._sceneFunc=function(t){var e,n=this.padding(),r=this.fontSize(),o=this.lineHeight()*r,i=this.textArr,a=i.length,s=this.verticalAlign(),l=0,h=this.align(),c=this.getWidth(),u=this.letterSpacing(),d=this.fill(),y=this.textDecoration(),p=-1!==y.indexOf("underline"),f=-1!==y.indexOf("line-through"),x=0,x=o/2,g=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===s?l=(this.getHeight()-a*o-2*n)/2:"bottom"===s&&(l=this.getHeight()-a*o-2*n),t.translate(n,l+n),e=0;e<a;e++){var _,m,g=0,v=i[e],b=v.text,w=v.width,v=e!==a-1;if(t.save(),"right"===h?g+=c-w-2*n:"center"===h&&(g+=(c-w-2*n)/2),p&&(t.save(),t.beginPath(),t.moveTo(g,x+0+Math.round(r/2)),_=0===(S=b.split(" ").length-1),m=h===C&&v&&!_?c-2*n:w,t.lineTo(g+Math.round(m),x+0+Math.round(r/2)),t.lineWidth=r/15,t.strokeStyle=d,t.stroke(),t.restore()),f&&(t.save(),t.beginPath(),t.moveTo(g,x+0),_=0===(S=b.split(" ").length-1),m=h===C&&v&&!_?c-2*n:w,t.lineTo(g+Math.round(m),x+0),t.lineWidth=r/15,t.strokeStyle=d,t.stroke(),t.restore()),0!==u||h===C)for(var S=b.split(" ").length-1,A=0;A<b.length;A++){var k=b[A];" "===k&&e!==a-1&&h===C&&(g+=Math.floor((c-2*n-w)/S)),this._partialTextX=g,this._partialTextY=x+0,this._partialText=k,t.fillStrokeShape(this),g+=Math.round(this.measureSize(k).width)+u}else this._partialTextX=g,this._partialTextY=x+0,this._partialText=b,t.fillStrokeShape(this);t.restore(),1<a&&(x+=o)}},f.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},f.prototype.setText=function(t){t=a.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",t),this},f.prototype.getWidth=function(){return this.attrs.width===T||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},f.prototype.getHeight=function(){return this.attrs.height===T||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},f.prototype.getTextWidth=function(){return this.textWidth},f.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},f.prototype.measureSize=function(t){var e=F(),n=this.fontSize();return e.save(),e.font=this._getContextFont(),t=e.measureText(t),e.restore(),{width:t.width,height:n}},f.prototype._getContextFont=function(){return h.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},f.prototype._addTextLine=function(t){this.align()===C&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},f.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return F().measureText(t).width+(n?e*(n-1):0)},f.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,o=this.attrs.width,i=this.attrs.height,a=o!==T&&void 0!==o,s=i!==T&&void 0!==i,l=this.padding(),h=o-2*l,c=i-2*l,u=0,l=this.wrap(),d="none"!==l,y="char"!==l&&d,p=this.ellipsis()&&!d;this.textArr=[],F().font=this._getContextFont();for(var f=p?this._getTextWidth(""):0,x=0,g=t.length;x<g;++x){var _=t[x],m=this._getTextWidth(_);if(a&&h<m)for(;0<_.length;){for(var v,b=0,w=_.length,S="",A=0;b<w;){var k=b+w>>>1,C=_.slice(0,1+k),P=this._getTextWidth(C)+f;P<=h?(b=1+k,S=C+(p?"":""),A=P):w=k}if(!S)break;if(!y||0<(v=(" "===(v=_[S.length])||"-"===v)&&A<=h?S.length:Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)&&(S=S.slice(0,b=v),A=this._getTextWidth(S)),S=S.trimRight(),this._addTextLine(S),n=Math.max(n,A),u+=r,!d||s&&c<u+r)break;if(0<(_=(_=_.slice(b)).trimLeft()).length&&(m=this._getTextWidth(_))<=h){this._addTextLine(_),u+=r,n=Math.max(n,m);break}}else this._addTextLine(_),u+=r,n=Math.max(n,m);if(s&&c<u+r)break}this.textHeight=e,this.textWidth=n},f.prototype.getStrokeScaleEnabled=function(){return!0},f);function f(t){var e=p.call(this,((t=(t=t)||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t))||this;e._partialTextX=0;for(var n=e._partialTextY=0;n<y;n++)e.on(d[n]+"Change.konva",e._setTextData);return e._setTextData(),e}(n.Text=o).prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},o.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},o.prototype.className="Text",o.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],t._registerNode(o),s.Factory.overWriteSetter(o,"width",c.getNumberOrAutoValidator()),s.Factory.overWriteSetter(o,"height",c.getNumberOrAutoValidator()),s.Factory.addGetterSetter(o,"fontFamily","Arial"),s.Factory.addGetterSetter(o,"fontSize",12,c.getNumberValidator()),s.Factory.addGetterSetter(o,"fontStyle","normal"),s.Factory.addGetterSetter(o,"fontVariant","normal"),s.Factory.addGetterSetter(o,"padding",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"align","left"),s.Factory.addGetterSetter(o,"verticalAlign","top"),s.Factory.addGetterSetter(o,"lineHeight",1,c.getNumberValidator()),s.Factory.addGetterSetter(o,"wrap","word"),s.Factory.addGetterSetter(o,"ellipsis",!1),s.Factory.addGetterSetter(o,"letterSpacing",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"text","",c.getStringValidator()),s.Factory.addGetterSetter(o,"textDecoration",""),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],78:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),a=t("../Factory"),s=t("../Shape"),b=t("./Path"),l=t("./Text"),h=t("../Validators"),t=t("../Global");function c(t){t.fillText(this.partialText,0,0)}function u(t){t.strokeText(this.partialText,0,0)}var d,o=(d=s.Shape,o(y,d),y.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),o=this.glyphInfo;"underline"===e&&t.beginPath();for(var i=0;i<o.length;i++){t.save();var a=o[i].p0;t.translate(a.x,a.y),t.rotate(o[i].rotation),this.partialText=o[i].text,t.fillStrokeShape(this),"underline"===e&&(0===i&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},y.prototype._hitFunc=function(t){t.beginPath();var e,n=this.glyphInfo;1<=n.length&&(e=n[0].p0,t.moveTo(e.x,e.y));for(var r=0;r<n.length;r++){var o=n[r].p1;t.lineTo(o.x,o.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},y.prototype.getTextWidth=function(){return this.textWidth},y.prototype.getTextHeight=function(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},y.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},y.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},y.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();t=e.measureText(t);return e.restore(),{width:t.width,height:parseInt(this.attrs.fontSize,10)}},y.prototype._setTextData=function(){var h=this,t=this._getTextSize(this.attrs.text),c=this.letterSpacing(),u=this.align(),e=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var d=Math.max(this.textWidth+((this.attrs.text||"").length-1)*c,0);this.glyphInfo=[];for(var y=0,n=0;n<h.dataArray.length;n++)0<h.dataArray[n].pathLength&&(y+=h.dataArray[n].pathLength);t=0;"center"===u&&(t=Math.max(0,y/2-d/2)),"right"===u&&(t=Math.max(0,y-d));for(var p,f,x,r=this.text().split(""),g=this.text().split(" ").length-1,_=-1,m=0,o=function(t){var e=h._getTextSize(t).width+c;" "===t&&"justify"===u&&(e+=(y-d)/g);var n=0,r=0;for(f=void 0;.01<Math.abs(e-n)/e&&r<25;){r++;for(var o=n;void 0===x;)(x=function(){m=0;for(var t=h.dataArray,e=_+1;e<t.length;e++){if(0<t[e].pathLength)return t[_=e];"M"===t[e].command&&(p={x:t[e].points[0],y:t[e].points[1]})}return{}}())&&o+x.pathLength<e&&(o+=x.pathLength,x=void 0);if(x==={}||void 0===p)return;var i=!1;switch(x.command){case"L":b.Path.getLineLength(p.x,p.y,x.points[0],x.points[1])>e?f=b.Path.getPointOnLine(e,p.x,p.y,x.points[0],x.points[1],p.x,p.y):x=void 0;break;case"A":var a=x.points[4],s=x.points[5],l=x.points[4]+s;0===m?m=a+1e-8:n<e?m+=Math.PI/180*s/Math.abs(s):m-=Math.PI/360*s/Math.abs(s),(s<0&&m<l||0<=s&&l<m)&&(m=l,i=!0),f=b.Path.getPointOnEllipticalArc(x.points[0],x.points[1],x.points[2],x.points[3],m,x.points[6]);break;case"C":0===m?m=e>x.pathLength?1e-8:e/x.pathLength:n<e?m+=(e-n)/x.pathLength:m-=(n-e)/x.pathLength,1<m&&(m=1,i=!0),f=b.Path.getPointOnCubicBezier(m,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3],x.points[4],x.points[5]);break;case"Q":0===m?m=e/x.pathLength:n<e?m+=(e-n)/x.pathLength:m-=(n-e)/x.pathLength,1<m&&(m=1,i=!0),f=b.Path.getPointOnQuadraticBezier(m,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3])}void 0!==f&&(n=b.Path.getLineLength(p.x,p.y,f.x,f.y)),i&&(i=!1,x=void 0)}},i=t/(h._getTextSize("C").width+c)-1,a=0;a<i&&(o("C"),void 0!==p&&void 0!==f);a++)p=f;for(var s=0;s<r.length&&(o(r[s]),void 0!==p&&void 0!==f);s++){var l=b.Path.getLineLength(p.x,p.y,f.x,f.y),v=0;if(e)try{v=e(r[s-1],r[s])*this.fontSize()}catch(t){v=0}p.x+=v,f.x+=v,this.textWidth+=v;v=b.Path.getPointOnLine(v+l/2,p.x,p.y,f.x,f.y),l=Math.atan2(f.y-p.y,f.x-p.x);this.glyphInfo.push({transposeX:v.x,transposeY:v.y,text:r[s],rotation:l,p0:p,p1:f}),p=f}},y.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)});for(var t,n,r=e[0]||0,o=e[0]||0,i=e[1]||0,a=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),o=Math.max(o,t),i=Math.min(i,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:i-l/2,width:o-r+l,height:a-i+l}},y);function y(t){var e=d.call(this,t)||this;return e.dummyCanvas=i.Util.createCanvasElement(),e.dataArray=[],e.dataArray=b.Path.parsePathData(e.attrs.data),e.on("dataChange.konva",function(){this.dataArray=b.Path.parsePathData(this.attrs.data),this._setTextData()}),e.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",e._setTextData),t&&t.getKerning&&(i.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),e.kerningFunc(t.getKerning)),e._setTextData(),e}(n.TextPath=o).prototype._fillFunc=c,o.prototype._strokeFunc=u,o.prototype._fillFuncHit=c,o.prototype._strokeFuncHit=u,o.prototype.className="TextPath",o.prototype._attrsAffectingSize=["text","fontSize","data"],t._registerNode(o),a.Factory.addGetterSetter(o,"data"),a.Factory.addGetterSetter(o,"fontFamily","Arial"),a.Factory.addGetterSetter(o,"fontSize",12,h.getNumberValidator()),a.Factory.addGetterSetter(o,"fontStyle","normal"),a.Factory.addGetterSetter(o,"align","left"),a.Factory.addGetterSetter(o,"letterSpacing",0,h.getNumberValidator()),a.Factory.addGetterSetter(o,"textBaseline","middle"),a.Factory.addGetterSetter(o,"fontVariant","normal"),a.Factory.addGetterSetter(o,"text",""),a.Factory.addGetterSetter(o,"textDecoration",null),a.Factory.addGetterSetter(o,"kerningFunc",null),i.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41,"./Path":71,"./Text":77}],79:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var l=t("../Util"),a=t("../Factory"),s=t("../Node"),h=t("../Shape"),c=t("./Rect"),u=t("../Group"),y=t("../Global"),d=t("../Validators"),t=t("../Global"),p="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(function(t){return t+"."+p}).join(" "),x=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map(function(t){return t+"."+p}).join(" "),g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},_="ontouchstart"in y.Konva._global;var m=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function v(t,e,n){var r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),n=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return i(i({},t),{rotation:t.rotation+e,x:r,y:n})}function b(t,e){return v(t,e,{x:(t=t).x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)})}var w,o=(w=u.Group,o(S,w),S.prototype.attachTo=function(t){return this.setNode(t),this},S.prototype.setNode=function(t){return l.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},S.prototype.getNode=function(){return this._nodes&&this._nodes[0]},S.prototype.setNodes=function(t){var r=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),1===(this._nodes=t).length?this.rotation(t[0].rotation()):this.rotation(0),this._nodes.forEach(function(t){function e(){r._resetTransformCache(),r._transforming||r.update()}var n=t._attrsAffectingSize.map(function(t){return t+"Change."+p}).join(" ");t.on(n,e),t.on(x,e),t.on("_clearTransformCache."+p,e),t.on("xChange."+p+" yChange."+p,e),r._proxyDrag(t)}),this._resetTransformCache(),!this.findOne(".top-left")||this.update(),this},S.prototype._proxyDrag=function(o){var e,i=this;o.on("dragstart."+p,function(){e=o.getAbsolutePosition()}),o.on("dragmove."+p,function(){var t,n,r;e&&(t=o.getAbsolutePosition(),n=t.x-e.x,r=t.y-e.y,i.nodes().forEach(function(t){var e;t!==o&&(t.isDragging()||(e=t.getAbsolutePosition(),t.setAbsolutePosition({x:e.x+n,y:e.y+r}),t.startDrag()))}),e=null)})},S.prototype.getNodes=function(){return this._nodes},S.prototype.getActiveAnchor=function(){return this._movingAnchorName},S.prototype.detach=function(){this._nodes&&this._nodes.forEach(function(t){t.off("."+p)}),this._nodes=[],this._resetTransformCache()},S.prototype._resetTransformCache=function(){this._clearCache("nodesRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},S.prototype._getNodeRect=function(){return this._getCache("nodesRect",this.__getNodeRect)},S.prototype.__getNodeShape=function(t,e,n){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=t.getAbsoluteScale(n),i=t.getAbsolutePosition(n),a=r.x*o.x-t.offsetX()*o.x,n=r.y*o.y-t.offsetY()*o.y,t=(y.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return v({x:i.x+a*Math.cos(t)+n*Math.sin(-t),y:i.y+n*Math.cos(t)+a*Math.sin(t),width:r.width*o.x,height:r.height*o.y,rotation:t},-y.Konva.getAngle(e),{x:0,y:0})},S.prototype.__getNodeRect=function(){var r=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var o=[];this.nodes().map(function(t){var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:r.ignoreStroke()}),e=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t.getAbsoluteTransform();e.forEach(function(t){t=n.point(t);o.push(t)})});var e,n,i,a,s=new l.Transform;s.rotate(-y.Konva.getAngle(this.rotation())),o.forEach(function(t){t=s.point(t);void 0===e&&(e=i=t.x,n=a=t.y),e=Math.min(e,t.x),n=Math.min(n,t.y),i=Math.max(i,t.x),a=Math.max(a,t.y)}),s.invert();var t=s.point({x:e,y:n});return{x:t.x,y:t.y,width:i-e,height:a-n,rotation:y.Konva.getAngle(this.rotation())}},S.prototype.getX=function(){return this._getNodeRect().x},S.prototype.getY=function(){return this._getNodeRect().y},S.prototype.getWidth=function(){return this._getNodeRect().width},S.prototype.getHeight=function(){return this._getNodeRect().height},S.prototype._createElements=function(){this._createBack(),m.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},S.prototype._createAnchor=function(n){var r=this,o=new c.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:n+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_?10:"auto"}),e=this;o.on("mousedown touchstart",function(t){e._handleMouseDown(t)}),o.on("dragstart",function(t){o.stopDrag(),t.cancelBubble=!0}),o.on("dragend",function(t){t.cancelBubble=!0}),o.on("mouseenter",function(){var t,e=y.Konva.getAngle(r.rotation()),t=(t=e,"rotater"===(e=n)?"crosshair":(t+=l.Util._degToRad(g[e]||0),t=(l.Util._radToDeg(t)%360+360)%360,l.Util._inRange(t,337.5,360)||l.Util._inRange(t,0,22.5)?"ns-resize":l.Util._inRange(t,22.5,67.5)?"nesw-resize":l.Util._inRange(t,67.5,112.5)?"ew-resize":l.Util._inRange(t,112.5,157.5)?"nwse-resize":l.Util._inRange(t,157.5,202.5)?"ns-resize":l.Util._inRange(t,202.5,247.5)?"nesw-resize":l.Util._inRange(t,247.5,292.5)?"ew-resize":l.Util._inRange(t,292.5,337.5)?"nwse-resize":(l.Util.error("Transformer has unknown angle for cursor detection: "+t),"pointer")));o.getStage().content.style.cursor=t,r._cursorChange=!0}),o.on("mouseout",function(){o.getStage().content.style.cursor="",r._cursorChange=!1}),this.add(o)},S.prototype._createBack=function(){var r=this,t=new h.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*l.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:function(t,e){var n;r.shouldOverdrawWholeArea()&&(n=r.padding(),t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e))}});this.add(t),this._proxyDrag(t)},S.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,e=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/e),this.cos=Math.abs(n/e),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;n=t.target.getAbsolutePosition(),e=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:e.x-n.x,y:e.y-n.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this.getNode()._fire("transformstart",{evt:t,target:this.getNode()})},S.prototype._handleMouseMove=function(t){var e=this.findOne("."+this._movingAnchorName),n=e.getStage();n.setPointersPositions(t);var r=n.getPointerPosition(),n={x:r.x-this._anchorDragOffset.x,y:r.y-this._anchorDragOffset.y},r=e.getAbsolutePosition();e.setAbsolutePosition(n);var o,i,a,s,l,h,c,u,d,n=e.getAbsolutePosition();r.x===n.x&&r.y===n.y||("rotater"!==this._movingAnchorName?(r=this.keepRatio()||t.shiftKey,n=this.centeredScaling()||t.altKey,"top-left"===this._movingAnchorName?r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()},a=Math.sqrt(Math.pow(l.x-e.x(),2)+Math.pow(l.y-e.y(),2)),i=this.findOne(".top-left").x()>l.x?-1:1,s=this.findOne(".top-left").y()>l.y?-1:1,c=a*this.cos*i,u=a*this.sin*s,this.findOne(".top-left").x(l.x-c),this.findOne(".top-left").y(l.y-u)):"top-center"===this._movingAnchorName?this.findOne(".top-left").y(e.y()):"top-right"===this._movingAnchorName?(r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},a=Math.sqrt(Math.pow(e.x()-l.x,2)+Math.pow(l.y-e.y(),2)),i=this.findOne(".top-right").x()<l.x?-1:1,s=this.findOne(".top-right").y()>l.y?-1:1,c=a*this.cos*i,u=a*this.sin*s,this.findOne(".top-right").x(l.x+c),this.findOne(".top-right").y(l.y-u)),o=e.position(),this.findOne(".top-left").y(o.y),this.findOne(".bottom-right").x(o.x)):"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(e.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(e.x()):"bottom-left"===this._movingAnchorName?(r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},a=Math.sqrt(Math.pow(l.x-e.x(),2)+Math.pow(e.y()-l.y,2)),i=l.x<e.x()?-1:1,s=e.y()<l.y?-1:1,c=a*this.cos*i,u=a*this.sin*s,e.x(l.x-c),e.y(l.y+u)),o=e.position(),this.findOne(".top-left").x(o.x),this.findOne(".bottom-right").y(o.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(e.y()):"bottom-right"===this._movingAnchorName?r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},a=Math.sqrt(Math.pow(e.x()-l.x,2)+Math.pow(e.y()-l.y,2)),i=this.findOne(".bottom-right").x()<l.x?-1:1,s=this.findOne(".bottom-right").y()<l.y?-1:1,c=a*this.cos*i,u=a*this.sin*s,this.findOne(".bottom-right").x(l.x+c),this.findOne(".bottom-right").y(l.y+u)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName)),(n=this.centeredScaling()||t.altKey)&&(a=this.findOne(".top-left"),s=this.findOne(".bottom-right"),l=a.x(),n=a.y(),d=this.getWidth()-s.x(),h=this.getHeight()-s.y(),s.move({x:-l,y:-n}),a.move({x:d,y:h})),c=(d=this.findOne(".top-left").getAbsolutePosition()).x,u=d.y,h=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),d=this.findOne(".bottom-right").y()-this.findOne(".top-left").y(),this._fitNodesInto({x:c,y:u,width:h,height:d,rotation:y.Konva.getAngle(this.rotation())},t)):(d=this._getNodeRect(),c=e.x()-d.width/2,u=-e.y()+d.height/2,u=Math.atan2(-u,c)+Math.PI/2,d.height<0&&(u-=Math.PI),c=y.Konva.getAngle(this.rotation())+u,u=y.Konva.getAngle(this.rotationSnapTolerance()),d=b(d,function(t,e,n){for(var r=e,o=0;o<t.length;o++){var i=y.Konva.getAngle(t[o]),a=Math.abs(i-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=i)}return r}(this.rotationSnaps(),c,u)-d.rotation),this._fitNodesInto(d,t)))},S.prototype._handleMouseUp=function(t){this._removeEvents(t)},S.prototype.getAbsoluteTransform=function(){return this.getTransform()},S.prototype._removeEvents=function(t){var e;this._transforming&&(this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),e=this.getNode(),this._fire("transformend",{evt:t,target:e}),e&&e.fire("transformend",{evt:t,target:e}),this._movingAnchorName=null)},S.prototype._fitNodesInto=function(t,i){var e,n,r,a,s=this,o=this._getNodeRect();l.Util._inRange(t.width,2*-this.padding()-1,1)||l.Util._inRange(t.height,2*-this.padding()-1,1)?this.update():((e=new l.Transform).rotate(y.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&0<=this._movingAnchorName.indexOf("left")?(n=e.point({x:2*-this.padding(),y:0}),t.x+=n.x,t.y+=n.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y):this._movingAnchorName&&t.width<0&&0<=this._movingAnchorName.indexOf("right")&&(n=e.point({x:2*this.padding(),y:0}),this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y,t.width+=2*this.padding()),this._movingAnchorName&&t.height<0&&0<=this._movingAnchorName.indexOf("top")?(n=e.point({x:0,y:2*-this.padding()}),t.x+=n.x,t.y+=n.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y,t.height+=2*this.padding()):this._movingAnchorName&&t.height<0&&0<=this._movingAnchorName.indexOf("bottom")&&(n=e.point({x:0,y:2*this.padding()}),this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y,t.height+=2*this.padding()),this.boundBoxFunc()&&((r=this.boundBoxFunc()(o,t))?t=r:l.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")),(r=new l.Transform).translate(o.x,o.y),r.rotate(o.rotation),r.scale(o.width/1e7,o.height/1e7),(o=new l.Transform).translate(t.x,t.y),o.rotate(t.rotation),o.scale(t.width/1e7,t.height/1e7),a=o.multiply(r.invert()),this._nodes.forEach(function(t){var e=t.getParent().getAbsoluteTransform(),n=t.getTransform().copy();n.translate(t.offsetX(),t.offsetY());var r=new l.Transform;r.multiply(e.copy().invert()).multiply(a).multiply(e).multiply(n);var o=r.decompose();t._batchTransformChanges(function(){t.setAttrs(o)}),s._fire("transform",{evt:i,target:t}),t._fire("transform",{evt:i,target:t})}),this.rotation(l.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw())},S.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},S.prototype._batchChangeChild=function(t,e){var n=this.findOne(t);n._batchTransformChanges(function(){n.setAttrs(e)})},S.prototype.update=function(){var e=this,t=this._getNodeRect();this.rotation(l.Util._getRotation(t.rotation));var n=t.width,r=t.height,o=this.enabledAnchors(),i=this.resizeEnabled(),t=this.padding(),a=this.anchorSize();this.find("._anchor").each(function(t){t._batchTransformChanges(function(){t.setAttrs({width:a,height:a,offsetX:a/2,offsetY:a/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:a/2+t,offsetY:a/2+t,visible:i&&0<=o.indexOf("top-left")}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:a/2+t,visible:i&&0<=o.indexOf("top-center")}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:a/2-t,offsetY:a/2+t,visible:i&&0<=o.indexOf("top-right")}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:a/2+t,visible:i&&0<=o.indexOf("middle-left")}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:a/2-t,visible:i&&0<=o.indexOf("middle-right")}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:a/2+t,offsetY:a/2-t,visible:i&&0<=o.indexOf("bottom-left")}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:a/2-t,visible:i&&0<=o.indexOf("bottom-center")}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:a/2-t,offsetY:a/2-t,visible:i&&0<=o.indexOf("bottom-right")}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*l.Util._sign(r)-t,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0})},S.prototype.isTransforming=function(){return this._transforming},S.prototype.stopTransform=function(){var t;this._transforming&&(this._removeEvents(),(t=this.findOne("."+this._movingAnchorName))&&t.stopDrag())},S.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},S.prototype.toObject=function(){return s.Node.prototype.toObject.call(this)},S);function S(t){t=w.call(this,t)||this;return t._transforming=!1,t._createElements(),t._handleMouseMove=t._handleMouseMove.bind(t),t._handleMouseUp=t._handleMouseUp.bind(t),t.update=t.update.bind(t),t.on(f,t.update),t.getNode()&&t.update(),t}(n.Transformer=o).prototype.className="Transformer",t._registerNode(o),a.Factory.addGetterSetter(o,"enabledAnchors",m,function(t){return t instanceof Array||l.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(t){-1===m.indexOf(t)&&l.Util.warn("Unknown anchor name: "+t+". Available names are: "+m.join(", "))}),t||[]}),a.Factory.addGetterSetter(o,"resizeEnabled",!0),a.Factory.addGetterSetter(o,"anchorSize",10,d.getNumberValidator()),a.Factory.addGetterSetter(o,"rotateEnabled",!0),a.Factory.addGetterSetter(o,"rotationSnaps",[]),a.Factory.addGetterSetter(o,"rotateAnchorOffset",50,d.getNumberValidator()),a.Factory.addGetterSetter(o,"rotationSnapTolerance",5,d.getNumberValidator()),a.Factory.addGetterSetter(o,"borderEnabled",!0),a.Factory.addGetterSetter(o,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(o,"anchorStrokeWidth",1,d.getNumberValidator()),a.Factory.addGetterSetter(o,"anchorFill","white"),a.Factory.addGetterSetter(o,"anchorCornerRadius",0,d.getNumberValidator()),a.Factory.addGetterSetter(o,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(o,"borderStrokeWidth",1,d.getNumberValidator()),a.Factory.addGetterSetter(o,"borderDash"),a.Factory.addGetterSetter(o,"keepRatio",!0),a.Factory.addGetterSetter(o,"centeredScaling",!1),a.Factory.addGetterSetter(o,"ignoreStroke",!1),a.Factory.addGetterSetter(o,"padding",0,d.getNumberValidator()),a.Factory.addGetterSetter(o,"node"),a.Factory.addGetterSetter(o,"nodes"),a.Factory.addGetterSetter(o,"boundBoxFunc"),a.Factory.addGetterSetter(o,"shouldOverdrawWholeArea",!1),a.Factory.backCompat(o,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),l.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Group":33,"../Node":35,"../Shape":37,"../Util":40,"../Validators":41,"./Rect":72}],80:[function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../Util"),s=t("../Factory"),l=t("../Shape"),h=t("../Global"),c=t("../Validators"),t=t("../Global"),o=(i=l.Shape,o(u,i),u.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,h.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},u.prototype.getWidth=function(){return 2*this.radius()},u.prototype.getHeight=function(){return 2*this.radius()},u.prototype.setWidth=function(t){this.radius(t/2)},u.prototype.setHeight=function(t){this.radius(t/2)},u);function u(){return null!==i&&i.apply(this,arguments)||this}(n.Wedge=o).prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],t._registerNode(o),s.Factory.addGetterSetter(o,"radius",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"angle",0,c.getNumberValidator()),s.Factory.addGetterSetter(o,"clockwise",!1),s.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),a.Collection.mapMethods(o)},{"../Factory":30,"../Global":32,"../Shape":37,"../Util":40,"../Validators":41}],81:[function(t,e,n){var r,o,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,h=[],c=!1,u=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):u=-1,h.length&&y())}function y(){if(!c){var t=s(d);c=!0;for(var e=h.length;e;){for(l=h,h=[];++u<e;)l&&l[u].run();u=-1,e=h.length}l=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function f(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new p(t,e)),1!==h.length||c||s(y)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],82:[function(t,e,n){"use strict";e.exports.numbers=c,e.exports.sum=o,e.exports.mean=i,e.exports.median=function(t){if(0===(t=c(t)).length)return NaN;var e=t.length/2|0;return(t=u(t)).length%2?t[e]:(t[e-1]+t[e])/2},e.exports.mode=function(t){if(0===(t=c(t)).length)return NaN;for(var e=NaN,n={},r=0;r<t.length;r++){var o=t[r],i=n[o]||0;i++,n[o]=i}var a=c(Object.keys(n).sort(function(t,e){return n[e]-n[t]}));if(e=a[0],n[a[1]]!=n[e])return e;if(a.length==t.length)return t;for(var s=new Set([e]),l=n[e],r=1;r<a.length&&n[a[r]]==l;r++)s.add(a[r]);return s},e.exports.variance=s,e.exports.sampleVariance=l,e.exports.populationVariance=s,e.exports.stdev=h,e.exports.sampleStdev=function(t){return Math.sqrt(l(t))},e.exports.populationStdev=h,e.exports.percentile=function(t,e){if(0===(t=c(t)).length||null==e||e<0)return NaN;1<e&&(e=1);var n=(t=u(t)).length*e-.5;if((0|n)==n)return t[n];e=0|n,n-=e;return(1-n)*t[e]+n*t[Math.min(1+e,t.length-1)]},e.exports.histogram=function(t,e){if(null==t)return null;if(0===(t=u(c(t))).length)return null;null==e&&(e=Math.sqrt(t.length));(e=Math.round(e))<1&&(e=1);var n=t[0],r=t[t.length-1];n===r&&(n-=.5,r+=.5);var o=r-n,i=(o+.05*o)/e,r=(n+r)/2,a=r-i*Math.floor(e/2);e%2!=0&&(a=r-i/2-i*Math.floor(e/2));for(var s={values:Array(e).fill(0),bins:e,binWidth:i,binLimits:[a,a+i*e]},l=0,h=0;h<t.length;h++){for(;t[h]>(l+1)*i+a;)l++;s.values[l]++}return s};var r=t("isnumber");function c(t){var e=[];if(null==t)return e;for(var n=0;n<t.length;n++)r(t[n])&&e.push(+t[n]);return e}function u(t){return t.sort(function(t,e){return t-e})}function o(t){t=c(t);for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function i(t){return 0===(t=c(t)).length?NaN:o(t)/t.length}function a(t){for(var e=i(t=c(t)),n=[],r=0;r<t.length;r++)n.push(Math.pow(t[r]-e,2));return n}function s(t){return i(a(t))}function l(t){t=a(t);return t.length<=1?NaN:o(t)/(t.length-1)}function h(t){return Math.sqrt(s(t))}},{isnumber:23}],83:[function(t,j,e){!function(l){var h=/^\s+/,c=/\s+$/,r=0,i=l.round,u=l.min,d=l.max,t=l.random;function y(t,e){if(e=e||{},(t=t||"")instanceof y)return t;if(!(this instanceof y))return new y(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(h,"").replace(c,"").toLowerCase();var e,n=!1;if(C[t])t=C[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=U.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=U.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=U.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=U.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=U.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=U.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=U.hex8.exec(t))return{r:O(e[1]),g:O(e[2]),b:O(e[3]),a:E(e[4]),format:n?"name":"hex8"};if(e=U.hex6.exec(t))return{r:O(e[1]),g:O(e[2]),b:O(e[3]),format:n?"name":"hex"};if(e=U.hex4.exec(t))return{r:O(e[1]+""+e[1]),g:O(e[2]+""+e[2]),b:O(e[3]+""+e[3]),a:E(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=U.hex3.exec(t))return{r:O(e[1]+""+e[1]),g:O(e[2]+""+e[2]),b:O(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(B(t.r)&&B(t.g)&&B(t.b)?(e=function(t,e,n){return{r:255*F(t,255),g:255*F(e,255),b:255*F(n,255)}}(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):B(t.h)&&B(t.s)&&B(t.v)?(r=I(t.s),o=I(t.v),e=function(t,e,n){t=6*F(t,360),e=F(e,100),n=F(n,100);var r=l.floor(t),o=t-r,i=n*(1-e),t=n*(1-o*e),e=n*(1-(1-o)*e),r=r%6;return{r:255*[n,t,i,i,e,n][r],g:255*[e,n,n,t,i,i][r],b:255*[i,i,e,n,n,t][r]}}(t.h,r,o),a=!0,s="hsv"):B(t.h)&&B(t.s)&&B(t.l)&&(r=I(t.s),i=I(t.l),e=function(t,e,n){var r,o,i;function a(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}t=F(t,360),e=F(e,100),n=F(n,100),0===e?r=o=i=n:(r=a(e=2*n-(n=n<.5?n*(1+e):n+e-n*e),n,t+1/3),o=a(e,n,t),i=a(e,n,t-1/3));return{r:255*r,g:255*o,b:255*i}}(t.h,r,i),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));return n=T(n),{ok:a,format:t.format||s,r:u(255,d(e.r,0)),g:u(255,d(e.g,0)),b:u(255,d(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=i(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=n.ok,this._tc_id=r++}function o(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var r,o=d(t,e,n),i=u(t,e,n),a=(o+i)/2;if(o==i)r=l=0;else{var s=o-i,l=.5<a?s/(2-o-i):s/(o+i);switch(o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:l,l:a}}function a(t,e,n){t=F(t,255),e=F(e,255),n=F(n,255);var r,o=d(t,e,n),i=u(t,e,n),a=o,s=o-i,l=0===o?0:s/o;if(o==i)r=0;else{switch(o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:l,v:a}}function e(t,e,n,r){n=[G(i(t).toString(16)),G(i(e).toString(16)),G(i(n).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function s(t,e,n,r){return[G(R(r)),G(i(t).toString(16)),G(i(e).toString(16)),G(i(n).toString(16))].join("")}function n(t,e){e=0===e?0:e||10;t=y(t).toHsl();return t.s-=e/100,t.s=M(t.s),y(t)}function p(t,e){e=0===e?0:e||10;t=y(t).toHsl();return t.s+=e/100,t.s=M(t.s),y(t)}function f(t){return y(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;t=y(t).toHsl();return t.l+=e/100,t.l=M(t.l),y(t)}function g(t,e){e=0===e?0:e||10;t=y(t).toRgb();return t.r=d(0,u(255,t.r-i(-e/100*255))),t.g=d(0,u(255,t.g-i(-e/100*255))),t.b=d(0,u(255,t.b-i(-e/100*255))),y(t)}function _(t,e){e=0===e?0:e||10;t=y(t).toHsl();return t.l-=e/100,t.l=M(t.l),y(t)}function m(t,e){t=y(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,y(t)}function v(t){t=y(t).toHsl();return t.h=(t.h+180)%360,y(t)}function b(t){var e=y(t).toHsl(),n=e.h;return[y(t),y({h:(n+120)%360,s:e.s,l:e.l}),y({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=y(t).toHsl(),n=e.h;return[y(t),y({h:(n+90)%360,s:e.s,l:e.l}),y({h:(n+180)%360,s:e.s,l:e.l}),y({h:(n+270)%360,s:e.s,l:e.l})]}function S(t){var e=y(t).toHsl(),n=e.h;return[y(t),y({h:(n+72)%360,s:e.s,l:e.l}),y({h:(n+216)%360,s:e.s,l:e.l})]}function A(t,e,n){e=e||6,n=n||30;var r=y(t).toHsl(),o=360/n,i=[y(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,i.push(y(r));return i}function k(t,e){e=e||6;for(var t=y(t).toHsv(),n=t.h,r=t.s,o=t.v,i=[],a=1/e;e--;)i.push(y({h:n,s:r,v:o})),o=(o+a)%1;return i}y.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:l.pow((.055+e)/1.055,2.4),n=n<=.03928?n/12.92:l.pow((.055+n)/1.055,2.4),t=t<=.03928?t/12.92:l.pow((.055+t)/1.055,2.4);return.2126*e+.7152*n+.0722*t},setAlpha:function(t){return this._a=T(t),this._roundA=i(100*this._a)/100,this},toHsv:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=a(this._r,this._g,this._b),e=i(360*t.h),n=i(100*t.s),t=i(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+t+"%)":"hsva("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=i(360*t.h),n=i(100*t.s),t=i(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+t+"%)":"hsla("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,o){r=[G(i(t).toString(16)),G(i(e).toString(16)),G(i(n).toString(16)),G(R(r))];if(o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*F(this._r,255))+"%",g:i(100*F(this._g,255))+"%",b:i(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*F(this._r,255))+"%, "+i(100*F(this._g,255))+"%, "+i(100*F(this._b,255))+"%)":"rgba("+i(100*F(this._r,255))+"%, "+i(100*F(this._g,255))+"%, "+i(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&P[e(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),n=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(n=t?"#"+s((t=y(t))._r,t._g,t._b,t._a):n)+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&0<=this._a;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),(n="hsv"===t?this.toHsvString():n)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return y(this.toString())},_applyModification:function(t,e){e=t.apply(null,[this].concat([].slice.call(e)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},y.fromRatio=function(t,e){if("object"==typeof t){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:I(t[n]));t=r}return y(t,e)},y.equals=function(t,e){return!(!t||!e)&&y(t).toRgbString()==y(e).toRgbString()},y.random=function(){return y.fromRatio({r:t(),g:t(),b:t()})},y.mix=function(t,e,n){n=0===n?0:n||50;t=y(t).toRgb(),e=y(e).toRgb(),n/=100;return y({r:(e.r-t.r)*n+t.r,g:(e.g-t.g)*n+t.g,b:(e.b-t.b)*n+t.b,a:(e.a-t.a)*n+t.a})},y.readability=function(t,e){t=y(t),e=y(e);return(l.max(t.getLuminance(),e.getLuminance())+.05)/(l.min(t.getLuminance(),e.getLuminance())+.05)},y.isReadable=function(t,e,n){var r=y.readability(t,e),o=!1,n=function(t){var e;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==t&&"large"!==t&&(t="small");return{level:e,size:t}}(n);switch(n.level+n.size){case"AAsmall":case"AAAlarge":o=4.5<=r;break;case"AAlarge":o=3<=r;break;case"AAAsmall":o=7<=r}return o},y.mostReadable=function(t,e,n){for(var r,o=null,i=0,a=(n=n||{}).includeFallbackColors,s=n.level,l=n.size,h=0;h<e.length;h++)i<(r=y.readability(t,e[h]))&&(i=r,o=y(e[h]));return y.isReadable(t,o,{level:s,size:l})||!a?o:(n.includeFallbackColors=!1,y.mostReadable(t,["#fff","#000"],n))};var C=y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=y.hexNames=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}(C);function T(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t}function F(t,e){"string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(t="100%");var n,n="string"==typeof(n=t)&&-1!=n.indexOf("%");return t=u(e,d(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),l.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return u(1,d(0,t))}function O(t){return parseInt(t,16)}function G(t){return 1==t.length?"0"+t:""+t}function I(t){return t=t<=1?100*t+"%":t}function R(t){return l.round(255*parseFloat(t)).toString(16)}function E(t){return O(t)/255}var N,D,L,U=(D="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",L="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+D),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+D),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+D),hsva:new RegExp("hsva"+L),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function B(t){return U.CSS_UNIT.exec(t)}void 0!==j&&j.exports?j.exports=y:"function"==typeof define&&define.amd?define(function(){return y}):window.tinycolor=y}(Math)},{}],84:[function(t,e,n){var r,o;r=this,o=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=e(t),l={r:256,g:256,b:256,a:1},d={h:360,s:1,v:1,a:1};function y(t,e,n){var r,o={};for(r in t)t.hasOwnProperty(r)&&(o[r]=0===n?0:(e[r]-t[r])/n);return o}function p(t,e,n,r){var o,i={};for(o in e)e.hasOwnProperty(o)&&(i[o]=t[o]*n+e[o],i[o]=i[o]<0?i[o]+r[o]:1!==r[o]?i[o]%r[o]:i[o]);return i}function f(t,e,n){for(var r=t.color.toRgb(),o=y(r,e.color.toRgb(),n),i=[t.color],a=1;a<n;a++){var s=p(o,r,a,l);i.push(u.default(s))}return i}function h(t,e,n,r){var o,i=t.color.toHsv(),a=e.color.toHsv();if(0===i.s||0===a.s)return f(t,e,n);o="boolean"==typeof r?r:(o=i.h<a.h&&a.h-i.h<180||i.h>a.h&&180<i.h-a.h,"long"===r&&o||"short"===r&&!o);var s=y(i,a,n),l=[t.color],a=i.h<=a.h&&!o||i.h>=a.h&&o?a.h-i.h:o?360-a.h+i.h:360-i.h+a.h;s.h=Math.pow(-1,o?1:0)*Math.abs(a)/n;for(var h=1;h<n;h++){var c=p(s,i,h,d);l.push(u.default(c))}return l}function c(t,e){var n=t.length;if(e=parseInt(e,10),isNaN(e)||e<2)throw new Error("Invalid number of steps (< 2)");if(e<n)throw new Error("Number of steps cannot be inferior to number of stops");for(var r=[],o=1;o<n;o++){var i=(e-1)*(t[o].pos-t[o-1].pos);r.push(Math.max(1,Math.round(i)))}for(var a,s=1,l=n-1;l--;)s+=r[l];for(;s!==e;)s<e?(a=Math.min.apply(null,r),r[r.indexOf(a)]++,s++):(a=Math.max.apply(null,r),r[r.indexOf(a)]--,s--);return r}function n(t,e,n,r){if(e<0||1<e)throw new Error("Position must be between 0 and 1");for(var o,i=0,a=t.length;i<a-1;i++)if(e>=t[i].pos&&e<t[i+1].pos){s=t[i],o=t[i+1];break}var s,r=p(y((s=s||(o=t[t.length-1])).color[n](),o.color[n](),100*(o.pos-s.pos)),s.color[n](),100*(e-s.pos),r);return u.default(r)}var r=function(){function t(t){if(t.length<2)throw new Error("Invalid number of stops (< 2)");var r=void 0!==t[0].pos,o=t.length,i=-1,a=!1;this.stops=t.map(function(t,e){var n=void 0!==t.pos;if(r^n)throw new Error("Cannot mix positionned and not posionned color stops");if(n){n=void 0!==t.color;if(!n&&(a||0===e||e===o-1))throw new Error("Cannot define two consecutive position-only stops");if(a=!n,(t={color:n?u.default(t.color):null,colorLess:!n,pos:t.pos}).pos<0||1<t.pos)throw new Error("Color stops positions must be between 0 and 1");if(t.pos<i)throw new Error("Color stops positions are not ordered");i=t.pos}else t={color:u.default(void 0!==t.color?t.color:t),pos:e/(o-1)};return t}),0!==this.stops[0].pos&&(this.stops.unshift({color:this.stops[0].color,pos:0}),o++),1!==this.stops[o-1].pos&&this.stops.push({color:this.stops[o-1].color,pos:1})}var e=t.prototype;return e.reverse=function(){var e=[];return this.stops.forEach(function(t){e.push({color:t.color,pos:1-t.pos})}),new t(e.reverse())},e.loop=function(){var e=[],n=[];return this.stops.forEach(function(t){e.push({color:t.color,pos:t.pos/2})}),this.stops.slice(0,-1).forEach(function(t){n.push({color:t.color,pos:1-t.pos/2})}),new t(e.concat(n.reverse()))},e.rgb=function(t){var n=this,e=c(this.stops,t),r=[];this.stops.forEach(function(t,e){t.colorLess&&(t.color=f(n.stops[e-1],n.stops[e+1],2)[1])});for(var o=0,i=this.stops.length;o<i-1;o++){var a=f(this.stops[o],this.stops[o+1],e[o]);r.splice.apply(r,[r.length,0].concat(a))}return r.push(this.stops[this.stops.length-1].color),r},e.hsv=function(t,n){var r=this,e=c(this.stops,t),o=[];this.stops.forEach(function(t,e){t.colorLess&&(t.color=h(r.stops[e-1],r.stops[e+1],2,n)[1])});for(var i=0,a=this.stops.length;i<a-1;i++){var s=h(this.stops[i],this.stops[i+1],e[i],n);o.splice.apply(o,[o.length,0].concat(s))}return o.push(this.stops[this.stops.length-1].color),o},e.css=function(t,e){var n=(t=t||"linear")+"-gradient("+(e=e||("linear"===t?"to right":"ellipse at center"));return this.stops.forEach(function(t){n+=", "+(t.colorLess?"":t.color.toRgbString()+" ")+100*t.pos+"%"}),n+=")"},e.rgbAt=function(t){return n(this.stops,t,"toRgb",l)},e.hsvAt=function(t){return n(this.stops,t,"toHsv",d)},t}();return function(t){if(1===arguments.length){if(!(arguments[0]instanceof Array))throw new Error('"stops" is not an array');t=arguments[0]}else t=Array.prototype.slice.call(arguments);return new r(t)}},"object"==typeof n&&void 0!==e?e.exports=o(t("tinycolor2")):"function"==typeof define&&define.amd?define(["tinycolor2"],o):(r="undefined"!=typeof globalThis?globalThis:r||self).tinygradient=o(r.tinycolor)},{tinycolor2:83}],85:[function(t,r,e){!function(t){!function(){var e,n,i,a,s,l,h,c,u,d,y,p,f,x,g,_,m,v,b,w,S,A,k,C;!function(e){var o="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:{};function n(n,r){return n!==o&&("function"==typeof Object.create?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(t,e){return n[t]=r?r(t,e):e}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(t){e(n(o,n(t)))}):"object"==typeof r&&"object"==typeof r.exports?e(n(o,n(r.exports))):e(n(o))}(function(t){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i=function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n},a=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a},s=function(n,r){return function(t,e){r(t,e,n)}},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t,a,s,l){return new(s=s||Promise)(function(n,e){function r(t){try{i(l.next(t))}catch(t){e(t)}}function o(t){try{i(l.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,o)}i((l=l.apply(t,a||[])).next())})},c=function(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},u=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||C(e,t,n)},C=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){t[r=void 0===r?n:r]=e[n]},d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t},f=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},x=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},g=function(t){return this instanceof g?(this.v=t,this):new g(t)},_=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i=[],a={};return r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a;function r(r){o[r]&&(a[r]=function(n){return new Promise(function(t,e){1<i.push([r,n,t,e])||s(r,n)})})}function s(t,e){try{(n=o[t](e)).value instanceof g?Promise.resolve(n.value.v).then(l,h):c(i[0][2],n)}catch(t){c(i[0][3],t)}var n}function l(t){s("next",t)}function h(t){s("throw",t)}function c(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}},m=function(r){var o,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=r[e]?function(t){return(o=!o)?{value:g(r[e](t)),done:"return"===e}:n?n(t):t}:n}},v=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=a[Symbol.asyncIterator];return e?e.call(a):(a=d(a),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=a[i]&&function(o){return new Promise(function(t,e){var n,r;o=a[i](o),n=t,t=e,r=o.done,e=o.value,Promise.resolve(e).then(function(t){n({value:t,done:r})},t)})}}},b=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var o=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&C(e,t,n);return o(e,t),e},S=function(t){return t&&t.__esModule?t:{default:t}},A=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},k=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},t("__extends",e),t("__assign",n),t("__rest",i),t("__decorate",a),t("__param",s),t("__metadata",l),t("__awaiter",h),t("__generator",c),t("__exportStar",u),t("__createBinding",C),t("__values",d),t("__read",y),t("__spread",p),t("__spreadArrays",f),t("__spreadArray",x),t("__await",g),t("__asyncGenerator",_),t("__asyncDelegator",m),t("__asyncValues",v),t("__makeTemplateObject",b),t("__importStar",w),t("__importDefault",S),t("__classPrivateFieldGet",A),t("__classPrivateFieldSet",k)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],86:[function(t,e,n){e.exports={backgroud:"#121212",foreground:"#F9F9F9",active:"#f9c74f",selection:"#90be6d",helper:"#adb5bd",error:"#f94144",focusBorder:"#181a1f",red:"#704040",green:"#407040",yellow:"#707040",attachment_1:"#a8a8a8",attachment_2:"#51a8d6",attachment_3:"#b237c8"}},{}]},{},[3]);